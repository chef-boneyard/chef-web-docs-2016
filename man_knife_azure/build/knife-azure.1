.TH "KNIFE-AZURE" "1" "October 05, 2012" "0.0.1" "knife-azure"
.SH NAME
knife-azure \- knife-azure
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.\" Man page generated from reStructuredText.
.
.sp
Windows Azure is a cloud hosting platform from Microsoft that provides virtual machines for Linux and Windows Server, cloud and database services, and more. The \fBazure\fP sub\-command is used to manage API\-driven cloud servers that are hosted by Windows Azure.
.sp
The \fBazure\fP sub\-command must use a management certificate for secure communication with Windows Azure.
.sp
This plugin is available on github: \fI\%https://github.com/opscode/knife-azure\fP.
.IP Note
This plugin requires the \fBknife windows\fP plugin to be present on the same machine: \fI\%https://github.com/opscode/knife-windows\fP.
.RE
.sp
This sub\-command has the following syntax:
.sp
.nf
.ft C
knife azure [ARGUMENT] (options)
.ft P
.fi
.SH IMAGE LIST
.sp
The \fBimage list\fP argument is used to get a list of images that exist in a Windows Azure environment. Any image in this list may be used for provisioning. The results may show instances that are not currently managed by the Chef server.
.sp
This argument has the following syntax:
.sp
.nf
.ft C
knife azure image list (options)
.ft P
.fi
.sp
This argument has the following options:
.INDENT 0.0
.TP
.B \fB\-c CONFIG\fP, \fB\-\-config CONFIG\fP
The configuration file to use.
.TP
.B \fB\-\-color\fP
Indicates that colored output will be used.
.TP
.B \fB\-\-defaults\fP
Indicates that Knife will use the default value, instead of asking a user to provide one.
.TP
.B \fB\-e EDITOR\fP, \fB\-\-editor EDITOR\fP
The $EDITOR that is used for all interactive commands.
.TP
.B \fB\-E ENVIRONMENT\fP, \fB\-\-environment ENVIRONMENT\fP
The name of the Chef server environment.
.TP
.B \fB\-F FORMAT\fP, \fB\-\-format FORMAT\fP
The output format: \fBsummary\fP (default), \fBtext\fP, \fBjson\fP, \fByaml\fP, and \fBpp\fP.
.TP
.B \fB\-h\fP, \fB\-\-help\fP
Shows help for Knife or for a sub\-command.
.TP
.B \fB\-H HOST_NAME\fP, \fB\-\-azure_host_name HOST_NAME\fP
The host name for the Windows Azure environment.
.TP
.B \fB\-k KEY\fP, \fB\-\-key KEY\fP
The API key that a chef\-client must provide before it can access a Chef server.
.TP
.B \fB\-\-no\-color\fP
Indicates that color will not be used in the output.
.TP
.B \fB\-n\fP, \fB\-\-disable\-editing\fP
Indicates that $EDITOR will not be opened; data will be accepted as\-is.
.TP
.B \fB\-p FILE_NAME\fP, \fB\-\-azure\-pem\-filename FILE_NAME\fP
The name of the file that contains the SSH public key that is used when authenticating to Windows Azure.
.TP
.B \fB\-\-print\-after\fP
Indicates that data will be shown after a destructive operation.
.TP
.B \fB\-s URL\fP, \fB\-\-server\-url URL\fP
The URL for the Chef server.
.TP
.B \fB\-S ID\fP, \fB\-\-azure\-subscription\-id ID\fP
The subscription identifier for the Windows Azure portal.
.TP
.B \fB\-u USER\fP, \fB\-\-user USER\fP
The user name for the chef\-client.
.TP
.B \fB\-v\fP, \fB\-\-version\fP
Shows the version of Chef.
.TP
.B \fB\-V\fP, \fB\-\-verbose\fP
Set for more verbose outputs. Use \fB\-VV\fP for maximum verbosity.
.TP
.B \fB\-\-verify\-ssl\-cert\fP
The SSL certificate that is used to verify communication over HTTPS.
.TP
.B \fB\-y\fP, \fB\-\-yes\fP
Indicates that "yes" will be the response to all confirmation prompts (and that Knife will not ask a user for confirmation).
.UNINDENT
.SH SERVER CREATE
.sp
The \fBserver create\fP argument is used to create a new Windows Azure cloud instance. This will provision a new image in Windows Azure, perform a Chef bootstrap (using the SSH protocol), and then install Chef on the target system so that it can be run as a chef\-client and communicate with a Chef server.
.sp
This argument has the following syntax:
.sp
.nf
.ft C
knife azure server create (options)
.ft P
.fi
.sp
This argument has the following options:
.INDENT 0.0
.TP
.B \fB\-a STORAGE_ACCOUNT_NAME\fP, \fB\-\-storage\-account STORAGE_ACCOUNT_NAME\fP
The name of the storage account used with the hosted service.
.TP
.B \fB\-\-bootstrap\-protocol PROTOCOL\fP
The protocol used to bootstrap on a machine that is running Windows Server: \fBwinrm\fP or \fBssh\fP. Default value: \fBwinrm\fP.
.TP
.B \fB\-\-bootstrap\-version VERSION\fP
The version of Chef to install.
.TP
.B \fB\-c CONFIG\fP, \fB\-\-config CONFIG\fP
The configuration file to use.
.TP
.B \fB\-\-color\fP
Indicates that colored output will be used.
.TP
.B \fB\-d DISTRO\fP, \fB\-\-distro DISTRO\fP
Indicates that a bootstrap operation will use a template file. If this option is used the name of the template file (\fB\-\-template\-file\fP) must also be provided. The following distributions are supported: \fBchef\-full\fP (the default bootstrap), \fBcentos5\-gems\fP, \fBfedora13\-gems\fP, \fBubuntu10.04\-gems\fP, \fBubuntu10.04\-apt\fP, and \fBubuntu12.04\-gems\fP.
.TP
.B \fB\-D DESCRIPTION\fP
The description for the host.
.TP
.B \fB\-\-defaults\fP
Indicates that Knife will use the default value, instead of asking a user to provide one.
.TP
.B \fB\-e EDITOR\fP, \fB\-\-editor EDITOR\fP
The $EDITOR that is used for all interactive commands.
.TP
.B \fB\-E ENVIRONMENT\fP, \fB\-\-environment ENVIRONMENT\fP
The name of the Chef server environment.
.TP
.B \fB\-F FORMAT\fP, \fB\-\-format FORMAT\fP
The output format: \fBsummary\fP (default), \fBtext\fP, \fBjson\fP, \fByaml\fP, and \fBpp\fP.
.TP
.B \fB\-h\fP, \fB\-\-help\fP
Shows help for Knife or for a sub\-command.
.TP
.B \fB\-H HOST_NAME\fP, \fB\-\-azure_host_name HOST_NAME\fP
The host name for the Windows Azure environment.
.TP
.B \fB\-i IDENTITY_FILE\fP, \fB\-\-identity\-file IDENTITY_FILE\fP
The SSH identity file used for authentication. Key\-based authentication is recommended.
.TP
.B \fB\-I IMAGE\fP, \fB\-\-source\-image IMAGE\fP
The name of the disk image that will be used to create the virtual machine.
.TP
.B \fB\-k KEY\fP, \fB\-\-key KEY\fP
The API key that a chef\-client must provide before it can access a Chef server.
.TP
.B \fB\-m LOCATION\fP, \fB\-\-service\-location LOCATION\fP
The geographic location for a virtual machine and its services.
.TP
.B \fB\-n\fP, \fB\-\-disable\-editing\fP
Indicates that $EDITOR will not be opened; data will be accepted as\-is.
.TP
.B \fB\-N NAME\fP, \fB\-\-node\-name NAME\fP
The name of the node on the Chef server. Node names in Chef, when used with Windows Azure, must be 91 characters or shorter.
.TP
.B \fB\-\-[no\-]host\-key\-verify\fP
Use \fB\-\-no\-host\-key\-verify\fP to disable host key verification. Host key verification is enabled by default.
.TP
.B \fB\-\-no\-color\fP
Indicates that color will not be used in the output.
.TP
.B \fB\-o DISK_NAME\fP, \fB\-\-os\-disk\-name DISK_NAME\fP
The operating system type of the Windows Azure OS image: \fBLinux\fP or \fBWindows\fP.
.TP
.B \fB\-p FILE_NAME\fP, \fB\-\-azure\-pem\-filename FILE_NAME\fP
The name of the file that contains the SSH public key that is used when authenticating to Windows Azure.
.TP
.B \fB\-P PASSWORD\fP, \fB\-\-ssh\-password PASSWORD\fP
The SSH password. This can be used to pass the password directly on the command line. If this option is not specified (and a password is required) Knife will prompt for the password.
.TP
.B \fB\-\-prerelease\fP
Indicates that pre\-release Chef gems should be installed.
.TP
.B \fB\-\-print\-after\fP
Indicates that data will be shown after a destructive operation.
.TP
.B \fB\-r RUN_LIST\fP, \fB\-\-run\-list RUN_LIST\fP
A comma\-separated list of roles and/or recipes to be applied.
.TP
.B \fB\-R ROLE_NAME\fP, \fB\-\-role\-name ROLE_NAME\fP
The name of the virtual machine.
.TP
.B \fB\-s SERVICE_NAME\fP, \fB\-\-hosted\-service\-name SERVICE_NAME\fP
The name of the hosted service.
.TP
.B \fB\-s URL\fP, \fB\-\-server\-url URL\fP
The URL for the Chef server.
.TP
.B \fB\-S ID\fP, \fB\-\-azure\-subscription\-id ID\fP
The subscription identifier for the Windows Azure portal.
.TP
.B \fB\-t PORT_LIST\fP, \fB\-\-tcp\-endpoints PORT_LIST\fP
A comma\-separated list of local and public TCP ports that will be opened, for example: \fB80:80,433:5000\fP.
.TP
.B \fB\-\-template\-file TEMPLATE\fP
The path to the template file that will be used during a bootstrap operation.
.TP
.B \fB\-u PORT_LIST\fP, \fB\-\-\-udp\-endpoints PORT_LIST\fP
A comma\-separated list of local and public UDP ports that will be opened, for example: \fB80:80,433:5000\fP.
.TP
.B \fB\-u USER\fP, \fB\-\-user USER\fP
The user name for the chef\-client.
.TP
.B \fB\-v\fP, \fB\-\-version\fP
Shows the version of Chef.
.TP
.B \fB\-V\fP, \fB\-\-verbose\fP
Set for more verbose outputs. Use \fB\-VV\fP for maximum verbosity.
.TP
.B \fB\-\-verify\-ssl\-cert\fP
The SSL certificate that is used to verify communication over HTTPS.
.TP
.B \fB\-x USER_NAME\fP, \fB\-\-ssh\-user USER_NAME\fP
The SSH user name.
.TP
.B \fB\-y\fP, \fB\-\-yes\fP
Indicates that "yes" will be the response to all confirmation prompts (and that Knife will not ask a user for confirmation).
.TP
.B \fB\-z SIZE\fP, \fB\-\-role\-size SIZE\fP
The size of the virtual machine: \fBExtraSmall\fP, \fBSmall\fP, \fBMedium\fP, \fBLarge\fP, or \fBExtraLarge\fP.
.UNINDENT
.sp
For example, to provision a medium\-sized CentOS machine configured as a web server in the "West US" data center, while also creating new hosted service and storage accounts, enter something like:
.sp
.nf
.ft C
$ knife azure server create \-r "role[webserver]" \-\-service\-location "West US" \-\-ssh\-user foo
  \-\-ssh\-\-password password \-\-role\-name web\-apache\-0001 \-\-host\-name web\-apache
  \-\-tcp\-endpoints 80:80,8080:8080 \-\-source\-image name_of_source_image \-\-role\-size Medium
.ft P
.fi
.sp
To provision a medium\-sized CentOS machine configured as a web server in the "West US" data center, while reusing existing hosted service and storage accounts, enter something like:
.sp
.nf
.ft C
$ knife azure server create \-r "role[webserver]" \-\-service\-location "West US"
  \-\-hosted\-service\-name webservers \-\-storage\-account webservers\-storage \-\-ssh\-user foo
  \-\-ssh\-\-password password \-\-role\-name web\-apache\-0001 \-\-host\-name web\-apache
  \-\-tcp\-endpoints 80:80,8080:8080 \-\-source\-image name_of_source_image \-\-role\-size Medium
.ft P
.fi
.SH SERVER DELETE
.sp
The \fBserver delete\fP argument is used to delete one or more instances that are running in the Windows Azure cloud. To find a specific cloud instance, use \fBknife azure server list\fP. Use the \fB\-\-purge\fP option to delete all associated node and client objects from the Chef server or use the \fBknife node delete\fP and \fBknife client delete\fP sub\-commands to delete specific node and client objects.
.sp
This argument has the following syntax:
.sp
.nf
.ft C
knife azure server delete [SERVER...] (options)
.ft P
.fi
.sp
This argument has the following options:
.INDENT 0.0
.TP
.B \fB\-c CONFIG\fP, \fB\-\-config CONFIG\fP
The configuration file to use.
.TP
.B \fB\-\-color\fP
Indicates that colored output will be used.
.TP
.B \fB\-\-defaults\fP
Indicates that Knife will use the default value, instead of asking a user to provide one.
.TP
.B \fB\-e EDITOR\fP, \fB\-\-editor EDITOR\fP
The $EDITOR that is used for all interactive commands.
.TP
.B \fB\-E ENVIRONMENT\fP, \fB\-\-environment ENVIRONMENT\fP
The name of the Chef server environment.
.TP
.B \fB\-F FORMAT\fP, \fB\-\-format FORMAT\fP
The output format: \fBsummary\fP (default), \fBtext\fP, \fBjson\fP, \fByaml\fP, and \fBpp\fP.
.TP
.B \fB\-h\fP, \fB\-\-help\fP
Shows help for Knife or for a sub\-command.
.TP
.B \fB\-H HOST_NAME\fP, \fB\-\-azure_host_name HOST_NAME\fP
The host name for the Windows Azure environment.
.TP
.B \fB\-k KEY\fP, \fB\-\-key KEY\fP
The API key that a chef\-client must provide before it can access a Chef server.
.TP
.B \fB\-n\fP, \fB\-\-disable\-editing\fP
Indicates that $EDITOR will not be opened; data will be accepted as\-is.
.TP
.B \fB\-\-no\-color\fP
Indicates that color will not be used in the output.
.TP
.B \fB\-N NODE_NAME\fP, \fB\-\-node\-name NODE_NAME\fP
The name of the node and client to delete, if different from the server name. This must be used with the \fB\-\-purge\fP option. This must be used with the \fB\-p\fP (purge) option.
.TP
.B \fB\-p FILE_NAME\fP, \fB\-\-azure\-pem\-filename FILE_NAME\fP
The name of the file that contains the SSH public key that is used when authenticating to Windows Azure.
.TP
.B \fB\-P\fP, \fB\-\-purge\fP
Indicates that all corresponding nodes and clients on the Chef server will be destroyed, in addition to the Windows Azure node itself. This action (by itself) assumes that the node and client have the same name as the server; if they do not have the same names, then the \fB\-\-node\-name\fP option must be used to specify the name of the node.
.TP
.B \fB\-\-print\-after\fP
Indicates that data will be shown after a destructive operation.
.TP
.B \fB\-\-purge\-os\-disk\fP
Indicates that all corresponding operating system disks will be destroyed, in addition to the Windows Azure node itself.
.TP
.B \fB\-s URL\fP, \fB\-\-server\-url URL\fP
The URL for the Chef server.
.TP
.B \fB\-S ID\fP, \fB\-\-azure\-subscription\-id ID\fP
The subscription identifier for the Windows Azure portal.
.TP
.B \fB\-u USER\fP, \fB\-\-user USER\fP
The user name for the chef\-client.
.TP
.B \fB\-v\fP, \fB\-\-version\fP
Shows the version of Chef.
.TP
.B \fB\-V\fP, \fB\-\-verbose\fP
Set for more verbose outputs. Use \fB\-VV\fP for maximum verbosity.
.TP
.B \fB\-\-verify\-ssl\-cert\fP
The SSL certificate that is used to verify communication over HTTPS.
.TP
.B \fB\-y\fP, \fB\-\-yes\fP
Indicates that "yes" will be the response to all confirmation prompts (and that Knife will not ask a user for confirmation).
.UNINDENT
.sp
For example, to delete an instance named "devops12", enter:
.sp
.nf
.ft C
$ knife azure server delete devops12
.ft P
.fi
.SH SERVER DESCRIBE
.sp
The \fBserver describe\fP argument is used to view a detailed description of one or more roles that exist in a Windows Azure cloud instance. For each specified role name, information such as status, size, hosted service name, deployment name, ports (open, local, public) and IP are displayed.
.sp
This argument has the following syntax:
.sp
.nf
.ft C
knife azure server describe [ROLE_NAME...]
.ft P
.fi
.sp
This argument has the following options:
.INDENT 0.0
.TP
.B \fB\-c CONFIG\fP, \fB\-\-config CONFIG\fP
The configuration file to use.
.TP
.B \fB\-\-color\fP
Indicates that colored output will be used.
.TP
.B \fB\-\-defaults\fP
Indicates that Knife will use the default value, instead of asking a user to provide one.
.TP
.B \fB\-e EDITOR\fP, \fB\-\-editor EDITOR\fP
The $EDITOR that is used for all interactive commands.
.TP
.B \fB\-E ENVIRONMENT\fP, \fB\-\-environment ENVIRONMENT\fP
The name of the Chef server environment.
.TP
.B \fB\-F FORMAT\fP, \fB\-\-format FORMAT\fP
The output format: \fBsummary\fP (default), \fBtext\fP, \fBjson\fP, \fByaml\fP, and \fBpp\fP.
.TP
.B \fB\-h\fP, \fB\-\-help\fP
Shows help for Knife or for a sub\-command.
.TP
.B \fB\-H HOST_NAME\fP, \fB\-\-azure_host_name HOST_NAME\fP
The host name for the Windows Azure environment.
.TP
.B \fB\-k KEY\fP, \fB\-\-key KEY\fP
The API key that a chef\-client must provide before it can access a Chef server.
.TP
.B \fB\-n\fP, \fB\-\-disable\-editing\fP
Indicates that $EDITOR will not be opened; data will be accepted as\-is.
.TP
.B \fB\-\-no\-color\fP
Indicates that color will not be used in the output.
.TP
.B \fB\-p FILE_NAME\fP, \fB\-\-azure\-pem\-filename FILE_NAME\fP
The name of the file that contains the SSH public key that is used when authenticating to Windows Azure.
.TP
.B \fB\-\-print\-after\fP
Indicates that data will be shown after a destructive operation.
.TP
.B \fB\-s URL\fP, \fB\-\-server\-url URL\fP
The URL for the Chef server.
.TP
.B \fB\-S ID\fP, \fB\-\-azure\-subscription\-id ID\fP
The subscription identifier for the Windows Azure portal.
.TP
.B \fB\-u USER\fP, \fB\-\-user USER\fP
The user name for the chef\-client.
.TP
.B \fB\-v\fP, \fB\-\-version\fP
Shows the version of Chef.
.TP
.B \fB\-V\fP, \fB\-\-verbose\fP
Set for more verbose outputs. Use \fB\-VV\fP for maximum verbosity.
.TP
.B \fB\-\-verify\-ssl\-cert\fP
The SSL certificate that is used to verify communication over HTTPS.
.TP
.B \fB\-y\fP, \fB\-\-yes\fP
Indicates that "yes" will be the response to all confirmation prompts (and that Knife will not ask a user for confirmation).
.UNINDENT
.sp
For example, to view the details for a role named "admin", enter:
.sp
.nf
.ft C
$ knife azure server describe admin
.ft P
.fi
.SH SERVER LIST
.sp
The \fBserver list\fP argument is used to find instances that are associated with a Windows Azure account.
.sp
This argument has the following syntax:
.sp
.nf
.ft C
knife azure server list
.ft P
.fi
.sp
This argument has the following options:
.INDENT 0.0
.TP
.B \fB\-c CONFIG\fP, \fB\-\-config CONFIG\fP
The configuration file to use.
.TP
.B \fB\-\-color\fP
Indicates that colored output will be used.
.TP
.B \fB\-\-defaults\fP
Indicates that Knife will use the default value, instead of asking a user to provide one.
.TP
.B \fB\-e EDITOR\fP, \fB\-\-editor EDITOR\fP
The $EDITOR that is used for all interactive commands.
.TP
.B \fB\-E ENVIRONMENT\fP, \fB\-\-environment ENVIRONMENT\fP
The name of the Chef server environment.
.TP
.B \fB\-F FORMAT\fP, \fB\-\-format FORMAT\fP
The output format: \fBsummary\fP (default), \fBtext\fP, \fBjson\fP, \fByaml\fP, and \fBpp\fP.
.TP
.B \fB\-h\fP, \fB\-\-help\fP
Shows help for Knife or for a sub\-command.
.TP
.B \fB\-H HOST_NAME\fP, \fB\-\-azure_host_name HOST_NAME\fP
The host name for the Windows Azure environment.
.TP
.B \fB\-k KEY\fP, \fB\-\-key KEY\fP
The API key that a chef\-client must provide before it can access a Chef server.
.TP
.B \fB\-n\fP, \fB\-\-disable\-editing\fP
Indicates that $EDITOR will not be opened; data will be accepted as\-is.
.TP
.B \fB\-\-no\-color\fP
Indicates that color will not be used in the output.
.TP
.B \fB\-p FILE_NAME\fP, \fB\-\-azure\-pem\-filename FILE_NAME\fP
The name of the file that contains the SSH public key that is used when authenticating to Windows Azure.
.TP
.B \fB\-\-print\-after\fP
Indicates that data will be shown after a destructive operation.
.TP
.B \fB\-s URL\fP, \fB\-\-server\-url URL\fP
The URL for the Chef server.
.TP
.B \fB\-S ID\fP, \fB\-\-azure\-subscription\-id ID\fP
The subscription identifier for the Windows Azure portal.
.TP
.B \fB\-u USER\fP, \fB\-\-user USER\fP
The user name for the chef\-client.
.TP
.B \fB\-v\fP, \fB\-\-version\fP
Shows the version of Chef.
.TP
.B \fB\-V\fP, \fB\-\-verbose\fP
Set for more verbose outputs. Use \fB\-VV\fP for maximum verbosity.
.TP
.B \fB\-\-verify\-ssl\-cert\fP
The SSL certificate that is used to verify communication over HTTPS.
.TP
.B \fB\-y\fP, \fB\-\-yes\fP
Indicates that "yes" will be the response to all confirmation prompts (and that Knife will not ask a user for confirmation).
.UNINDENT
.SH AUTHOR
Opscode, Inc.
.SH COPYRIGHT
2012, Opscode, Inc
.\" Generated by docutils manpage writer.
.
