

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Knife Command Line Reference &mdash; Opscode: Knife Command Line Reference</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.0.1-1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Opscode: Knife Command Line Reference" href="#" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="#">Opscode: Knife Command Line Reference</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="#">
              <img class="logo" src="_static/opscode_html_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Knife Command Line Reference</a><ul>
<li><a class="reference internal" href="#working-with-knife">Working with Knife</a><ul>
<li><a class="reference internal" href="#json-data-format">JSON Data Format</a></li>
<li><a class="reference internal" href="#using-quotes">Using Quotes</a></li>
<li><a class="reference internal" href="#sub-commands">Sub-commands</a></li>
<li><a class="reference internal" href="#syntax">Syntax</a></li>
<li><a class="reference internal" href="#common-options">Common Options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#azure-plug-in">azure (plug-in)</a><ul>
<li><a class="reference internal" href="#image-list">image list</a></li>
<li><a class="reference internal" href="#server-create">server create</a></li>
<li><a class="reference internal" href="#server-delete">server delete</a></li>
<li><a class="reference internal" href="#server-describe">server describe</a></li>
<li><a class="reference internal" href="#server-list">server list</a></li>
</ul>
</li>
<li><a class="reference internal" href="#bluebox-plug-in">bluebox (plug-in)</a><ul>
<li><a class="reference internal" href="#images-list">images list</a></li>
<li><a class="reference internal" href="#id1">server create</a></li>
<li><a class="reference internal" href="#id2">server delete</a></li>
<li><a class="reference internal" href="#id3">server list</a></li>
</ul>
</li>
<li><a class="reference internal" href="#bootstrap">bootstrap</a></li>
<li><a class="reference internal" href="#client">client</a><ul>
<li><a class="reference internal" href="#bulk-delete">bulk delete</a></li>
<li><a class="reference internal" href="#create">create</a></li>
<li><a class="reference internal" href="#delete">delete</a></li>
<li><a class="reference internal" href="#edit">edit</a></li>
<li><a class="reference internal" href="#list">list</a></li>
<li><a class="reference internal" href="#reregister">reregister</a></li>
<li><a class="reference internal" href="#show">show</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configure">configure</a></li>
<li><a class="reference internal" href="#cookbook">cookbook</a><ul>
<li><a class="reference internal" href="#id4">bulk delete</a></li>
<li><a class="reference internal" href="#id5">create</a></li>
<li><a class="reference internal" href="#id6">delete</a></li>
<li><a class="reference internal" href="#download">download</a></li>
<li><a class="reference internal" href="#id7">list</a></li>
<li><a class="reference internal" href="#metadata">metadata</a></li>
<li><a class="reference internal" href="#metadata-from-file">metadata from file</a></li>
<li><a class="reference internal" href="#id8">show</a></li>
<li><a class="reference internal" href="#test">test</a></li>
<li><a class="reference internal" href="#upload">upload</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cookbook-site">cookbook site</a><ul>
<li><a class="reference internal" href="#id9">download</a></li>
<li><a class="reference internal" href="#install">install</a></li>
<li><a class="reference internal" href="#id10">list</a></li>
<li><a class="reference internal" href="#search">search</a></li>
<li><a class="reference internal" href="#share">share</a></li>
<li><a class="reference internal" href="#id11">show</a></li>
<li><a class="reference internal" href="#unshare">unshare</a></li>
</ul>
</li>
<li><a class="reference internal" href="#data-bag">data bag</a><ul>
<li><a class="reference internal" href="#id12">create</a></li>
<li><a class="reference internal" href="#id13">delete</a></li>
<li><a class="reference internal" href="#id14">edit</a></li>
<li><a class="reference internal" href="#from-file">from file</a></li>
<li><a class="reference internal" href="#id15">list</a></li>
<li><a class="reference internal" href="#id16">show</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ec2-plug-in">ec2 (plug-in)</a><ul>
<li><a class="reference internal" href="#instance-data">instance data</a></li>
<li><a class="reference internal" href="#id17">server create</a></li>
<li><a class="reference internal" href="#id18">server delete</a></li>
<li><a class="reference internal" href="#id19">server list</a></li>
</ul>
</li>
<li><a class="reference internal" href="#environment">environment</a><ul>
<li><a class="reference internal" href="#id20">create</a></li>
<li><a class="reference internal" href="#id21">delete</a></li>
<li><a class="reference internal" href="#id22">edit</a></li>
<li><a class="reference internal" href="#id23">from file</a></li>
<li><a class="reference internal" href="#id24">list</a></li>
<li><a class="reference internal" href="#id25">show</a></li>
</ul>
</li>
<li><a class="reference internal" href="#eucalyptus-plug-in">eucalyptus (plug-in)</a><ul>
<li><a class="reference internal" href="#flavor-list">flavor list</a></li>
<li><a class="reference internal" href="#id26">image list</a></li>
<li><a class="reference internal" href="#id27">server create</a></li>
<li><a class="reference internal" href="#id28">server delete</a></li>
<li><a class="reference internal" href="#id29">server list</a></li>
</ul>
</li>
<li><a class="reference internal" href="#exec">exec</a></li>
<li><a class="reference internal" href="#google-plug-in">google (plug-in)</a><ul>
<li><a class="reference internal" href="#id30">server create</a></li>
<li><a class="reference internal" href="#id31">server delete</a></li>
<li><a class="reference internal" href="#id32">server list</a></li>
</ul>
</li>
<li><a class="reference internal" href="#hp-plug-in">hp (plug-in)</a><ul>
<li><a class="reference internal" href="#id33">flavor list</a></li>
<li><a class="reference internal" href="#id34">image list</a></li>
<li><a class="reference internal" href="#id35">server create</a></li>
<li><a class="reference internal" href="#id36">server delete</a></li>
<li><a class="reference internal" href="#id37">server list</a></li>
</ul>
</li>
<li><a class="reference internal" href="#index-rebuild">index rebuild</a></li>
<li><a class="reference internal" href="#linode-plug-in">linode (plug-in)</a><ul>
<li><a class="reference internal" href="#datacenter-list">datacenter list</a></li>
<li><a class="reference internal" href="#id38">flavor list</a></li>
<li><a class="reference internal" href="#id39">image list</a></li>
<li><a class="reference internal" href="#kernel-list">kernel list</a></li>
<li><a class="reference internal" href="#id40">server create</a></li>
<li><a class="reference internal" href="#id41">server delete</a></li>
<li><a class="reference internal" href="#id42">server list</a></li>
<li><a class="reference internal" href="#server-reboot">server reboot</a></li>
<li><a class="reference internal" href="#stackscript-list">stackscript list</a></li>
</ul>
</li>
<li><a class="reference internal" href="#node">node</a><ul>
<li><a class="reference internal" href="#id43">bulk delete</a></li>
<li><a class="reference internal" href="#id44">create</a></li>
<li><a class="reference internal" href="#id45">delete</a></li>
<li><a class="reference internal" href="#id46">edit</a></li>
<li><a class="reference internal" href="#id47">from file</a></li>
<li><a class="reference internal" href="#id48">list</a></li>
<li><a class="reference internal" href="#run-list-add">run_list add</a></li>
<li><a class="reference internal" href="#run-list-remove">run_list remove</a></li>
<li><a class="reference internal" href="#id49">show</a></li>
</ul>
</li>
<li><a class="reference internal" href="#openstack-plug-in">openstack (plug-in)</a><ul>
<li><a class="reference internal" href="#id50">flavor list</a></li>
<li><a class="reference internal" href="#id51">image list</a></li>
<li><a class="reference internal" href="#id52">server create</a></li>
<li><a class="reference internal" href="#id53">server delete</a></li>
<li><a class="reference internal" href="#id54">server list</a></li>
</ul>
</li>
<li><a class="reference internal" href="#rackspace-plug-in">rackspace (plug-in)</a><ul>
<li><a class="reference internal" href="#id55">flavor list</a></li>
<li><a class="reference internal" href="#id56">image list</a></li>
<li><a class="reference internal" href="#id57">server create</a></li>
<li><a class="reference internal" href="#id58">server delete</a></li>
<li><a class="reference internal" href="#id59">server list</a></li>
</ul>
</li>
<li><a class="reference internal" href="#recipe-list">recipe list</a></li>
<li><a class="reference internal" href="#role">role</a><ul>
<li><a class="reference internal" href="#id60">bulk delete</a></li>
<li><a class="reference internal" href="#id61">create</a></li>
<li><a class="reference internal" href="#id62">delete</a></li>
<li><a class="reference internal" href="#id63">edit</a></li>
<li><a class="reference internal" href="#id64">from file</a></li>
<li><a class="reference internal" href="#id65">list</a></li>
<li><a class="reference internal" href="#id66">show</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id67">search</a></li>
<li><a class="reference internal" href="#ssh">ssh</a></li>
<li><a class="reference internal" href="#status">status</a></li>
<li><a class="reference internal" href="#tag">tag</a><ul>
<li><a class="reference internal" href="#id68">create</a></li>
<li><a class="reference internal" href="#id69">delete</a></li>
<li><a class="reference internal" href="#id70">list</a></li>
</ul>
</li>
<li><a class="reference internal" href="#terremark-plug-in">terremark (plug-in)</a><ul>
<li><a class="reference internal" href="#id71">server create</a></li>
<li><a class="reference internal" href="#id72">server delete</a></li>
<li><a class="reference internal" href="#id73">server list</a></li>
</ul>
</li>
<li><a class="reference internal" href="#windows-plug-in">windows (plug-in)</a><ul>
<li><a class="reference internal" href="#bootstrap-windows-ssh">bootstrap windows ssh</a></li>
<li><a class="reference internal" href="#bootstrap-windows-winrm">bootstrap windows winrm</a></li>
<li><a class="reference internal" href="#winrm">winrm</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="knife-command-line-reference">
<h1>Knife Command Line Reference<a class="headerlink" href="#knife-command-line-reference" title="Permalink to this headline">¶</a></h1>
<p>Knife is a command-line tool that provides an interface between a local Chef repository and the Chef server. Knife helps users of Chef to manage:</p>
<ul class="simple">
<li>Nodes</li>
<li>Cookbooks and recipes</li>
<li>Roles</li>
<li>Stores of JSON data (data bags), including encrypted data</li>
<li>Environments</li>
<li>Cloud resources, including provisioning</li>
<li>The installation of Chef on management workstations</li>
<li>Searching of indexed data on the Chef server</li>
</ul>
<div class="section" id="working-with-knife">
<h2>Working with Knife<a class="headerlink" href="#working-with-knife" title="Permalink to this headline">¶</a></h2>
<p>Knife runs from a management workstation and sits in-between a Chef server and an organization&#8217;s infrastructure. Knife interacts with a Chef server by using the same REST API that is used by a chef-client. Role-based authentication controls (RBAC) can be used to authorize changes when Knife is run with Hosted Chef or Private Chef. Knife is configured during workstation setup, but subsequent modifications can be made using the knife.rb configuration file.</p>
<div class="section" id="json-data-format">
<h3>JSON Data Format<a class="headerlink" href="#json-data-format" title="Permalink to this headline">¶</a></h3>
<p>All data is entered using a text editor in JSON format, unless the <tt class="docutils literal"><span class="pre">--no-editor</span></tt> option is entered as part of a command. JSON is a common, language-independent data format that provides a simple text representation of arbitrary data structures. For more information about JSON, see <a class="reference external" href="http://www.json.org/">http://www.json.org/</a> or <a class="reference external" href="http://en.wikipedia.org/wiki/JSON">http://en.wikipedia.org/wiki/JSON</a>.</p>
</div>
<div class="section" id="using-quotes">
<h3>Using Quotes<a class="headerlink" href="#using-quotes" title="Permalink to this headline">¶</a></h3>
<p>Values can be entered with double quotes (&#8221; &#8221;) or single quotes (&#8216; &#8216;), but this should be done consistently.</p>
</div>
<div class="section" id="sub-commands">
<h3>Sub-commands<a class="headerlink" href="#sub-commands" title="Permalink to this headline">¶</a></h3>
<p>Knife comes with a collection of built in sub-commands that work together to provide all of the functionality required to take specific actions against any object in a Chef environment, including cookbooks, nodes, roles, data bags, and environments. A Knife plugin extends the functionality beyond built-in sub-commands.</p>
<p>Knife has the following sub-commands: <tt class="docutils literal"><span class="pre">bootstrap</span></tt>, <tt class="docutils literal"><span class="pre">client</span></tt>, <tt class="docutils literal"><span class="pre">configure</span></tt>, <tt class="docutils literal"><span class="pre">cookbook</span></tt>, <tt class="docutils literal"><span class="pre">cookbook</span> <span class="pre">site</span></tt>, <tt class="docutils literal"><span class="pre">data</span> <span class="pre">bag</span></tt>, <tt class="docutils literal"><span class="pre">environment</span></tt>, <tt class="docutils literal"><span class="pre">exec</span></tt>, <tt class="docutils literal"><span class="pre">index</span> <span class="pre">rebuild</span></tt>, <tt class="docutils literal"><span class="pre">node</span></tt>, <tt class="docutils literal"><span class="pre">recipe</span> <span class="pre">list</span></tt>, <tt class="docutils literal"><span class="pre">role</span></tt>, <tt class="docutils literal"><span class="pre">search</span></tt>, <tt class="docutils literal"><span class="pre">ssh</span></tt>, <tt class="docutils literal"><span class="pre">status</span></tt>, and <tt class="docutils literal"><span class="pre">tag</span></tt>.</p>
<p>Opscode provides the following plug-ins, which work the same as built-in sub-commands (including common options), but must be downloaded separately from github: <tt class="docutils literal"><span class="pre">azure</span></tt>, <tt class="docutils literal"><span class="pre">bluebox</span></tt>, <tt class="docutils literal"><span class="pre">ec2</span></tt>, <tt class="docutils literal"><span class="pre">eucalyptus</span></tt>, <tt class="docutils literal"><span class="pre">google</span></tt>, <tt class="docutils literal"><span class="pre">hp</span></tt>, <tt class="docutils literal"><span class="pre">linode</span></tt>, <tt class="docutils literal"><span class="pre">openstack</span></tt>, <tt class="docutils literal"><span class="pre">rackspace</span></tt>, <tt class="docutils literal"><span class="pre">slicehost</span></tt>, <tt class="docutils literal"><span class="pre">terremark</span></tt>, and <tt class="docutils literal"><span class="pre">windows</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The following sub-command runs only against the Open Source Chef Server: <tt class="docutils literal"><span class="pre">index</span> <span class="pre">rebuild</span></tt>.</p>
</div>
<p>The Chef community provides many other plugins for Knife: <a class="reference external" href="http://community.opscode.com/">http://community.opscode.com/</a>.</p>
</div>
<div class="section" id="syntax">
<h3>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h3>
<p>All Knife sub-commands have the following syntax:</p>
<div class="highlight-python"><pre>knife subcommand [ARGUMENT] (options)</pre>
</div>
<p>Each sub-command has its own set of arguments and options.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All syntax examples in this document show variables in ALL_CAPS. For example <tt class="docutils literal"><span class="pre">-u</span> <span class="pre">PORT_LIST</span></tt> (where PORT_LIST is a comma-separated list of local and public UDP ports) or <tt class="docutils literal"><span class="pre">-F</span> <span class="pre">FORMAT</span></tt> (where FORMAT determines the output format, either <tt class="docutils literal"><span class="pre">summary</span></tt>, <tt class="docutils literal"><span class="pre">text</span></tt>, <tt class="docutils literal"><span class="pre">json</span></tt>, <tt class="docutils literal"><span class="pre">yaml</span></tt>, or <tt class="docutils literal"><span class="pre">pp</span></tt>). These variables often require specific values that are unique to your organization&#8217;s Chef environment.</p>
</div>
</div>
<div class="section" id="common-options">
<h3>Common Options<a class="headerlink" href="#common-options" title="Permalink to this headline">¶</a></h3>
<p>The following options can be run with all Knife sub-commands:</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Option</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">-c</span> <span class="pre">CONFIG</span></tt>, <tt class="docutils literal"><span class="pre">--config</span> <span class="pre">CONFIG</span></tt></td>
<td>The configuration file to use.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">--color</span></tt></td>
<td>Indicates that colored output will be used.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">--defaults</span></tt></td>
<td>Indicates that Knife will use the default value, instead of asking a user to provide one.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">-e</span> <span class="pre">EDITOR</span></tt>, <tt class="docutils literal"><span class="pre">--editor</span> <span class="pre">EDITOR</span></tt></td>
<td>The $EDITOR that is used for all interactive commands.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">-E</span> <span class="pre">ENVIRONMENT</span></tt>, <tt class="docutils literal"><span class="pre">--environment</span> <span class="pre">ENVIRONMENT</span></tt></td>
<td>The name of the Chef server environment.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">-F</span> <span class="pre">FORMAT</span></tt>, <tt class="docutils literal"><span class="pre">--format</span> <span class="pre">FORMAT</span></tt></td>
<td>The output format: <tt class="docutils literal"><span class="pre">summary</span></tt> (default), <tt class="docutils literal"><span class="pre">text</span></tt>, <tt class="docutils literal"><span class="pre">json</span></tt>, <tt class="docutils literal"><span class="pre">yaml</span></tt>, and <tt class="docutils literal"><span class="pre">pp</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">-h</span></tt>, <tt class="docutils literal"><span class="pre">--help</span></tt></td>
<td>Shows help for Knife or for a sub-command.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">-k</span> <span class="pre">KEY</span></tt>, <tt class="docutils literal"><span class="pre">--key</span> <span class="pre">KEY</span></tt></td>
<td>The API key that a chef-client must provide before it can access a Chef server.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">--no-color</span></tt></td>
<td>Indicates that color will not be used in the output.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">-n</span></tt>, <tt class="docutils literal"><span class="pre">--no-editor</span></tt></td>
<td>Indicates that $EDITOR will not be opened; data will be accepted as-is.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">--print-after</span></tt></td>
<td>Indicates that data will be shown after a destructive operation.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">-s</span> <span class="pre">URL</span></tt>, <tt class="docutils literal"><span class="pre">--server-url</span> <span class="pre">URL</span></tt></td>
<td>The URL for the Chef server.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">-u</span> <span class="pre">USER</span></tt>, <tt class="docutils literal"><span class="pre">--user</span> <span class="pre">USER</span></tt></td>
<td>The user name for the chef-client.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">-v</span></tt>, <tt class="docutils literal"><span class="pre">--version</span></tt></td>
<td>Shows the version of Chef.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">-V</span></tt>, <tt class="docutils literal"><span class="pre">--verbose</span></tt></td>
<td>Set for more verbose outputs. Use <tt class="docutils literal"><span class="pre">-VV</span></tt> for maximum verbosity.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">-y</span></tt>, <tt class="docutils literal"><span class="pre">--yes</span></tt></td>
<td>Indicates that &#8220;yes&#8221; will be the response to all confirmation prompts (and that Knife will not ask a user for confirmation).</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="azure-plug-in">
<h2>azure (plug-in)<a class="headerlink" href="#azure-plug-in" title="Permalink to this headline">¶</a></h2>
<p>Windows Azure is a cloud hosting platform from Microsoft that provides virtual machines for Linux and Windows Server, cloud and database services, and more. The <tt class="docutils literal"><span class="pre">azure</span></tt> sub-command is used to manage API-driven cloud servers that are hosted by Windows Azure.</p>
<p>The <tt class="docutils literal"><span class="pre">azure</span></tt> sub-command must use a management certificate for secure communication with Windows Azure.</p>
<p>This plugin is available on github: <a class="reference external" href="https://github.com/opscode/knife-azure">https://github.com/opscode/knife-azure</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This plugin requires the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">windows</span></tt> plugin to be present on the same machine: <a class="reference external" href="https://github.com/opscode/knife-windows">https://github.com/opscode/knife-windows</a>.</p>
</div>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife azure [ARGUMENT] (options)</pre>
</div>
<div class="section" id="image-list">
<h3>image list<a class="headerlink" href="#image-list" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">image</span> <span class="pre">list</span></tt> argument is used to get a list of images that exist in a Windows Azure environment. Any image in this list may be used for provisioning. The results may show instances that are not currently managed by the Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife azure image list (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-H</span> <span class="pre">HOST_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--azure_host_name</span> <span class="pre">HOST_NAME</span></tt></dt>
<dd>The host name for the Windows Azure environment.</dd>
<dt><tt class="docutils literal"><span class="pre">-p</span> <span class="pre">FILE_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--azure-pem-filename</span> <span class="pre">FILE_NAME</span></tt></dt>
<dd>The name of the file that contains the SSH public key that is used when authenticating to Windows Azure.</dd>
<dt><tt class="docutils literal"><span class="pre">-S</span> <span class="pre">ID</span></tt>, <tt class="docutils literal"><span class="pre">--azure-subscription-id</span> <span class="pre">ID</span></tt></dt>
<dd>The subscription identifier for the Windows Azure portal.</dd>
<dt><tt class="docutils literal"><span class="pre">--verify-ssl-cert</span></tt></dt>
<dd>The SSL certificate that is used to verify communication over HTTPS.</dd>
</dl>
</div>
<div class="section" id="server-create">
<h3>server create<a class="headerlink" href="#server-create" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">create</span></tt> argument is used to create a new Windows Azure cloud instance. This will provision a new image in Windows Azure, perform a Chef bootstrap (using the SSH protocol), and then install Chef on the target system so that it can be run as a chef-client and communicate with a Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife azure server create (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-a</span> <span class="pre">STORAGE_ACCOUNT_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--storage-account</span> <span class="pre">STORAGE_ACCOUNT_NAME</span></tt></dt>
<dd>The name of the storage account used with the hosted service.</dd>
<dt><tt class="docutils literal"><span class="pre">--bootstrap-protocol</span> <span class="pre">PROTOCOL</span></tt></dt>
<dd>The protocol used to bootstrap on a machine that is running Windows Server: <tt class="docutils literal"><span class="pre">winrm</span></tt> or <tt class="docutils literal"><span class="pre">ssh</span></tt>. Default value: <tt class="docutils literal"><span class="pre">winrm</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">--bootstrap-version</span> <span class="pre">VERSION</span></tt></dt>
<dd>The version of Chef to install.</dd>
<dt><tt class="docutils literal"><span class="pre">-d</span> <span class="pre">DISTRO</span></tt>, <tt class="docutils literal"><span class="pre">--distro</span> <span class="pre">DISTRO</span></tt></dt>
<dd>Indicates that a bootstrap operation will use a template file. If this option is used the name of the template file (<tt class="docutils literal"><span class="pre">--template-file</span></tt>) must also be provided. The following distributions are supported: <tt class="docutils literal"><span class="pre">chef-full</span></tt> (the default bootstrap), <tt class="docutils literal"><span class="pre">centos5-gems</span></tt>, <tt class="docutils literal"><span class="pre">fedora13-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-apt</span></tt>, and <tt class="docutils literal"><span class="pre">ubuntu12.04-gems</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">-D</span> <span class="pre">DESCRIPTION</span></tt></dt>
<dd>The description for the host.</dd>
<dt><tt class="docutils literal"><span class="pre">-H</span> <span class="pre">HOST_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--azure_host_name</span> <span class="pre">HOST_NAME</span></tt></dt>
<dd>The host name for the Windows Azure environment.</dd>
<dt><tt class="docutils literal"><span class="pre">-i</span> <span class="pre">IDENTITY_FILE</span></tt>, <tt class="docutils literal"><span class="pre">--identity-file</span> <span class="pre">IDENTITY_FILE</span></tt></dt>
<dd>The SSH identity file used for authentication. Key-based authentication is recommended.</dd>
<dt><tt class="docutils literal"><span class="pre">-I</span> <span class="pre">IMAGE</span></tt>, <tt class="docutils literal"><span class="pre">--source-image</span> <span class="pre">IMAGE</span></tt></dt>
<dd>The name of the disk image that will be used to create the virtual machine.</dd>
<dt><tt class="docutils literal"><span class="pre">-m</span> <span class="pre">LOCATION</span></tt>, <tt class="docutils literal"><span class="pre">--service-location</span> <span class="pre">LOCATION</span></tt></dt>
<dd>The geographic location for a virtual machine and its services.</dd>
<dt><tt class="docutils literal"><span class="pre">-N</span> <span class="pre">NAME</span></tt>, <tt class="docutils literal"><span class="pre">--node-name</span> <span class="pre">NAME</span></tt></dt>
<dd>The name of the node on the Chef server. Node names in Chef, when used with Windows Azure, must be 91 characters or shorter.</dd>
<dt><tt class="docutils literal"><span class="pre">--[no-]host-key-verify</span></tt></dt>
<dd>Use <tt class="docutils literal"><span class="pre">--no-host-key-verify</span></tt> to disable host key verification. Host key verification is enabled by default.</dd>
<dt><tt class="docutils literal"><span class="pre">-o</span> <span class="pre">DISK_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--os-disk-name</span> <span class="pre">DISK_NAME</span></tt></dt>
<dd>The operating system type of the Windows Azure OS image: <tt class="docutils literal"><span class="pre">Linux</span></tt> or <tt class="docutils literal"><span class="pre">Windows</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">-p</span> <span class="pre">FILE_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--azure-pem-filename</span> <span class="pre">FILE_NAME</span></tt></dt>
<dd>The name of the file that contains the SSH public key that is used when authenticating to Windows Azure.</dd>
<dt><tt class="docutils literal"><span class="pre">-P</span> <span class="pre">PASSWORD</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-password</span> <span class="pre">PASSWORD</span></tt></dt>
<dd>The SSH password. This can be used to pass the password directly on the command line. If this option is not specified (and a password is required) Knife will prompt for the password.</dd>
<dt><tt class="docutils literal"><span class="pre">--prerelease</span></tt></dt>
<dd>Indicates that pre-release Chef gems should be installed.</dd>
<dt><tt class="docutils literal"><span class="pre">-r</span> <span class="pre">RUN_LIST</span></tt>, <tt class="docutils literal"><span class="pre">--run-list</span> <span class="pre">RUN_LIST</span></tt></dt>
<dd>A comma-separated list of roles and/or recipes to be applied.</dd>
<dt><tt class="docutils literal"><span class="pre">-R</span> <span class="pre">ROLE_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--role-name</span> <span class="pre">ROLE_NAME</span></tt></dt>
<dd>The name of the virtual machine.</dd>
<dt><tt class="docutils literal"><span class="pre">-s</span> <span class="pre">SERVICE_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--hosted-service-name</span> <span class="pre">SERVICE_NAME</span></tt></dt>
<dd>The name of the hosted service.</dd>
<dt><tt class="docutils literal"><span class="pre">-S</span> <span class="pre">ID</span></tt>, <tt class="docutils literal"><span class="pre">--azure-subscription-id</span> <span class="pre">ID</span></tt></dt>
<dd>The subscription identifier for the Windows Azure portal.</dd>
<dt><tt class="docutils literal"><span class="pre">-t</span> <span class="pre">PORT_LIST</span></tt>, <tt class="docutils literal"><span class="pre">--tcp-endpoints</span> <span class="pre">PORT_LIST</span></tt></dt>
<dd>A comma-separated list of local and public TCP ports that will be opened, for example: <tt class="docutils literal"><span class="pre">80:80,433:5000</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">--template-file</span> <span class="pre">TEMPLATE</span></tt></dt>
<dd>The path to the template file that will be used during a bootstrap operation.</dd>
<dt><tt class="docutils literal"><span class="pre">--u</span> <span class="pre">PORT_LIST</span></tt>, <tt class="docutils literal"><span class="pre">---udp-endpoints</span> <span class="pre">PORT_LIST</span></tt></dt>
<dd>A comma-separated list of local and public UDP ports that will be opened, for example: <tt class="docutils literal"><span class="pre">80:80,433:5000</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">--verify-ssl-cert</span></tt></dt>
<dd>The SSL certificate that is used to verify communication over HTTPS.</dd>
<dt><tt class="docutils literal"><span class="pre">-x</span> <span class="pre">USER_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-user</span> <span class="pre">USER_NAME</span></tt></dt>
<dd>The SSH user name.</dd>
<dt><tt class="docutils literal"><span class="pre">-z</span> <span class="pre">SIZE</span></tt>, <tt class="docutils literal"><span class="pre">--role-size</span> <span class="pre">SIZE</span></tt></dt>
<dd>The size of the virtual machine: <tt class="docutils literal"><span class="pre">ExtraSmall</span></tt>, <tt class="docutils literal"><span class="pre">Small</span></tt>, <tt class="docutils literal"><span class="pre">Medium</span></tt>, <tt class="docutils literal"><span class="pre">Large</span></tt>, or <tt class="docutils literal"><span class="pre">ExtraLarge</span></tt>.</dd>
</dl>
<p>For example, to provision a medium-sized CentOS machine configured as a web server in the &#8220;West US&#8221; data center, while also creating new hosted service and storage accounts, enter something like:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife azure server create -r <span class="s2">&quot;role[webserver]&quot;</span> --service-location <span class="s2">&quot;West US&quot;</span> --ssh-user foo
  --ssh--password password --role-name web-apache-0001 --host-name web-apache
  --tcp-endpoints 80:80,8080:8080 --source-image name_of_source_image --role-size Medium
</pre></div>
</div>
<p>To provision a medium-sized CentOS machine configured as a web server in the &#8220;West US&#8221; data center, while reusing existing hosted service and storage accounts, enter something like:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife azure server create -r <span class="s2">&quot;role[webserver]&quot;</span> --service-location <span class="s2">&quot;West US&quot;</span>
  --hosted-service-name webservers --storage-account webservers-storage --ssh-user foo
  --ssh--password password --role-name web-apache-0001 --host-name web-apache
  --tcp-endpoints 80:80,8080:8080 --source-image name_of_source_image --role-size Medium
</pre></div>
</div>
</div>
<div class="section" id="server-delete">
<h3>server delete<a class="headerlink" href="#server-delete" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">delete</span></tt> argument is used to delete one or more instances that are running in the Windows Azure cloud. To find a specific cloud instance, use <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">azure</span> <span class="pre">server</span> <span class="pre">list</span></tt>. Use the <tt class="docutils literal"><span class="pre">--purge</span></tt> option to delete all associated node and client objects from the Chef server or use the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">node</span> <span class="pre">delete</span></tt> and <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">client</span> <span class="pre">delete</span></tt> sub-commands to delete specific node and client objects.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife azure server delete [SERVER...] (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-H</span> <span class="pre">HOST_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--azure_host_name</span> <span class="pre">HOST_NAME</span></tt></dt>
<dd>The host name for the Windows Azure environment.</dd>
<dt><tt class="docutils literal"><span class="pre">-N</span> <span class="pre">NODE_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--node-name</span> <span class="pre">NODE_NAME</span></tt></dt>
<dd>The name of the node and client to delete, if different from the server name. This must be used with the <tt class="docutils literal"><span class="pre">--purge</span></tt> option. This must be used with the <tt class="docutils literal"><span class="pre">-p</span></tt> (purge) option.</dd>
<dt><tt class="docutils literal"><span class="pre">-p</span></tt>, <tt class="docutils literal"><span class="pre">--purge</span></tt></dt>
<dd>Indicates that all corresponding nodes and clients on the Chef server will be destroyed, in addition to the Windows Azure node itself. This action (by itself) assumes that the node and client have the same name as the server; if they do not have the same names, then the <tt class="docutils literal"><span class="pre">--node-name</span></tt> option must be used to specify the name of the node.</dd>
<dt><tt class="docutils literal"><span class="pre">--purge-os-disk</span></tt></dt>
<dd>Indicates that all corresponding operating system disks will be destroyed, in addition to the Windows Azure node itself.</dd>
<dt><tt class="docutils literal"><span class="pre">-p</span> <span class="pre">FILE_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--azure-pem-filename</span> <span class="pre">FILE_NAME</span></tt></dt>
<dd>The name of the file that contains the SSH public key that is used when authenticating to Windows Azure.</dd>
<dt><tt class="docutils literal"><span class="pre">-S</span> <span class="pre">ID</span></tt>, <tt class="docutils literal"><span class="pre">--azure-subscription-id</span> <span class="pre">ID</span></tt></dt>
<dd>The subscription identifier for the Windows Azure portal.</dd>
<dt><tt class="docutils literal"><span class="pre">--verify-ssl-cert</span></tt></dt>
<dd>The SSL certificate that is used to verify communication over HTTPS.</dd>
</dl>
<p>For example, to delete an instance named &#8220;devops12&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife azure server delete devops12
</pre></div>
</div>
</div>
<div class="section" id="server-describe">
<h3>server describe<a class="headerlink" href="#server-describe" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">describe</span></tt> argument is used to view a detailed description of one or more roles that exist in a Windows Azure cloud instance. For each specified role name, information such as status, size, hosted service name, deployment name, ports (open, local, public) and IP are displayed.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife azure server describe [ROLE_NAME...]</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-H</span> <span class="pre">HOST_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--azure_host_name</span> <span class="pre">HOST_NAME</span></tt></dt>
<dd>The host name for the Windows Azure environment.</dd>
<dt><tt class="docutils literal"><span class="pre">-p</span> <span class="pre">FILE_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--azure-pem-filename</span> <span class="pre">FILE_NAME</span></tt></dt>
<dd>The name of the file that contains the SSH public key that is used when authenticating to Windows Azure.</dd>
<dt><tt class="docutils literal"><span class="pre">-S</span> <span class="pre">ID</span></tt>, <tt class="docutils literal"><span class="pre">--azure-subscription-id</span> <span class="pre">ID</span></tt></dt>
<dd>The subscription identifier for the Windows Azure portal.</dd>
<dt><tt class="docutils literal"><span class="pre">--verify-ssl-cert</span></tt></dt>
<dd>The SSL certificate that is used to verify communication over HTTPS.</dd>
</dl>
<p>For example, to view the details for a role named &#8220;admin&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife azure server describe admin
</pre></div>
</div>
</div>
<div class="section" id="server-list">
<h3>server list<a class="headerlink" href="#server-list" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">list</span></tt> argument is used to find instances that are associated with a Windows Azure account.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife azure server list</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-H</span> <span class="pre">HOST_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--azure_host_name</span> <span class="pre">HOST_NAME</span></tt></dt>
<dd>The host name for the Windows Azure environment.</dd>
<dt><tt class="docutils literal"><span class="pre">-p</span> <span class="pre">FILE_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--azure-pem-filename</span> <span class="pre">FILE_NAME</span></tt></dt>
<dd>The name of the file that contains the SSH public key that is used when authenticating to Windows Azure.</dd>
<dt><tt class="docutils literal"><span class="pre">-S</span> <span class="pre">ID</span></tt>, <tt class="docutils literal"><span class="pre">--azure-subscription-id</span> <span class="pre">ID</span></tt></dt>
<dd>The subscription identifier for the Windows Azure portal.</dd>
<dt><tt class="docutils literal"><span class="pre">--verify-ssl-cert</span></tt></dt>
<dd>The SSL certificate that is used to verify communication over HTTPS.</dd>
</dl>
</div>
</div>
<div class="section" id="bluebox-plug-in">
<h2>bluebox (plug-in)<a class="headerlink" href="#bluebox-plug-in" title="Permalink to this headline">¶</a></h2>
<p>Blue Box provides on-demand computing that is backed by a proprietary cloud operating system. The <tt class="docutils literal"><span class="pre">bluebox</span></tt> sub-command is used to manage API-driven cloud servers that are hosted by Blue Box.</p>
<p>This plugin is available on github: <a class="reference external" href="https://github.com/opscode/knife-bluebox">https://github.com/opscode/knife-bluebox</a>.</p>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife bluebox [ARGUMENT] (options)</pre>
</div>
<div class="section" id="images-list">
<h3>images list<a class="headerlink" href="#images-list" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">images</span> <span class="pre">list</span></tt> argument is used to view a list of images that are running on servers that are hosted by Blue Box, including returning a list of each server (and server ID). The results may show instances that are not currently managed by the Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife bluebox images list</pre>
</div>
<p>This argument does not have any options.</p>
</div>
<div class="section" id="id1">
<h3>server create<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">create</span></tt> argument is used to create a new Blue Box cloud instance. A comma-separated run-list of roles and/or recipes must be specified.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife bluebox server create [RUN_LIST...] (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-b</span> <span class="pre">LB_APP</span></tt>, <tt class="docutils literal"><span class="pre">--load_balancer</span> <span class="pre">LB_APP</span></tt></dt>
<dd>The load balancing application to which a server should be added.</dd>
<dt><tt class="docutils literal"><span class="pre">--block_startup_timeout</span> <span class="pre">TIME</span></tt></dt>
<dd>The amount of time that should elapse before the deployment process is stopped.</dd>
<dt><tt class="docutils literal"><span class="pre">-d</span> <span class="pre">DISTRO</span></tt>, <tt class="docutils literal"><span class="pre">--distro</span> <span class="pre">DISTRO</span></tt></dt>
<dd>Indicates that a bootstrap operation will use a template file. If this option is used the name of the template file (<tt class="docutils literal"><span class="pre">--template-file</span></tt>) must also be provided. The following distributions are supported: <tt class="docutils literal"><span class="pre">chef-full</span></tt> (the default bootstrap), <tt class="docutils literal"><span class="pre">centos5-gems</span></tt>, <tt class="docutils literal"><span class="pre">fedora13-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-apt</span></tt>, and <tt class="docutils literal"><span class="pre">ubuntu12.04-gems</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">--disable-bootstrap</span></tt></dt>
<dd>Indicates that the bootstrap process should be disabled.</dd>
<dt><tt class="docutils literal"><span class="pre">-f</span> <span class="pre">FLAVOR</span></tt>, <tt class="docutils literal"><span class="pre">--flavor</span> <span class="pre">FLAVOR</span></tt></dt>
<dd>The name of the flavor that identifies the hardware configuration of the server, including disk space, memory capacity, and CPU priority.</dd>
<dt><tt class="docutils literal"><span class="pre">-i</span> <span class="pre">IDENTITY_FILE</span></tt>, <tt class="docutils literal"><span class="pre">--identity-file</span> <span class="pre">IDENTITY_FILE</span></tt></dt>
<dd>The SSH identity file used for authentication. Key-based authentication is recommended.</dd>
<dt><tt class="docutils literal"><span class="pre">-i</span> <span class="pre">IMAGE</span></tt>, <tt class="docutils literal"><span class="pre">--image</span> <span class="pre">IMAGE</span></tt></dt>
<dd>The name of the image that identifies the operating system (and version) that will be used to create the virtual machine.</dd>
<dt><tt class="docutils literal"><span class="pre">-N</span> <span class="pre">NAME</span></tt>, <tt class="docutils literal"><span class="pre">--node-name</span> <span class="pre">NAME</span></tt></dt>
<dd>The name of the node on the Chef server.</dd>
<dt><tt class="docutils literal"><span class="pre">-P</span> <span class="pre">PASSWORD</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-password</span> <span class="pre">PASSWORD</span></tt></dt>
<dd>The SSH password. This can be used to pass the password directly on the command line. If this option is not specified (and a password is required) Knife will prompt for the password.</dd>
<dt><tt class="docutils literal"><span class="pre">-U</span> <span class="pre">KEY</span></tt>, <tt class="docutils literal"><span class="pre">--username</span> <span class="pre">USERNAME</span></tt></dt>
<dd>The user name for the Blue Box server.</dd>
</dl>
<p>For example, to xxxxx, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>xxxxx
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h3>server delete<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">delete</span></tt> argument is used to delete one or more instances that are running in the Blue Box cloud. A block represents the on-demand virtual computing resource; a hostname is specific to a block. To find a specific cloud instance, use the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">bluebox</span> <span class="pre">server</span> <span class="pre">list</span></tt> argument. Use the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">node</span> <span class="pre">delete</span></tt> and <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">client</span> <span class="pre">delete</span></tt> sub-commands to delete associated node and client objects (if required).</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife bluebox server delete BLOCK_HOSTNAME</pre>
</div>
<p>This argument does not have any options.</p>
<p>For example, to delete an instance at block &#8220;12345&#8221; with a hostname of &#8220;dev&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife bluebox server delete block12345-dev.blueboxgrid.com
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h3>server list<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">list</span></tt> argument is used to find instances that are associated with a Blue Box account.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife bluebox server list</pre>
</div>
<p>This argument does not have any options.</p>
</div>
</div>
<div class="section" id="bootstrap">
<h2>bootstrap<a class="headerlink" href="#bootstrap" title="Permalink to this headline">¶</a></h2>
<p>A bootstrap is a process that installs Chef on a target system so that it can run as a chef-client and communicate with a Chef server.</p>
<p>The <tt class="docutils literal"><span class="pre">bootstrap</span></tt> sub-command is used run a bootstrap operation that installs Chef on the target system. The bootstrap operation must specify the IP address or FQDN of the target system.</p>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife bootstrap FQDN_or_IP_ADDRESS (options)</pre>
</div>
<p>This sub-command has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">--bootstrap-proxy</span> <span class="pre">PROXY_URL</span></tt></dt>
<dd>The proxy server for the node that is the target of a bootstrap operation.</dd>
<dt><tt class="docutils literal"><span class="pre">--bootstrap-version</span> <span class="pre">VERSION</span></tt></dt>
<dd>The version of Chef to install.</dd>
<dt><tt class="docutils literal"><span class="pre">-d</span> <span class="pre">DISTRO</span></tt>, <tt class="docutils literal"><span class="pre">--distro</span> <span class="pre">DISTRO</span></tt></dt>
<dd>Indicates that a bootstrap operation will use a template file. If this option is used the name of the template file (<tt class="docutils literal"><span class="pre">--template-file</span></tt>) must also be provided. The following distributions are supported: <tt class="docutils literal"><span class="pre">chef-full</span></tt> (the default bootstrap), <tt class="docutils literal"><span class="pre">centos5-gems</span></tt>, <tt class="docutils literal"><span class="pre">fedora13-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-apt</span></tt>, and <tt class="docutils literal"><span class="pre">ubuntu12.04-gems</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">-G</span> <span class="pre">GATEWAY</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-gateway</span> <span class="pre">GATEWAY</span></tt></dt>
<dd>The SSH tunnel or gateway that is used to run a bootstrap action on a machine that is not accessible from the workstation.</dd>
<dt><tt class="docutils literal"><span class="pre">--hint</span> <span class="pre">HINT_NAME[=HINT_FILE]</span></tt></dt>
<dd>Indicates that an Ohai hint will be set on the target of the bootstrap. Use multiple <tt class="docutils literal"><span class="pre">--hint</span></tt> options to specify multiple hints.</dd>
<dt><tt class="docutils literal"><span class="pre">-i</span> <span class="pre">IDENTITY_FILE</span></tt>, <tt class="docutils literal"><span class="pre">--identity-file</span> <span class="pre">IDENTITY_FILE</span></tt></dt>
<dd>The SSH identity file used for authentication. Key-based authentication is recommended.</dd>
<dt><tt class="docutils literal"><span class="pre">-j</span> <span class="pre">JSON_ATTRIBS</span></tt>, <tt class="docutils literal"><span class="pre">--json-attributes</span> <span class="pre">JSON_ATTRIBS</span></tt></dt>
<dd>A JSON string that is added to the first run of a chef-client.</dd>
<dt><tt class="docutils literal"><span class="pre">-N</span> <span class="pre">NAME</span></tt>, <tt class="docutils literal"><span class="pre">--node-name</span> <span class="pre">NAME</span></tt></dt>
<dd>The name of the node on the Chef server.</dd>
<dt><tt class="docutils literal"><span class="pre">--[no-]host-key-verify</span></tt></dt>
<dd>Use <tt class="docutils literal"><span class="pre">--no-host-key-verify</span></tt> to disable host key verification. Host key verification is enabled by default.</dd>
<dt><tt class="docutils literal"><span class="pre">-p</span> <span class="pre">PORT</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-port</span> <span class="pre">PORT</span></tt></dt>
<dd>The SSH port.</dd>
<dt><tt class="docutils literal"><span class="pre">-P</span> <span class="pre">PASSWORD</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-password</span> <span class="pre">PASSWORD</span></tt></dt>
<dd>The SSH password. This can be used to pass the password directly on the command line. If this option is not specified (and a password is required) Knife will prompt for the password.</dd>
<dt><tt class="docutils literal"><span class="pre">--prerelease</span></tt></dt>
<dd>Indicates that pre-release Chef gems should be installed.</dd>
<dt><tt class="docutils literal"><span class="pre">-r</span> <span class="pre">RUN_LIST</span></tt>, <tt class="docutils literal"><span class="pre">--run-list</span> <span class="pre">RUN_LIST</span></tt></dt>
<dd>A comma-separated list of roles and/or recipes to be applied.</dd>
<dt><tt class="docutils literal"><span class="pre">--sudo</span></tt></dt>
<dd>Indicates that a bootstrap operation should be executed using sudo.</dd>
<dt><tt class="docutils literal"><span class="pre">--template-file</span> <span class="pre">TEMPLATE</span></tt></dt>
<dd>The path to the template file that will be used during a bootstrap operation.</dd>
<dt><tt class="docutils literal"><span class="pre">-x</span> <span class="pre">USERNAME</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-user</span> <span class="pre">USERNAME</span></tt></dt>
<dd>The SSH user name.</dd>
</dl>
<p>For example, to pass an SSH password as part of the command:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife bootstrap 192.168.1.1 -x username -P PASSWORD --sudo
</pre></div>
</div>
<p>To use a file that contains a private key:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife bootstrap 192.168.1.1 -x username -i ~/.ssh/id_rsa --sudo
</pre></div>
</div>
</div>
<div class="section" id="client">
<h2>client<a class="headerlink" href="#client" title="Permalink to this headline">¶</a></h2>
<p>A chef-client is an agent that runs locally on every node that is registered with the Chef server. When a chef-client is run, it will perform all of the steps that are required to bring the node into the expected state, including:</p>
<ul class="simple">
<li>Building, registering, and authenticating the node with the Chef server</li>
<li>Synchronizing each required cookbook with the local file cache</li>
<li>Compiling the resource collection by loading each of the required cookbooks, including recipes, attributes, and all other dependencies</li>
<li>Taking the appropriate and required actions to configure the node</li>
<li>Looking for exceptions and notifications, handling each as required</li>
</ul>
<p>The <tt class="docutils literal"><span class="pre">client</span></tt> sub-command is used to manage one or more instances of a chef-client, including ensuring they are properly registered with the Chef server and have a valid RSA key pair.</p>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife client [ARGUMENT] (options)</pre>
</div>
<div class="section" id="bulk-delete">
<h3>bulk delete<a class="headerlink" href="#bulk-delete" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">bulk</span> <span class="pre">delete</span></tt> argument is used to delete clients that match a pattern defined by a regular expression. The regular expression must be within quotes and not be surrounded by forward slashes (/).</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife client bulk delete REGEX</pre>
</div>
<p>This argument does not have any options.</p>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife client bulk delete <span class="s2">&quot;^[0-9]{3}$&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="create">
<h3>create<a class="headerlink" href="#create" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">create</span></tt> argument is used to create a new chef-client. This process will generate an RSA key pair for the named chef-client. The public key will be stored on the Chef server and the private key will be displayed on STDOUT or written to a named file.</p>
<p>For the chef-client, the private key should be copied to the system as /etc/chef/client.pem. The private key is typically copied to ~/.chef/client_name.pem and referenced in the knife.rb configuration file. If the private key is not copied, a 403 error will be returned. This is because the file in which the private key is located does not exist and the user who is trying to run the chef-client does not have permission to re-create the private key.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife client create CLIENT_NAME (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-a</span></tt>, <tt class="docutils literal"><span class="pre">--admin</span></tt></dt>
<dd>Indicates that a client will be created as an admin client. This is required when users of Open Source Chef Server need to access the API as an administrator. This option only works when used with Open Source Chef Server and will have no effect when used with Hosted Chef or Private Chef.</dd>
<dt><tt class="docutils literal"><span class="pre">-f</span> <span class="pre">FILE_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--file</span> <span class="pre">FILE_NAME</span></tt></dt>
<dd>Indicates that the private key will be saved to a specified file name.</dd>
</dl>
<p>For example, to create a Chef Admin Client with the name &#8220;exampleorg-validator&#8221; and save its private key to a file, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife client create exampleorg-validator -a -f <span class="s2">&quot;/etc/chef/client.pem&quot;</span>
</pre></div>
</div>
<p>When running the <tt class="docutils literal"><span class="pre">create</span></tt> argument on Hosted Chef or Private Chef, be sure to omit the <tt class="docutils literal"><span class="pre">-a</span></tt> option:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife client create exampleorg-validator -f <span class="s2">&quot;/etc/chef/client.pem&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="delete">
<h3>delete<a class="headerlink" href="#delete" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">delete</span></tt> argument is used to delete a registered client.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Deleting a client will not delete any corresponding API clients.</p>
</div>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife client delete CLIENT_NAME</pre>
</div>
<p>This argument does not have any options.</p>
<p>For example, to delete a client with the name &#8220;exampleorg-validator&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife client delete exampleorg-validator
</pre></div>
</div>
<p>Type <tt class="docutils literal"><span class="pre">Y</span></tt> to confirm a deletion.</p>
</div>
<div class="section" id="edit">
<h3>edit<a class="headerlink" href="#edit" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">edit</span></tt> argument is used to edit the details of a registered Chef client. When this argument is run, Knife will open $EDITOR to enable editing of ENVIRONMENT attributes. When finished, Knife will update the Chef server with those changes.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife client edit CLIENT_NAME</pre>
</div>
<p>This argument does not have any options.</p>
<p>For example, to edit a client with the name &#8220;exampleorg-validator&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife client edit exampleorg-validator
</pre></div>
</div>
</div>
<div class="section" id="list">
<h3>list<a class="headerlink" href="#list" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">list</span></tt> argument is used to view a list of registered clients.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife client list (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-w</span></tt>, <tt class="docutils literal"><span class="pre">--with-uri</span></tt></dt>
<dd>Indicates that the corresponding URIs will be shown.</dd>
</dl>
<p>For example, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife client list
</pre></div>
</div>
<p>to return something similar to:</p>
<div class="highlight-bash"><div class="highlight"><pre>exampleorg-validator
i-12345678
rs-123456
</pre></div>
</div>
<p>To get the list of clients for a specific organization, use the <tt class="docutils literal"><span class="pre">-u</span></tt> and <tt class="docutils literal"><span class="pre">-k</span></tt> options:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife client list -u ORGNAME-validator -k .chef/ORGNAME-validator.pem
</pre></div>
</div>
</div>
<div class="section" id="reregister">
<h3>reregister<a class="headerlink" href="#reregister" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">reregister</span></tt> argument is used to regenerate an RSA key pair for a chef-client. The public key will be stored on the Chef server and the private key will be displayed on STDOUT or written to a named file.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Running this argument will invalidate the previous RSA key pair, making it unusable during authentication to the Chef server.</p>
</div>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife client reregister CLIENT_NAME (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-f</span> <span class="pre">FILE_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--file</span> <span class="pre">FILE_NAME</span></tt></dt>
<dd>Indicates that the private key will be saved to a specified file name.</dd>
</dl>
<p>For example, to regenerate the RSA key pair for a client named &#8220;testclient&#8221; and save it to a file named &#8220;rsa_key&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife client regenerate testclient -f rsa_key
</pre></div>
</div>
</div>
<div class="section" id="show">
<h3>show<a class="headerlink" href="#show" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">show</span></tt> argument is used to show the details of a Chef client.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife client show CLIENT_NAME (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-a</span> <span class="pre">ATTR</span></tt>, <tt class="docutils literal"><span class="pre">--attribute</span> <span class="pre">ATTR</span></tt></dt>
<dd>Indicates that only a single attribute is shown, as defined by the <tt class="docutils literal"><span class="pre">ATTR</span></tt> value.</dd>
</dl>
<p>For example, to view a client named &#8220;testclient&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife client show testclient
</pre></div>
</div>
<p>to return something like:</p>
<div class="highlight-bash"><div class="highlight"><pre>admin:       <span class="nb">false</span>
chef_type:   client
json_class:  Chef::ApiClient
name:        testclient
public_key:
</pre></div>
</div>
</div>
</div>
<div class="section" id="configure">
<h2>configure<a class="headerlink" href="#configure" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">configure</span></tt> sub-command is used to create the knife.rb and client.rb files so that they can be distributed to workstations and nodes.</p>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife configure (options)</pre>
</div>
<p>This sub-command has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">--client</span> <span class="pre">DIRECTORY</span></tt></dt>
<dd>Use to create a client configuration. This will read from the knife.rb config file to generate a config file suitable for use in /etc/chef/client.rb, and will then copy the validation certificate into the specified directory.</dd>
<dt><tt class="docutils literal"><span class="pre">-i</span></tt>, <tt class="docutils literal"><span class="pre">--initial</span></tt></dt>
<dd>Use to create an initial chef-client.</dd>
<dt><tt class="docutils literal"><span class="pre">-r</span> <span class="pre">REPO</span></tt>, <tt class="docutils literal"><span class="pre">--repository</span> <span class="pre">REPO</span></tt></dt>
<dd>The path to the Chef repository.</dd>
</dl>
<p>For example, to create a knife.rb file, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife configure
</pre></div>
</div>
<p>To configure a client.rb, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife configure client <span class="s1">&#39;/directory&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="cookbook">
<h2>cookbook<a class="headerlink" href="#cookbook" title="Permalink to this headline">¶</a></h2>
<p>A cookbook is the fundamental unit of distribution across Chef organizations. Each cookbook defines an automation scenario and then contains all of the components that are required to run it, including:</p>
<ul class="simple">
<li>Attributes that set values on nodes</li>
<li>Definitions that allow the creation of reusable collections of resources</li>
<li>File distributions</li>
<li>Libraries that extend Chef and/or provide helpers to Ruby code</li>
<li>Recipes that specify which resources to manage and the order in which those resources will be applied.</li>
<li>Custom resources and providers</li>
<li>Templates</li>
<li>Metadata about recipes (including dependencies), version constraints, supported platforms, and so on</li>
</ul>
<p>The <tt class="docutils literal"><span class="pre">cookbook</span></tt> sub-command is used to interact with cookbooks that are located on the Chef server.</p>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook [ARGUMENT] (options)</pre>
</div>
<div class="section" id="id4">
<h3>bulk delete<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">bulk</span> <span class="pre">delete</span></tt> argument is used to delete cookbook files that match a pattern defined by a regular expression. The regular expression must be within quotes and not be surrounded by forward slashes (/).</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook bulk delete REGEX (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-p</span></tt>, <tt class="docutils literal"><span class="pre">--purge</span></tt></dt>
<dd>Indicates that a cookbook (or cookbook version) will be removed entirely from the repository and its backup. This action should be used carefully because purging a cookbook will disable any other cookbook that references one or more files from a cookbook that has been purged.</dd>
</dl>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook bulk delete <span class="s2">&quot;^[0-9]{3}$&quot;</span> -p
</pre></div>
</div>
</div>
<div class="section" id="id5">
<h3>create<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">create</span></tt> argument is used to create a new cookbook directory, including the following directories and files:</p>
<blockquote>
<div><ul class="simple">
<li>cookbook/attributes</li>
<li>cookbook/definitions</li>
<li>cookbook/files/default</li>
<li>cookbook/libraries</li>
<li>cookbook/metadata.rb</li>
<li>cookbook/providers</li>
<li>cookbook/readme.md (or .rdoc)</li>
<li>cookbook/recipes/default.rb</li>
<li>cookbook/resources</li>
<li>cookbook/templates/default</li>
</ul>
</div></blockquote>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook create COOKBOOK_NAME (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-c</span> <span class="pre">COPYRIGHT_HOLDER</span></tt>, <tt class="docutils literal"><span class="pre">--copyright</span> <span class="pre">COPYRIGHT_HOLDER</span></tt></dt>
<dd>The name of the copyright holder. This option will place a copyright notice that contains the name of the copyright holder in each of the pre-created files. If this option is not specified, a copyright name of &#8220;your_company_name&#8221; will be used instead; it can be easily modified later.</dd>
<dt><tt class="docutils literal"><span class="pre">-e</span> <span class="pre">EMAIL</span></tt>, <tt class="docutils literal"><span class="pre">--email</span> <span class="pre">EMAIL</span></tt></dt>
<dd>The email address for the individual who maintains the cookbook. This option will place an email address in each of the pre-created files. If this option is not specified, an email name of &#8220;your_email&#8221; will be used instead; it can be easily modified later.</dd>
<dt><tt class="docutils literal"><span class="pre">-i</span> <span class="pre">LICENSE</span></tt>, <tt class="docutils literal"><span class="pre">--license</span> <span class="pre">LICENSE</span></tt></dt>
<dd>The type of license under which a cookbook is distributed: <tt class="docutils literal"><span class="pre">apachev2</span></tt> or <tt class="docutils literal"><span class="pre">none</span></tt> (default). This option will place the appropriate license notice in the pre-created files. Be aware of the licenses for files inside of a cookbook and be sure to follow any restrictions they describe.</dd>
<dt><tt class="docutils literal"><span class="pre">-o</span> <span class="pre">PATH</span></tt>, <tt class="docutils literal"><span class="pre">--cookbook-path</span> <span class="pre">PATH</span></tt></dt>
<dd>The directory in which the cookbook will be created.</dd>
<dt><tt class="docutils literal"><span class="pre">-r</span> <span class="pre">FORMAT</span></tt>, <tt class="docutils literal"><span class="pre">--readme-format</span> <span class="pre">FORMAT</span></tt></dt>
<dd>The document format of the readme file: <tt class="docutils literal"><span class="pre">md</span></tt> (markdown) and <tt class="docutils literal"><span class="pre">rdoc</span></tt> (Ruby docs).</dd>
</dl>
<p>The cookbook copyright, license, email, and readme format settings can be configured in a knife.rb file or using the Knife command prompt:</p>
<div class="highlight-bash"><div class="highlight"><pre>cookbook_copyright <span class="s2">&quot;your_company_name&quot;</span>
cookbook_license <span class="s2">&quot;none&quot;</span>
cookbook_email <span class="s2">&quot;your_email&quot;</span>
readme_format <span class="s2">&quot;md&quot;</span>
</pre></div>
</div>
<p>For example, to create a cookbook named &#8220;my_cookbook&#8221; with copyright, email, license, and readme format options specified, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook create my_cookbook -c <span class="s2">&quot;My Name&quot;</span> -e <span class="s2">&quot;my@email.com&quot;</span> -l apachev2 -r md
</pre></div>
</div>
<p>to return something like:</p>
<div class="highlight-bash"><div class="highlight"><pre>** Creating cookbook my_cookbook
** Creating README <span class="k">for </span>cookbook: my_cookbook
** Creating metadata <span class="k">for </span>cookbook: my_cookbook
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h3>delete<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">delete</span></tt> argument is used to delete a specified cookbook or cookbook version.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook delete COOKBOOK_NAME [COOKBOOK_VERSION] (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-a</span></tt>, <tt class="docutils literal"><span class="pre">--all</span></tt></dt>
<dd>Indicates that a cookbook and every version of that cookbook will be deleted.</dd>
<dt><tt class="docutils literal"><span class="pre">-p</span></tt>, <tt class="docutils literal"><span class="pre">--purge</span></tt></dt>
<dd>Indicates that a cookbook (or cookbook version) will be removed entirely from the repository and its backup. This action should be used carefully because purging a cookbook will disable any other cookbook that references one or more files from a cookbook that has been purged.</dd>
<dt><tt class="docutils literal"><span class="pre">COOKBOOK_VERSION</span></tt></dt>
<dd>The version of a cookbook to be deleted. If a cookbook has only one version, this option does not need to be specified. If a cookbook has more than one version and this option is not specified, Knife will prompt for a version.</dd>
</dl>
<p>For example, to delete version &#8220;0.8&#8221; from a cookbook named &#8220;smartmon&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook delete smartmon version 0.8
</pre></div>
</div>
<p>Type <tt class="docutils literal"><span class="pre">Y</span></tt> to confirm a deletion.</p>
</div>
<div class="section" id="download">
<h3>download<a class="headerlink" href="#download" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">download</span></tt> argument is used to download a cookbook from the Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook download COOKBOOK_NAME [COOKBOOK_VERSION] (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-d</span> <span class="pre">DOWNLOAD_DIRECTORY</span></tt>, <tt class="docutils literal"><span class="pre">--dir</span> <span class="pre">DOWNLOAD_DIRECTORY</span></tt></dt>
<dd>The directory into which a cookbook will be downloaded.</dd>
<dt><tt class="docutils literal"><span class="pre">-f</span></tt>, <tt class="docutils literal"><span class="pre">--force</span></tt></dt>
<dd>Indicates that an existing directory will be overwritten.</dd>
<dt><tt class="docutils literal"><span class="pre">-n</span></tt>, <tt class="docutils literal"><span class="pre">--latest</span></tt></dt>
<dd>Indicates that the most recent version of a cookbook will be downloaded.</dd>
</dl>
<p>For example, to download a cookbook named &#8220;smartmon&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook download smartmon
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h3>list<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">list</span></tt> argument is used to view a list of cookbooks that are currently available on the Chef server. The list will contain only the most recent version for each cookbook by default.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook list (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-a</span></tt>, <tt class="docutils literal"><span class="pre">--all</span></tt></dt>
<dd>Indicates that all available versions of each cookbook will be returned.</dd>
<dt><tt class="docutils literal"><span class="pre">-w</span></tt>, <tt class="docutils literal"><span class="pre">--with-uri</span></tt></dt>
<dd>Indicates that the corresponding URIs will be shown.</dd>
</dl>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook list
</pre></div>
</div>
</div>
<div class="section" id="metadata">
<h3>metadata<a class="headerlink" href="#metadata" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">metadata</span></tt> argument is used to generate the metadata for one or more cookbooks.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook metadata (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-a</span></tt>, <tt class="docutils literal"><span class="pre">--all</span></tt></dt>
<dd>Indicates that metadata should be generated for all cookbooks, and not just for a specified cookbook.</dd>
<dt><tt class="docutils literal"><span class="pre">-o</span> <span class="pre">PATH:PATH</span></tt>, <tt class="docutils literal"><span class="pre">--cookbook-path</span> <span class="pre">PATH:PATH</span></tt></dt>
<dd>A colon-separated path at which cookbooks are located.</dd>
</dl>
<p>For example, to generate metadata for all cookbooks:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook metadata -a
</pre></div>
</div>
</div>
<div class="section" id="metadata-from-file">
<h3>metadata from file<a class="headerlink" href="#metadata-from-file" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">metadata</span> <span class="pre">from</span> <span class="pre">file</span></tt> argument is used to load the metadata for a cookbook from a file.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook metadata from file FILE</pre>
</div>
<p>This argument does not have any options.</p>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook metadta from file /path/to/file
</pre></div>
</div>
</div>
<div class="section" id="id8">
<h3>show<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">show</span></tt> argument is used to view information about a cookbook, parts of a cookbook (attributes, definitions, files, libraries, providers, recipes, resources, and templates), or a file that is associated with a cookbook (including attributes such as checksum or specificity).</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook show COOKBOOK_NAME [COOKBOOK_VERSION] [PART...] [FILE_NAME] (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-f</span> <span class="pre">FQDN</span></tt>, <tt class="docutils literal"><span class="pre">--fqdn</span> <span class="pre">FQDN</span></tt></dt>
<dd>The fully qualified domain name of the host.</dd>
<dt><tt class="docutils literal"><span class="pre">FILE_NAME</span></tt></dt>
<dd>The name of a file that is associated with a cookbook.</dd>
<dt><tt class="docutils literal"><span class="pre">-p</span> <span class="pre">PLATFORM</span></tt>, <tt class="docutils literal"><span class="pre">--platform</span> <span class="pre">PLATFORM</span></tt></dt>
<dd>The platform for which a cookbook is designed.</dd>
<dt><tt class="docutils literal"><span class="pre">PART</span></tt></dt>
<dd>The part of the cookbook to show: <tt class="docutils literal"><span class="pre">attributes</span></tt>, <tt class="docutils literal"><span class="pre">definitions</span></tt>, <tt class="docutils literal"><span class="pre">files</span></tt>, <tt class="docutils literal"><span class="pre">libraries</span></tt>, <tt class="docutils literal"><span class="pre">providers</span></tt>, <tt class="docutils literal"><span class="pre">recipes</span></tt>, <tt class="docutils literal"><span class="pre">resources</span></tt>, or <tt class="docutils literal"><span class="pre">templates</span></tt>. More than one part can be specified.</dd>
<dt><tt class="docutils literal"><span class="pre">-V</span> <span class="pre">PLATFORM_VERSION</span></tt>, <tt class="docutils literal"><span class="pre">--platform-version</span> <span class="pre">PLATFORM_VERSION</span></tt></dt>
<dd>The version of the platform.</dd>
<dt><tt class="docutils literal"><span class="pre">COOKBOOK_VERSION</span></tt></dt>
<dd>The version of a cookbook to be shown. If a cookbook has only one version, this option does not need to be specified. If a cookbook has more than one version and this option is not specified, a list of cookbook versions will be returned.</dd>
<dt><tt class="docutils literal"><span class="pre">-w</span></tt>, <tt class="docutils literal"><span class="pre">--with-uri</span></tt></dt>
<dd>Indicates that the corresponding URIs will be shown.</dd>
</dl>
<p>For example, to get the list of available versions of a cookbook named &#8220;getting-started&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook show getting-started
</pre></div>
</div>
<p>to return something like:</p>
<div class="highlight-bash"><div class="highlight"><pre>getting-started   0.3.0  0.2.0
</pre></div>
</div>
<p>To show a list of data about a cookbook using the name of the cookbook and the version, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook show getting-started 0.3.0
</pre></div>
</div>
<p>to return something like:</p>
<div class="highlight-bash"><div class="highlight"><pre>attributes:
  checksum:     fa0fc4abf3f6787aeb5c3c5c35de667c
  name:         default.rb
  path:         attributes/default.rb
  specificity:  default
  url:          https://somelongurlhere.com
chef_type:      cookbook_version
cookbook_name:  getting-started
definitions:    <span class="o">[]</span>
files:          <span class="o">[]</span>
frozen?:        <span class="nb">false</span>
json_class:     Chef::CookbookVersion
libraries:      <span class="o">[]</span>
</pre></div>
</div>
<p>To only view data about &#8220;templates&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook show getting-started 0.3.0 templates
</pre></div>
</div>
<p>to return something like:</p>
<div class="highlight-bash"><div class="highlight"><pre>checksum:     a29d6f254577b830091f140c3a78b1fe
name:         chef-getting-started.txt.erb
path:         templates/default/chef-getting-started.txt.erb
specificity:  default
url:          https://someurlhere.com
</pre></div>
</div>
<p>To see if a cookbook named &#8220;redis&#8221; with a version number of &#8220;0.1.6&#8221; is frozen, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook show redis 0.1.6 | grep frozen
</pre></div>
</div>
<p>If the cookbook is frozen, something like the following is returned:</p>
<div class="highlight-bash"><div class="highlight"><pre>frozen?:        <span class="nb">true</span>
</pre></div>
</div>
</div>
<div class="section" id="test">
<h3>test<a class="headerlink" href="#test" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">test</span></tt> argument is used to test a cookbook for syntax errors. This argument uses Ruby syntax checking to verify every file in a cookbook that ends in .rb and erb.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook test COOKBOOK_NAME (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-a</span></tt>, <tt class="docutils literal"><span class="pre">--all</span></tt></dt>
<dd>Indicates that all cookbooks will be tested.</dd>
<dt><tt class="docutils literal"><span class="pre">-o</span> <span class="pre">PATH:PATH</span></tt>, <tt class="docutils literal"><span class="pre">--cookbook-path</span> <span class="pre">PATH:PATH</span></tt></dt>
<dd>A colon-separated path at which cookbooks are located.</dd>
</dl>
<p>For example, to test a cookbook named &#8220;getting-started&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook <span class="nb">test </span>getting-started
</pre></div>
</div>
</div>
<div class="section" id="upload">
<h3>upload<a class="headerlink" href="#upload" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">upload</span></tt> argument is used to upload one or more cookbooks (and any files that are associated with those cookbooks) from a local repository to the Chef server. Only files that do not already exist on the Chef server will be uploaded.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Use a chefignore file to prevent the upload of specific files and file types, such as temporary files or files placed in folders by version control systems. The chefignore file must be located in the root of the cookbook repository and must use rules similar to filename globbing (as defined by the Ruby File.fnmatch syntax).</p>
</div>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook upload [COOKBOOK_NAME...] (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-a</span></tt>, <tt class="docutils literal"><span class="pre">--all</span></tt></dt>
<dd>Indicates that all cookbooks will be uploaded.</dd>
<dt><tt class="docutils literal"><span class="pre">-d</span></tt>, <tt class="docutils literal"><span class="pre">--include-dependencies</span></tt></dt>
<dd>Indicates that when a cookbook has a dependency on one or more other cookbooks, those cookbooks will also be uploaded.</dd>
<dt><tt class="docutils literal"><span class="pre">-E</span> <span class="pre">ENVIRONMENT</span></tt>, <tt class="docutils literal"><span class="pre">--environment</span> <span class="pre">ENVIRONMENT</span></tt></dt>
<dd>The environment that will be applied to all cookbooks that are uploaded using the same action. This will automatically set the version constraint on the environment to match the version of a cookbook that is being uploaded.</dd>
<dt><tt class="docutils literal"><span class="pre">--force</span></tt></dt>
<dd>Indicates that a cookbook should be updated even if the <tt class="docutils literal"><span class="pre">--freeze</span></tt> flag has been set.</dd>
<dt><tt class="docutils literal"><span class="pre">--freeze</span></tt></dt>
<dd>Indicates that a cookbook cannot be modified; any changes to this cookbook must be included as a new version. Only the <tt class="docutils literal"><span class="pre">--force</span></tt> option can override this setting.</dd>
<dt><tt class="docutils literal"><span class="pre">-o</span> <span class="pre">PATH:PATH</span></tt>, <tt class="docutils literal"><span class="pre">--cookbook-path</span> <span class="pre">PATH:PATH</span></tt></dt>
<dd>A colon-separated path at which cookbooks are located.</dd>
</dl>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook upload getting-started
</pre></div>
</div>
<p>To upload a cookbook, and then prevent other users from being able to make changes to it, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook upload redis --freeze
</pre></div>
</div>
<p>To return:</p>
<div class="highlight-python"><pre>.. code-block:: bash</pre>
</div>
<blockquote>
<div>Uploading redis...
Upload completed</div></blockquote>
<p>If a cookbook is frozen and the <tt class="docutils literal"><span class="pre">--force</span></tt> option is not specified, Knife will return an error message similar to the following:</p>
<div class="highlight-bash"><div class="highlight"><pre>Uploading redis...
ERROR: Version 0.1.6 of cookbook redis is frozen. Use --force to override.
</pre></div>
</div>
</div>
</div>
<div class="section" id="cookbook-site">
<h2>cookbook site<a class="headerlink" href="#cookbook-site" title="Permalink to this headline">¶</a></h2>
<p>The Cookbooks Site API is used to provide access to the cookbooks community hosted at cookbooks.opscode.com. All of the cookbooks in the community are accessible through a REST API located at cookbooks.opscode.com/api/v1/ by using any of the supported endpoints. In most cases, using Knife and the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">cookbook</span> <span class="pre">site</span></tt> sub-command (and any of its arguments) is the recommended method of interacting with these cookbooks, but in some cases, using the REST API directly may make sense.</p>
<p>The <tt class="docutils literal"><span class="pre">cookbook</span> <span class="pre">site</span></tt> sub-command is used to interact with cookbooks that are located at cookbooks.opscode.com. A user account is required for any community actions that write data to this site. The following arguments do not require a user account: <tt class="docutils literal"><span class="pre">download</span></tt>, <tt class="docutils literal"><span class="pre">search</span></tt>, <tt class="docutils literal"><span class="pre">install</span></tt>, and <tt class="docutils literal"><span class="pre">list</span></tt>.</p>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook site [ARGUMENT] (options)</pre>
</div>
<div class="section" id="id9">
<h3>download<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">download</span></tt> argument is used to download a cookbook from the community website. A cookbook will be downloaded as a tar.gz archive and placed in the current working directory. If a cookbook (or cookbook version) has been deprecated and the <tt class="docutils literal"><span class="pre">--force</span></tt> option is not used, Knife will alert the user that the cookbook is deprecated and then will provide the name of the most recent non-deprecated version of that cookbook.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook site download COOKBOOK_NAME [COOKBOOK_VERSION] (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-f</span> <span class="pre">FILE</span></tt>, <tt class="docutils literal"><span class="pre">--file</span> <span class="pre">FILE</span></tt></dt>
<dd>The name of the cookbook file to be downloaded.</dd>
<dt><tt class="docutils literal"><span class="pre">--force</span></tt></dt>
<dd>Indicates that the download of a deprecated cookbook will be forced.</dd>
<dt><tt class="docutils literal"><span class="pre">COOKBOOK_VERSION</span></tt></dt>
<dd>The version of a cookbook to be downloaded. If a cookbook has only one version, this option does not need to be specified. If a cookbook has more than one version and this option is not specified, Knife will prompt for a version.</dd>
</dl>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook site download getting-started
</pre></div>
</div>
<p>to return something like:</p>
<div class="highlight-bash"><div class="highlight"><pre>Downloading getting-started from the cookbooks site at version 0.3.0 to
  /Users/sdanna/opscodesupport/getting-started-0.3.0.tar.gz
Cookbook saved: /Users/sdanna/opscodesupport/getting-started-0.3.0.tar.gz
</pre></div>
</div>
</div>
<div class="section" id="install">
<h3>install<a class="headerlink" href="#install" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">install</span></tt> argument is used to install a cookbook that has been downloaded from the community site to a local repository . This action uses the git version control system in conjunction with the cookbooks.opscode.com site to install community-contributed cookbooks to the local repository. Using this argument does the following:</p>
<blockquote>
<div><ol class="arabic simple">
<li>A new &#8220;pristine copy&#8221; branch is created in git for tracking the upstream.</li>
<li>All existing cookbooks are removed from the branch.</li>
<li>The cookbook is downloaded from cookbooks.opscode.com in the tar.gz format.</li>
<li>The downloaded cookbook is untarred and its contents are committed to git.</li>
<li>The &#8220;pristine copy&#8221; branch is merged into the master branch.</li>
</ol>
</div></blockquote>
<p>This process allows the upstream cookbook in the master branch to be modified while letting git maintain changes as a separate patch. When an updated upstream version becomes available, those changes can be merged while maintaining any local modifications.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook site install COOKBOOK_NAME [COOKBOOK_VERSION] (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-b</span></tt>, <tt class="docutils literal"><span class="pre">--use-current-branch</span></tt></dt>
<dd>Indicates that the current branch will be used.</dd>
<dt><tt class="docutils literal"><span class="pre">-B</span> <span class="pre">BRANCH</span></tt>, <tt class="docutils literal"><span class="pre">--branch</span> <span class="pre">BRANCH</span></tt></dt>
<dd>The name of the default branch. This will default to the master branch.</dd>
<dt><tt class="docutils literal"><span class="pre">-D</span></tt>, <tt class="docutils literal"><span class="pre">--skip-dependencies</span></tt></dt>
<dd>Indicates that all cookbooks to which the installed cookbook has a dependency will not be installed.</dd>
<dt><tt class="docutils literal"><span class="pre">-o</span> <span class="pre">PATH:PATH</span></tt>, <tt class="docutils literal"><span class="pre">--cookbook-path</span> <span class="pre">PATH:PATH</span></tt></dt>
<dd>A colon-separated path at which cookbooks are located.</dd>
<dt><tt class="docutils literal"><span class="pre">COOKBOOK_VERSION</span></tt></dt>
<dd>The version of the cookbook to be installed. If a version is not specified, the most recent version of the cookbook will be installed.</dd>
</dl>
<p>For example, to install the cookbook &#8220;getting-started&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook site install getting-started
</pre></div>
</div>
<p>to return something like:</p>
<div class="highlight-bash"><div class="highlight"><pre>Installing getting-started to /Users/sdanna/opscodesupport/.chef/../cookbooks
Checking out the master branch.
Creating pristine copy branch chef-vendor-getting-started
Downloading getting-started from the cookbooks site at version 0.3.0 to
  /Users/sdanna/opscodesupport/.chef/../cookbooks/getting-started.tar.gz
Cookbook saved: /Users/sdanna/opscodesupport/.chef/../cookbooks/getting-started.tar.gz
Removing pre-existing version.
Uncompressing getting-started version /Users/sdanna/opscodesupport/.chef/../cookbooks.
removing downloaded tarball
1 files updated, committing changes
Creating tag cookbook-site-imported-getting-started-0.3.0
Checking out the master branch.
Updating 4d44b5b..b4c32f2
Fast-forward
 cookbooks/getting-started/README.rdoc              |    4 +++
 cookbooks/getting-started/attributes/default.rb    |    1 +
 cookbooks/getting-started/metadata.json            |   29 ++++++++++++++++++++
 cookbooks/getting-started/metadata.rb              |    6 ++++
 cookbooks/getting-started/recipes/default.rb       |   23 +++++++++++++++
 .../templates/default/chef-getting-started.txt.erb |    5 +++
 6 files changed, 68 insertions<span class="o">(</span>+<span class="o">)</span>, 0 deletions<span class="o">(</span>-<span class="o">)</span>
 create mode 100644 cookbooks/getting-started/README.rdoc
 create mode 100644 cookbooks/getting-started/attributes/default.rb
 create mode 100644 cookbooks/getting-started/metadata.json
 create mode 100644 cookbooks/getting-started/metadata.rb
 create mode 100644 cookbooks/getting-started/recipes/default.rb
 create mode 100644 cookbooks/getting-started/templates/default/chef-getting-started.txt.erb
Cookbook getting-started version 0.3.0 successfully installed
</pre></div>
</div>
</div>
<div class="section" id="id10">
<h3>list<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">list</span></tt> argument is used to view a list of cookbooks that are currently available at cookbooks.opscode.com.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook site list</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-w</span></tt>, <tt class="docutils literal"><span class="pre">--with-uri</span></tt></dt>
<dd>Indicates that the corresponding URIs will be shown.</dd>
</dl>
<p>For example, to view a list of cookbooks at cookbooks.opscode.com server, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook site list
</pre></div>
</div>
<p>to return:</p>
<div class="highlight-python"><pre>1password             homesick              rabbitmq
7-zip                 hostname              rabbitmq-management
AmazonEC2Tag          hosts                 rabbitmq_chef
R                     hosts-awareness       rackspaceknife
accounts              htop                  radiant
ack-grep              hudson                rails
activemq              icinga                rails_enterprise
ad                    id3lib                redis-package
ad-likewise           iftop                 redis2
ant                   iis                   redmine
[...truncated...]</pre>
</div>
</div>
<div class="section" id="search">
<h3>search<a class="headerlink" href="#search" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">search</span></tt> argument is used to search for a cookbook at cookbooks.opscode.com. A search query is used to return a list of cookbooks at cookbooks.opscode.com and uses the same syntax as the <tt class="docutils literal"><span class="pre">search</span></tt> sub-command.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook site search SEARCH_QUERY (options)</pre>
</div>
<p>This argument does not have any options.</p>
<p>For example, to search for all of the cookbooks that can be used with Apache, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook site search apache*
</pre></div>
</div>
<p>to return something like:</p>
<div class="highlight-bash"><div class="highlight"><pre>apache2:
  cookbook:              http://cookbooks.opscode.com/api/v1/cookbooks/apache2
  cookbook_description:  Installs and configures apache2 using Debian symlinks with helper definitions
  cookbook_maintainer:   opscode
  cookbook_name:         apache2
instiki:
  cookbook:              http://cookbooks.opscode.com/api/v1/cookbooks/instiki
  cookbook_description:  Installs instiki, a Ruby on Rails wiki server under passenger+Apache2.
  cookbook_maintainer:   jtimberman
  cookbook_name:         instiki
kickstart:
  cookbook:              http://cookbooks.opscode.com/api/v1/cookbooks/kickstart
  cookbook_description:  Creates apache2 vhost and serves a kickstart file.
  cookbook_maintainer:   opscode
  cookbook_name:         kickstart
<span class="o">[</span>...truncated...<span class="o">]</span>
</pre></div>
</div>
</div>
<div class="section" id="share">
<h3>share<a class="headerlink" href="#share" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">share</span></tt> argument is used to add a cookbook to cookbooks.opscode.com. This action will require a user account and a certificate for community.opscode.com. By default, Knife will use the user name and API key that is identified in the configuration file used during the upload; otherwise these values must be specified on the command line or in an alternate configuration file. If a cookbook already exists on cookbooks.opscode.com, then only an owner or maintainer of that cookbook can make updates.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook site share COOKBOOK_NAME CATEGORY (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">CATEGORY</span></tt></dt>
<dd>The cookbook category: <tt class="docutils literal"><span class="pre">Databases</span></tt>, <tt class="docutils literal"><span class="pre">Web</span> <span class="pre">Servers</span></tt>, <tt class="docutils literal"><span class="pre">Process</span> <span class="pre">Management</span></tt>, <tt class="docutils literal"><span class="pre">Monitoring</span> <span class="pre">and</span> <span class="pre">Trending</span></tt>, <tt class="docutils literal"><span class="pre">Programming</span> <span class="pre">Languages</span></tt>, <tt class="docutils literal"><span class="pre">Package</span> <span class="pre">Management</span></tt>, <tt class="docutils literal"><span class="pre">Applications</span></tt>, <tt class="docutils literal"><span class="pre">Networking</span></tt>, <tt class="docutils literal"><span class="pre">Operations</span> <span class="pre">Systems</span> <span class="pre">and</span> <span class="pre">Virtualization</span></tt>, <tt class="docutils literal"><span class="pre">Utilities</span></tt>, or <tt class="docutils literal"><span class="pre">Other</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">-o</span> <span class="pre">PATH:PATH</span></tt>, <tt class="docutils literal"><span class="pre">--cookbook-path</span> <span class="pre">PATH:PATH</span></tt></dt>
<dd>A colon-separated path at which cookbooks are located.</dd>
</dl>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook site share <span class="s2">&quot;apache2&quot;</span> <span class="s2">&quot;Web Servers&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="id11">
<h3>show<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">show</span></tt> argument is used to view information about a cookbook on cookbooks.opscode.com.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook site show COOKBOOK_NAME [COOKBOOK_VERSION]</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">COOKBOOK_VERSION</span></tt></dt>
<dd>The version of a cookbook to be shown. If a cookbook has only one version, this option does not need to be specified. If a cookbook has more than one version and this option is not specified, a list of cookbook versions will be returned.</dd>
</dl>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook site show haproxy
</pre></div>
</div>
<p>to return something like:</p>
<div class="highlight-bash"><div class="highlight"><pre>average_rating:
category:        Networking
created_at:      2009-10-25T23:51:07Z
description:     Installs and configures haproxy
external_url:
latest_version:  http://cookbooks.opscode.com/api/v1/cookbooks/haproxy/versions/1_0_3
maintainer:      opscode
name:            haproxy
updated_at:      2011-06-30T21:53:25Z
versions:
   http://cookbooks.opscode.com/api/v1/cookbooks/haproxy/versions/1_0_3
   http://cookbooks.opscode.com/api/v1/cookbooks/haproxy/versions/1_0_2
   http://cookbooks.opscode.com/api/v1/cookbooks/haproxy/versions/1_0_1
   http://cookbooks.opscode.com/api/v1/cookbooks/haproxy/versions/1_0_0
   http://cookbooks.opscode.com/api/v1/cookbooks/haproxy/versions/0_8_1
   http://cookbooks.opscode.com/api/v1/cookbooks/haproxy/versions/0_8_0
   http://cookbooks.opscode.com/api/v1/cookbooks/haproxy/versions/0_7_0
</pre></div>
</div>
</div>
<div class="section" id="unshare">
<h3>unshare<a class="headerlink" href="#unshare" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">unshare</span></tt> argument is used to stop the sharing of a cookbook at cookbooks.opscode.com. Only the maintainer of a cookbook may perform this action.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook site unshare COOKBOOK_NAME</pre>
</div>
<p>This argument does not have any options.</p>
<p>For example, to unshare a cookbook named &#8220;getting-started&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook site unshare getting-started
</pre></div>
</div>
</div>
</div>
<div class="section" id="data-bag">
<h2>data bag<a class="headerlink" href="#data-bag" title="Permalink to this headline">¶</a></h2>
<p>A data bag is a read-only global variable that is stored as JSON data and is accessible from a Chef server. A data bag is indexed for searching and can be loaded by a recipe or accessed during a search. The contents of a data bag can vary, but they often include sensitive information (such as database passwords). The contents of a data bag can also be encrypted to prevent the contents of that data bag from being compromised.</p>
<p>The <tt class="docutils literal"><span class="pre">data</span> <span class="pre">bag</span></tt> sub-command is used to manage arbitrary stores of globally available JSON data.</p>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife data bag [ARGUMENT] (options)</pre>
</div>
<div class="section" id="id12">
<h3>create<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">create</span></tt> argument is used to add a data bag to the Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife data bag create DATA_BAG_NAME [DATA_BAG_ITEM] (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">DATA_BAG_ITEM</span></tt></dt>
<dd>The name of a specific item within a data bag.</dd>
<dt><tt class="docutils literal"><span class="pre">--secret</span> <span class="pre">SECRET</span></tt></dt>
<dd>The encryption key that is used for values contained within a data bag.</dd>
<dt><tt class="docutils literal"><span class="pre">--secret-file</span> <span class="pre">FILE</span></tt></dt>
<dd>The path to the file that contains the encryption key.</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For encrypted data bag items, use <em>either</em> <tt class="docutils literal"><span class="pre">--secret</span></tt> or <tt class="docutils literal"><span class="pre">--secret-file</span></tt>, not both.</p>
</div>
<p>For example, to create a data bag named &#8220;admins&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife data bag create admins
</pre></div>
</div>
<p>to return:</p>
<div class="highlight-bash"><div class="highlight"><pre>Created data_bag<span class="o">[</span>admins<span class="o">]</span>
</pre></div>
</div>
</div>
<div class="section" id="id13">
<h3>delete<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">delete</span></tt> argument is used to delete a data bag or a data bag item from a Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife data bag delete DATA_BAG_NAME [DATA_BAG_ITEM] (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">DATA_BAG_ITEM</span></tt></dt>
<dd>The name of a specific item within a data bag.</dd>
</dl>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife data bag delete admins
</pre></div>
</div>
<p>Or, to delete an item named &#8220;charlie&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife data bag delete admins charlie
</pre></div>
</div>
<p>Type <tt class="docutils literal"><span class="pre">Y</span></tt> to confirm a deletion.</p>
</div>
<div class="section" id="id14">
<h3>edit<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">edit</span></tt> argument is used to edit the data contained in a data bag. If encryption is being used, the data bag will be decrypted, the data will be made available in the $EDITOR, and then encrypted again before saving it to the Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife data bag edit DATA_BAG_NAME [DATA_BAG_ITEM] (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">DATA_BAG_ITEM</span></tt></dt>
<dd>The name of a specific item within a data bag.</dd>
<dt><tt class="docutils literal"><span class="pre">--secret</span> <span class="pre">SECRET</span></tt></dt>
<dd>The encryption key that is used for values contained within a data bag.</dd>
<dt><tt class="docutils literal"><span class="pre">--secret-file</span> <span class="pre">FILE</span></tt></dt>
<dd>The path to the file that contains the encryption key.</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For encrypted data bag items, use <em>either</em> <tt class="docutils literal"><span class="pre">--secret</span></tt> or <tt class="docutils literal"><span class="pre">--secret-file</span></tt>, not both.</p>
</div>
<p>For example, to edit the contents of a data bag, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife data bag edit admins
</pre></div>
</div>
<p>To edit an item named &#8220;charlie&#8221; that is contained in a data bag named &#8220;admins&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife data bag edit admins charlie
</pre></div>
</div>
<p>to open the $EDITOR. Once opened, you can update the data before saving it to the Chef server. For example, by changing:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">{</span>
   <span class="s2">&quot;id&quot;</span>: <span class="s2">&quot;charlie&quot;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>to:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
   <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;charlie&quot;</span><span class="p">,</span>
   <span class="s2">&quot;uid&quot;</span><span class="o">:</span> <span class="mi">1005</span><span class="p">,</span>
   <span class="s2">&quot;gid&quot;</span><span class="o">:</span><span class="s2">&quot;ops&quot;</span><span class="p">,</span>
   <span class="s2">&quot;shell&quot;</span><span class="o">:</span><span class="s2">&quot;/bin/zsh&quot;</span><span class="p">,</span>
   <span class="s2">&quot;comment&quot;</span><span class="o">:</span><span class="s2">&quot;Crazy Charlie&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="from-file">
<h3>from file<a class="headerlink" href="#from-file" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">from</span> <span class="pre">file</span></tt> argument is used to create a data bag using an existing data bag data as a template. The path to the data bag file must specify one of the following:</p>
<ul class="simple">
<li>the name of a data bag</li>
<li>a relative or absolute path to a file</li>
</ul>
<p>If the name of a data bag is specified, Knife will search for the data bag in ./data_bags/bag_name/file. Once opened, the JSON file should be a hash that contains at least an ID key which represents the name of the data bag item.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife data bag from file DATA_BAG_NAME_or_PATH</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-a</span></tt>, <tt class="docutils literal"><span class="pre">--all</span></tt></dt>
<dd>Indicates that all data bags found at the specified path will be uploaded.</dd>
<dt><tt class="docutils literal"><span class="pre">--secret</span> <span class="pre">SECRET</span></tt></dt>
<dd>The encryption key that is used for values contained within a data bag.</dd>
<dt><tt class="docutils literal"><span class="pre">--secret-file</span> <span class="pre">FILE</span></tt></dt>
<dd>The path to the file that contains the encryption key.</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For encrypted data bag items, use <em>either</em> <tt class="docutils literal"><span class="pre">--secret</span></tt> or <tt class="docutils literal"><span class="pre">--secret-file</span></tt>, not both.</p>
</div>
<p>For example, to create a data bag from a specified path:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife data bag from file /path/to JSON/file
</pre></div>
</div>
<p>To create a data bag named &#8220;devops_data&#8221; that contains encrypted data, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife node from file devops_data --secret-file /path/to/decryption/file
</pre></div>
</div>
</div>
<div class="section" id="id15">
<h3>list<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">list</span></tt> argument is used to view a list of data bags that are currently available on the Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife data bag list</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-w</span></tt>, <tt class="docutils literal"><span class="pre">--with-uri</span></tt></dt>
<dd>Indicates that the corresponding URIs will be shown.</dd>
</dl>
<p>For example, to view a list of data bags on the Chef server, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife data bag list
</pre></div>
</div>
</div>
<div class="section" id="id16">
<h3>show<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">show</span></tt> argument is used to view the contents of a data bag.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife data bag show DATA_BAG_NAME (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">DATA_BAG_ITEM</span></tt></dt>
<dd>The name of a specific item within a data bag.</dd>
<dt><tt class="docutils literal"><span class="pre">--secret</span> <span class="pre">SECRET</span></tt></dt>
<dd>The encryption key that is used for values contained within a data bag.</dd>
<dt><tt class="docutils literal"><span class="pre">--secret-file</span> <span class="pre">FILE</span></tt></dt>
<dd>The path to the file that contains the encryption key.</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For encrypted data bag items, use <em>either</em> <tt class="docutils literal"><span class="pre">--secret</span></tt> or <tt class="docutils literal"><span class="pre">--secret-file</span></tt>, not both.</p>
</div>
<p>For example, to show the contents of a data bag, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife data bag show admins
</pre></div>
</div>
<p>to return:</p>
<div class="highlight-bash"><div class="highlight"><pre>charlie
</pre></div>
</div>
<p>To show the contents of a specific item within data bag, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife data bag show admins charlie
</pre></div>
</div>
<p>to return:</p>
<div class="highlight-bash"><div class="highlight"><pre>comment:  Crazy Charlie
gid:      ops
id:       charlie
shell:    /bin/zsh
uid:      1005
</pre></div>
</div>
<p>To show the contents of a data bag named &#8220;passwords&#8221; with an item that contains encrypted data named &#8220;mysql&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife data bag show passwords mysql
</pre></div>
</div>
<p>to return:</p>
<div class="highlight-javascript"><pre>## sample:
{
  "id": "mysql",
  "pass": "trywgFA6R70NO28PNhMpGhEvKBZuxouemnbnAUQsUyo=\n",
  "user": "e/p+8WJYVHY9fHcEgAAReg==\n"
}</pre>
</div>
<p>To show the decrypted contents of the same databag, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife data bag show --secret-file /path/to/decryption/file passwords mysql
</pre></div>
</div>
<p>to return:</p>
<div class="highlight-javascript"><pre>## sample:
{
   "id": "mysql",
   "pass": "thesecret123",
   "user": "fred"
}</pre>
</div>
</div>
</div>
<div class="section" id="ec2-plug-in">
<h2>ec2 (plug-in)<a class="headerlink" href="#ec2-plug-in" title="Permalink to this headline">¶</a></h2>
<p>Amazon EC2 is a web service that provides resizable compute capacity in the cloud based and pre-configured operating system and virtual application software using Amazon Machine Images (AMI). The <tt class="docutils literal"><span class="pre">ec2</span></tt> sub-command is used to manage API-driven cloud servers that are hosted by Amazon EC2.</p>
<p>This plugin is available on github: <a class="reference external" href="https://github.com/opscode/knife-ec2">https://github.com/opscode/knife-ec2</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This plugin requires the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">windows</span></tt> plugin to be present on the same machine: <a class="reference external" href="https://github.com/opscode/knife-windows">https://github.com/opscode/knife-windows</a>.</p>
</div>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife ec2 [ARGUMENT] (options)</pre>
</div>
<div class="section" id="instance-data">
<h3>instance data<a class="headerlink" href="#instance-data" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">instance</span> <span class="pre">data</span></tt> argument is used to generate instance metadata used with custom Opscode Amazon Machine Images (AMI). This process will read the validation certificate and Chef server URL from the Knife configuration file (~/.chef/knife.rb) and will output the data in JSON format.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Using this sub-command is an older way of launching Amazon EC2 instances for Chef and should be considered deprecated. Using the <tt class="docutils literal"><span class="pre">server</span> <span class="pre">create</span></tt> sub-command is preferred (and more flexible). Although this sub-command will remain, the Opscode custom Amazon Machine Images (AMI) are out of date.</p>
</div>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife ec2 instance data (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">KEY</span></tt>, <tt class="docutils literal"><span class="pre">--aws-access-key-id</span> <span class="pre">KEY</span></tt></dt>
<dd>The access key identifier used with Amazon EC2.</dd>
<dt><tt class="docutils literal"><span class="pre">-e</span></tt>, <tt class="docutils literal"><span class="pre">--edit</span></tt></dt>
<dd>Indicates that instance data should be edited using the default text editor.</dd>
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">SECRET</span></tt>, <tt class="docutils literal"><span class="pre">--aws-secret-access-key</span> <span class="pre">SECRET</span></tt></dt>
<dd>The secret access key for the API endpoint used with Amazon EC2.</dd>
<dt><tt class="docutils literal"><span class="pre">-r</span> <span class="pre">RUN_LIST</span></tt>, <tt class="docutils literal"><span class="pre">--run-list</span> <span class="pre">RUN_LIST</span></tt></dt>
<dd>A comma-separated list of roles and/or recipes to be applied.</dd>
<dt><tt class="docutils literal"><span class="pre">--region</span> <span class="pre">REGION</span></tt></dt>
<dd>The name of the region from which instances of hosted applications are launched. Each region has a unique endpoint.</dd>
</dl>
</div>
<div class="section" id="id17">
<h3>server create<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">create</span></tt> argument is used to create a new Amazon EC2 cloud instance. This will provision a new image in Amazon EC2, perform a Chef bootstrap (using the SSH protocol), and then install Chef on the target system so that it can be run as a chef-client and communicate with a Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife ec2 server create (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">KEY</span></tt>, <tt class="docutils literal"><span class="pre">--aws-access-key-id</span> <span class="pre">KEY</span></tt></dt>
<dd>The access key identifier used with Amazon EC2.</dd>
<dt><tt class="docutils literal"><span class="pre">-bootstrap-protocol</span> <span class="pre">PROTOCOL</span></tt></dt>
<dd>The protocol used to bootstrap on a machine that is running Windows Server: <tt class="docutils literal"><span class="pre">winrm</span></tt> or <tt class="docutils literal"><span class="pre">ssh</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">--bootstrap-version</span> <span class="pre">VERSION</span></tt></dt>
<dd>The version of Chef to install.</dd>
<dt><tt class="docutils literal"><span class="pre">-d</span> <span class="pre">DISTRO</span></tt>, <tt class="docutils literal"><span class="pre">--distro</span> <span class="pre">DISTRO</span></tt></dt>
<dd>Indicates that a bootstrap operation will use a template file. If this option is used the name of the template file (<tt class="docutils literal"><span class="pre">--template-file</span></tt>) must also be provided. The following distributions are supported: <tt class="docutils literal"><span class="pre">chef-full</span></tt> (the default bootstrap), <tt class="docutils literal"><span class="pre">centos5-gems</span></tt>, <tt class="docutils literal"><span class="pre">fedora13-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-apt</span></tt>, and <tt class="docutils literal"><span class="pre">ubuntu12.04-gems</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">--ebs-size</span> <span class="pre">SIZE</span></tt></dt>
<dd>The size of the Amazon Elastic Block Store volume, in GB. This option is only available for instances that are backed with Amazon Elastic Block Store.</dd>
<dt><tt class="docutils literal"><span class="pre">--ebs-no-delete-on-term</span></tt></dt>
<dd>Indicates that the Amazon Elastic Block Store volume will not be deleted upon instance termination. This option is only available for instances that are backed with Amazon Elastic Block Store.</dd>
<dt><tt class="docutils literal"><span class="pre">-ephemeral</span> <span class="pre">DEVICE</span></tt></dt>
<dd>A comma-separated list of device locations to be mapped to ephemeral devices.</dd>
<dt><tt class="docutils literal"><span class="pre">-f</span> <span class="pre">FLAVOR</span></tt>, <tt class="docutils literal"><span class="pre">--flavor</span> <span class="pre">FLAVOR</span></tt></dt>
<dd>The name of the flavor that identifies the hardware configuration of the server, including disk space, memory capacity, and CPU priority.</dd>
<dt><tt class="docutils literal"><span class="pre">-fqdn</span> <span class="pre">FQDN</span></tt></dt>
<dd>A pre-defined fully qualified domain name.</dd>
<dt><tt class="docutils literal"><span class="pre">-g</span> <span class="pre">X,Y,Z</span></tt>, <tt class="docutils literal"><span class="pre">--security-group-ids</span> <span class="pre">X,Y,Z</span></tt></dt>
<dd>A comma-separated list of security group identifiers. Required when using Amazon Virtual Private Cloud.</dd>
<dt><tt class="docutils literal"><span class="pre">-G</span> <span class="pre">X,Y,Z</span></tt>, <tt class="docutils literal"><span class="pre">--groups</span> <span class="pre">X,Y,Z</span></tt></dt>
<dd>A comma-separated list of security groups. Not supported when using Amazon Virtual Private Cloud.</dd>
<dt><tt class="docutils literal"><span class="pre">-hint</span> <span class="pre">HINT_NAME[=HINT_FILE]</span></tt></dt>
<dd>Indicates that an Ohai hint will be set on the target of the bootstrap. Use multiple <tt class="docutils literal"><span class="pre">--hint</span></tt> options to specify multiple hints.</dd>
<dt><tt class="docutils literal"><span class="pre">-i</span> <span class="pre">IDENTITY_FILE</span></tt>, <tt class="docutils literal"><span class="pre">--identity-file</span> <span class="pre">IDENTITY_FILE</span></tt></dt>
<dd>The SSH identity file used for authentication. Key-based authentication is recommended.</dd>
<dt><tt class="docutils literal"><span class="pre">-I</span> <span class="pre">IMAGE</span></tt>, <tt class="docutils literal"><span class="pre">--image</span> <span class="pre">IMAGE</span></tt></dt>
<dd>The name of the image that identifies the operating system (and version) that will be used to create the virtual machine.</dd>
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">SECRET</span></tt>, <tt class="docutils literal"><span class="pre">--aws-secret-access-key</span> <span class="pre">SECRET</span></tt></dt>
<dd>The secret access key for the API endpoint used with Amazon EC2.</dd>
<dt><tt class="docutils literal"><span class="pre">-N</span> <span class="pre">NAME</span></tt>, <tt class="docutils literal"><span class="pre">--node-name</span> <span class="pre">NAME</span></tt></dt>
<dd>The name of the node on the Chef server.</dd>
<dt><tt class="docutils literal"><span class="pre">--[no-]host-key-verify</span></tt></dt>
<dd>Use <tt class="docutils literal"><span class="pre">--no-host-key-verify</span></tt> to disable host key verification. Host key verification is enabled by default.</dd>
<dt><tt class="docutils literal"><span class="pre">-p</span> <span class="pre">PORT</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-port</span> <span class="pre">PORT</span></tt></dt>
<dd>The SSH port.</dd>
<dt><tt class="docutils literal"><span class="pre">-P</span> <span class="pre">PASSWORD</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-password</span> <span class="pre">PASSWORD</span></tt></dt>
<dd>The SSH password. This can be used to pass the password directly on the command line. If this option is not specified (and a password is required) Knife will prompt for the password.</dd>
<dt><tt class="docutils literal"><span class="pre">--prerelease</span></tt></dt>
<dd>Indicates that pre-release Chef gems should be installed.</dd>
<dt><tt class="docutils literal"><span class="pre">-r</span> <span class="pre">RUN_LIST</span></tt>, <tt class="docutils literal"><span class="pre">--run-list</span> <span class="pre">RUN_LIST</span></tt></dt>
<dd>A comma-separated list of roles and/or recipes to be applied.</dd>
<dt><tt class="docutils literal"><span class="pre">--region</span> <span class="pre">REGION</span></tt></dt>
<dd>The name of the region from which instances of hosted applications are launched. Each region has a unique endpoint.</dd>
<dt><tt class="docutils literal"><span class="pre">-s</span> <span class="pre">SUBNET-ID</span></tt>, <tt class="docutils literal"><span class="pre">--subnet</span> <span class="pre">SUBNET-ID</span></tt></dt>
<dd>The Amazon Virtual Private Cloud instance in which a node will be created.</dd>
<dt><tt class="docutils literal"><span class="pre">-S</span> <span class="pre">KEY</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-key</span> <span class="pre">KEY</span></tt></dt>
<dd>The SSH key for the Amazon EC2 environment.</dd>
<dt><tt class="docutils literal"><span class="pre">-server-connect-attribute</span> <span class="pre">ATTRIBUTE</span></tt></dt>
<dd>The attribute that is used when opening the SSH connection. This should be an Amazon EC2 server attribute.</dd>
<dt><tt class="docutils literal"><span class="pre">--T</span> <span class="pre">Tag=Value[,Tag=Value]</span></tt>, <tt class="docutils literal"><span class="pre">--tags</span> <span class="pre">Tag=Value[,Tag=Value]</span></tt></dt>
<dd>The tags for this server.</dd>
<dt><tt class="docutils literal"><span class="pre">--template-file</span> <span class="pre">TEMPLATE</span></tt></dt>
<dd>The path to the template file that will be used during a bootstrap operation.</dd>
<dt><tt class="docutils literal"><span class="pre">-u</span> <span class="pre">USER_DATA_FILE</span></tt>, <tt class="docutils literal"><span class="pre">--user-data</span> <span class="pre">USER_DATA_FILE</span></tt></dt>
<dd>The Amazon EC2 user data file used during instance provisioning.</dd>
<dt><tt class="docutils literal"><span class="pre">-w</span> <span class="pre">GATEWAY</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-gateway</span> <span class="pre">GATEWAY</span></tt></dt>
<dd>The SSH tunnel or gateway that is used to run a bootstrap action on a machine that is not accessible from the workstation.</dd>
<dt><tt class="docutils literal"><span class="pre">-x</span> <span class="pre">USERNAME</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-user</span> <span class="pre">USERNAME</span></tt></dt>
<dd>The SSH user name.</dd>
<dt><tt class="docutils literal"><span class="pre">-Z</span> <span class="pre">ZONE&quot;</span></tt>, <tt class="docutils literal"><span class="pre">--availability-zone</span> <span class="pre">ZONE</span></tt></dt>
<dd>The name of the Amazon EC2 availability zone. Each availability zone is unique within a region. Default: <tt class="docutils literal"><span class="pre">us-east-1b</span></tt>.</dd>
</dl>
<p>For example, to launch a new Amazon EC2 instance with the &#8220;webserver&#8221; role, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife ec2 server create -r <span class="s2">&quot;role[webserver]&quot;</span> -I ami-2d4aa444 --flavor m1.small -G www,default -x ubuntu -N server01
</pre></div>
</div>
<p>To launch a new Amazon EC2 instance with multiple roles, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife ec2 server create -r <span class="s2">&quot;role[base],role[webserver]&quot;</span> -I ami-2d4aa444 -G www,default -x ubuntu --node-name server01
</pre></div>
</div>
</div>
<div class="section" id="id18">
<h3>server delete<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">delete</span></tt> argument is used to delete one or more nodes that are running in the Amazon EC2 cloud. To find a specific cloud instance, use the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">ec2</span> <span class="pre">server</span> <span class="pre">list</span></tt> argument. Use the <tt class="docutils literal"><span class="pre">--purge</span></tt> option to delete all associated node and client objects from the Chef server or use the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">node</span> <span class="pre">delete</span></tt> and <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">client</span> <span class="pre">delete</span></tt> sub-commands to delete specific node and client objects.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife ec2 server delete SERVER [NODE_NAME...] (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">KEY</span></tt>, <tt class="docutils literal"><span class="pre">--aws-access-key-id</span> <span class="pre">KEY</span></tt></dt>
<dd>The access key identifier used with Amazon EC2.</dd>
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">SECRET</span></tt>, <tt class="docutils literal"><span class="pre">--aws-secret-access-key</span> <span class="pre">SECRET</span></tt></dt>
<dd>The secret access key for the API endpoint used with Amazon EC2.</dd>
<dt><tt class="docutils literal"><span class="pre">-N</span> <span class="pre">NODE_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--node-name</span> <span class="pre">NODE_NAME</span></tt></dt>
<dd>The name of the node and client to delete, if different from the server name. This must be used with the <tt class="docutils literal"><span class="pre">--purge</span></tt> option.</dd>
<dt><tt class="docutils literal"><span class="pre">-p</span></tt>, <tt class="docutils literal"><span class="pre">--purge</span></tt></dt>
<dd>Indicates that all corresponding nodes and clients on the Chef server will be destroyed, in addition to the Amazon EC2 node itself. This action (by itself) assumes that the node and client have the same name as the server; if they do not have the same names, then the <tt class="docutils literal"><span class="pre">--node-name</span></tt> option must be used to specify the name of the node.</dd>
<dt><tt class="docutils literal"><span class="pre">--region</span> <span class="pre">REGION</span></tt></dt>
<dd>The name of the region from which instances of hosted applications are launched. Each region has a unique endpoint.</dd>
</dl>
<p>For example, to delete a node called &#8220;preprod&#8221; in an instance named &#8220;operations&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife ec2 server delete operations preprod
</pre></div>
</div>
</div>
<div class="section" id="id19">
<h3>server list<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">list</span></tt> argument is used to find instances that are associated with a Amazon EC2 account. The results may show instances that are not currently managed by the Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife ec2 server list</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">KEY</span></tt>, <tt class="docutils literal"><span class="pre">--aws-access-key-id</span> <span class="pre">KEY</span></tt></dt>
<dd>The access key identifier used with Amazon EC2.</dd>
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">SECRET</span></tt>, <tt class="docutils literal"><span class="pre">--aws-secret-access-key</span> <span class="pre">SECRET</span></tt></dt>
<dd>The secret access key for the API endpoint used with Amazon EC2.</dd>
<dt><tt class="docutils literal"><span class="pre">-n</span></tt>, <tt class="docutils literal"><span class="pre">--no-name</span></tt></dt>
<dd>Indicates that tag names will not be displayed in the output.</dd>
<dt><tt class="docutils literal"><span class="pre">--region</span> <span class="pre">REGION</span></tt></dt>
<dd>The name of the region from which instances of hosted applications are launched. Each region has a unique endpoint.</dd>
<dt><tt class="docutils literal"><span class="pre">-t</span> <span class="pre">TAG1,</span> <span class="pre">TAG2</span></tt>, <tt class="docutils literal"><span class="pre">--tags</span> <span class="pre">TAG1,</span> <span class="pre">TAG2</span></tt></dt>
<dd>A list of tags that will be displayed in the output.</dd>
</dl>
</div>
</div>
<div class="section" id="environment">
<h2>environment<a class="headerlink" href="#environment" title="Permalink to this headline">¶</a></h2>
<p>An environment is a way to map an organization&#8217;s real-life workflow to what can be configured and managed when using Chef server. Every Chef organization begins with a single environment called the <tt class="docutils literal"><span class="pre">_default</span></tt> environment, which cannot be modified (or deleted). Additional environments can be created, such as production, staging, testing, and development. Generally, an environment is also associated with one (or more) cookbook versions.</p>
<p>The <tt class="docutils literal"><span class="pre">environment</span></tt> sub-command is used to manage environments within a single organization on the Chef server.</p>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife environment [ARGUMENT] (options)</pre>
</div>
<div class="section" id="id20">
<h3>create<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">create</span></tt> argument is used to add an environment object to the Chef server. When this argument is run, Knife will open $EDITOR to enable editing of the ENVIRONMENT description field (unless a description is specified as part of the command). When finished, Knife will add the environment to the Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife environment create ENVIRONMENT_NAME -d DESCRIPTION</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-d</span> <span class="pre">DESCRIPTION</span></tt>, <tt class="docutils literal"><span class="pre">--description</span> <span class="pre">DESCRIPTION</span></tt></dt>
<dd>The description of the environment. This value will populate the description field for the environment on the Chef server.</dd>
</dl>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife environment create dev -d <span class="s2">&quot;The development environment.&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="id21">
<h3>delete<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">delete</span></tt> argument is used to delete an environment from a Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife environment delete ENVIRONMENT_NAME</pre>
</div>
<p>This argument does not have any options.</p>
<p>For example, to delete an environment named &#8220;dev&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife environment delete dev
</pre></div>
</div>
<p>Type <tt class="docutils literal"><span class="pre">Y</span></tt> to confirm a deletion.</p>
</div>
<div class="section" id="id22">
<h3>edit<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">edit</span></tt> argument is used to edit the attributes of an environment. When this argument is run, Knife will open $EDITOR to enable editing of ENVIRONMENT attributes. When finished, Knife will update the Chef server with those changes.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife environment edit ENVIRONMENT_NAME</pre>
</div>
<p>For example, to edit an environment named &#8220;devops&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife environment edit devops
</pre></div>
</div>
</div>
<div class="section" id="id23">
<h3>from file<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">from</span> <span class="pre">file</span></tt> argument is used to add or update an environment using a JSON or Ruby DSL description. It must be run with the <tt class="docutils literal"><span class="pre">create</span></tt> or <tt class="docutils literal"><span class="pre">edit</span></tt> arguments.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife environment [create | edit] from file FILE</pre>
</div>
<p>This argument does not have any options.</p>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife environment create devops from file <span class="s2">&quot;path to file&quot;</span>
</pre></div>
</div>
<p>Or:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife environment edit devops from file <span class="s2">&quot;path to file&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="id24">
<h3>list<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">list</span></tt> argument is used to list all of the environments that are currently available on the Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife environment list -w</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-w</span></tt>, <tt class="docutils literal"><span class="pre">--with-uri</span></tt></dt>
<dd>Indicates that the corresponding URIs will be shown.</dd>
</dl>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife environment list -w
</pre></div>
</div>
</div>
<div class="section" id="id25">
<h3>show<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">show</span></tt> argument is used to display information about the specified environment.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife environment show ENVIRONMENT_NAME</pre>
</div>
<p>This argument does not have any options.</p>
<p>For example, to view information about the &#8220;dev&#8221; environment enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife environment show dev
</pre></div>
</div>
<p>to return:</p>
<div class="highlight-bash"><div class="highlight"><pre>% knife environment show dev
chef_type:            environment
cookbook_versions:
default_attributes:
description:
json_class:           Chef::Environment
name:                 dev
override_attributes:

<span class="se">\\</span>
<span class="se">\\</span>
<span class="se">\\</span>
<span class="se">\\</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="eucalyptus-plug-in">
<h2>eucalyptus (plug-in)<a class="headerlink" href="#eucalyptus-plug-in" title="Permalink to this headline">¶</a></h2>
<p>Eucalyptus is an infrastructure as a service (IaaS) platform that supports hybrid-IaaS configurations that allow data to move between hosted and on-premise data centers. The <tt class="docutils literal"><span class="pre">eucalyptus</span></tt> sub-command is used to manage API-driven cloud servers that are hosted by Eucalyptus.</p>
<p>This plugin is available on github: <a class="reference external" href="https://github.com/opscode/knife-eucalyptus">https://github.com/opscode/knife-eucalyptus</a>.</p>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife eucalyptus [ARGUMENT] (options)</pre>
</div>
<div class="section" id="flavor-list">
<h3>flavor list<a class="headerlink" href="#flavor-list" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">flavor</span> <span class="pre">list</span></tt> argument is used to get a list of servers from the Eucalyptus environment, listed by ID, architecture, RAM, and disks, and cores.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife eucalyptus flavor list</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">ID</span></tt>, <tt class="docutils literal"><span class="pre">--euca-access-key-id</span> <span class="pre">ID</span></tt></dt>
<dd>The access key identifier for Eucalyptus.</dd>
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">SECRET</span></tt>, <tt class="docutils literal"><span class="pre">--euca-secret-access-key</span> <span class="pre">SECRET</span></tt></dt>
<dd>The secret access key for Eucalyptus.</dd>
<dt><tt class="docutils literal"><span class="pre">--euca-api-endpoint</span> <span class="pre">ENDPOINT</span></tt></dt>
<dd>The Eucalyptus API endpoint.</dd>
<dt><tt class="docutils literal"><span class="pre">--region</span> <span class="pre">REGION</span></tt></dt>
<dd>The name of the region from which instances of hosted applications are launched.</dd>
</dl>
<p>For example, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife eucalyptus flavor list
</pre></div>
</div>
</div>
<div class="section" id="id26">
<h3>image list<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">image</span> <span class="pre">list</span></tt> argument is used to list of images from the Eucalyptus environment, listed by ID, kernel ID, architecture, and location.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife eucalyptus image list</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">ID</span></tt>, <tt class="docutils literal"><span class="pre">--euca-access-key-id</span> <span class="pre">ID</span></tt></dt>
<dd>The access key identifier for Eucalyptus.</dd>
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">SECRET</span></tt>, <tt class="docutils literal"><span class="pre">--euca-secret-access-key</span> <span class="pre">SECRET</span></tt></dt>
<dd>The secret access key for Eucalyptus.</dd>
<dt><tt class="docutils literal"><span class="pre">--euca-api-endpoint</span> <span class="pre">ENDPOINT</span></tt></dt>
<dd>The Eucalyptus API endpoint.</dd>
<dt><tt class="docutils literal"><span class="pre">--region</span> <span class="pre">REGION</span></tt></dt>
<dd>The name of the region from which instances of hosted applications are launched.</dd>
</dl>
<p>For example, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife eucalyptus flavor list
</pre></div>
</div>
</div>
<div class="section" id="id27">
<h3>server create<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">create</span></tt> argument is used to create a new Eucalyptus cloud instance. This will provision a new image in Eucalyptus, perform a Chef bootstrap (using the SSH protocol), and then install Chef on the target system so that it can be run as a chef-client and communicate with a Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife eucalyptus server create (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">ID</span></tt>, <tt class="docutils literal"><span class="pre">--euca-access-key-id</span> <span class="pre">ID</span></tt></dt>
<dd>The access key identifier for Eucalyptus.</dd>
<dt><tt class="docutils literal"><span class="pre">--bootstrap-version</span> <span class="pre">VERSION</span></tt></dt>
<dd>The version of Chef to install.</dd>
<dt><tt class="docutils literal"><span class="pre">-d</span> <span class="pre">DISTRO</span></tt>, <tt class="docutils literal"><span class="pre">--distro</span> <span class="pre">DISTRO</span></tt></dt>
<dd>Indicates that a bootstrap operation will use a template file. If this option is used the name of the template file (<tt class="docutils literal"><span class="pre">--template-file</span></tt>) must also be provided. The following distributions are supported: <tt class="docutils literal"><span class="pre">chef-full</span></tt> (the default bootstrap), <tt class="docutils literal"><span class="pre">centos5-gems</span></tt>, <tt class="docutils literal"><span class="pre">fedora13-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-apt</span></tt>, and <tt class="docutils literal"><span class="pre">ubuntu12.04-gems</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">--euca-api-endpoint</span> <span class="pre">ENDPOINT</span></tt></dt>
<dd>The Eucalyptus API endpoint.</dd>
<dt><tt class="docutils literal"><span class="pre">-f</span> <span class="pre">FLAVOR</span></tt>, <tt class="docutils literal"><span class="pre">--flavor</span> <span class="pre">FLAVOR</span></tt></dt>
<dd>The name of the flavor that identifies the hardware configuration of the server, including disk space, memory capacity, and CPU priority.</dd>
<dt><tt class="docutils literal"><span class="pre">-G</span> <span class="pre">X,Y,Z</span></tt>, <tt class="docutils literal"><span class="pre">--groups</span> <span class="pre">X,Y,Z</span></tt></dt>
<dd>A comma-separated list of security groups.</dd>
<dt><tt class="docutils literal"><span class="pre">-i</span> <span class="pre">IDENTITY_FILE</span></tt>, <tt class="docutils literal"><span class="pre">--identity-file</span> <span class="pre">IDENTITY_FILE</span></tt></dt>
<dd>The SSH identity file used for authentication. Key-based authentication is recommended.</dd>
<dt><tt class="docutils literal"><span class="pre">-I</span> <span class="pre">IMAGE</span></tt>, <tt class="docutils literal"><span class="pre">--image</span> <span class="pre">IMAGE</span></tt></dt>
<dd>The name of the image that identifies the operating system (and version) that will be used to create the virtual machine.</dd>
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">SECRET</span></tt>, <tt class="docutils literal"><span class="pre">--euca-secret-access-key</span> <span class="pre">SECRET</span></tt></dt>
<dd>The secret access key for Eucalyptus.</dd>
<dt><tt class="docutils literal"><span class="pre">-N</span> <span class="pre">NAME</span></tt>, <tt class="docutils literal"><span class="pre">--node-name</span> <span class="pre">NAME</span></tt></dt>
<dd>The name of the node on the Chef server.</dd>
<dt><tt class="docutils literal"><span class="pre">--[no-]host-key-verify</span></tt></dt>
<dd>Use <tt class="docutils literal"><span class="pre">--no-host-key-verify</span></tt> to disable host key verification. Host key verification is enabled by default.</dd>
<dt><tt class="docutils literal"><span class="pre">-P</span> <span class="pre">PASSWORD</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-password</span> <span class="pre">PASSWORD</span></tt></dt>
<dd>The SSH password. This can be used to pass the password directly on the command line. If this option is not specified (and a password is required) Knife will prompt for the password.</dd>
<dt><tt class="docutils literal"><span class="pre">--prerelease</span></tt></dt>
<dd>Indicates that pre-release Chef gems should be installed.</dd>
<dt><tt class="docutils literal"><span class="pre">-r</span> <span class="pre">RUN_LIST</span></tt>, <tt class="docutils literal"><span class="pre">--run-list</span> <span class="pre">RUN_LIST</span></tt></dt>
<dd>A comma-separated list of roles and/or recipes to be applied.</dd>
<dt><tt class="docutils literal"><span class="pre">--region</span> <span class="pre">REGION</span></tt></dt>
<dd>The name of the region from which instances of hosted applications are launched.</dd>
<dt><tt class="docutils literal"><span class="pre">-S</span> <span class="pre">KEY</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-key</span> <span class="pre">KEY</span></tt></dt>
<dd>The SSH key for the Eucalyptus environment.</dd>
<dt><tt class="docutils literal"><span class="pre">--template-file</span> <span class="pre">TEMPLATE</span></tt></dt>
<dd>The path to the template file that will be used during a bootstrap operation.</dd>
<dt><tt class="docutils literal"><span class="pre">-x</span> <span class="pre">USER_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-user</span> <span class="pre">USER_NAME</span></tt></dt>
<dd>The SSH user name.</dd>
<dt><tt class="docutils literal"><span class="pre">-Z</span> <span class="pre">ZONE</span></tt>, <tt class="docutils literal"><span class="pre">--availability-zone</span> <span class="pre">ZONE</span></tt></dt>
<dd>The name of the Eucalyptus availability zone. Each availability zone is unique within a region. Default: <tt class="docutils literal"><span class="pre">us-east-1b</span></tt>.</dd>
</dl>
<p>For example, to create a new instance, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>xxxxx
</pre></div>
</div>
</div>
<div class="section" id="id28">
<h3>server delete<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">delete</span></tt> argument is used to delete one or more instances that are running in the Eucalyptus cloud. To find a specific cloud instance, use the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">eucalyptus</span> <span class="pre">server</span> <span class="pre">list</span></tt> argument. Use the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">node</span> <span class="pre">delete</span></tt> and <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">client</span> <span class="pre">delete</span></tt> sub-commands to delete associated node and client objects (if required).</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife eucalyptus server delete [SERVER_ID...]</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">ID</span></tt>, <tt class="docutils literal"><span class="pre">--euca-access-key-id</span> <span class="pre">ID</span></tt></dt>
<dd>The access key identifier for Eucalyptus.</dd>
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">SECRET</span></tt>, <tt class="docutils literal"><span class="pre">--euca-secret-access-key</span> <span class="pre">SECRET</span></tt></dt>
<dd>The secret access key for Eucalyptus.</dd>
<dt><tt class="docutils literal"><span class="pre">--euca-api-endpoint</span> <span class="pre">ENDPOINT</span></tt></dt>
<dd>The Eucalyptus API endpoint.</dd>
<dt><tt class="docutils literal"><span class="pre">--region</span> <span class="pre">REGION</span></tt></dt>
<dd>The name of the region from which instances of hosted applications are launched.</dd>
</dl>
<p>For example, to delete an instance named &#8220;devops2012&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife eucalyptus server delete devops2012
</pre></div>
</div>
</div>
<div class="section" id="id29">
<h3>server list<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">list</span></tt> argument is used to find instances that are associated with a Eucalyptus account. The results may show instances that are not currently managed by the Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife eucalyptus server list</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">ID</span></tt>, <tt class="docutils literal"><span class="pre">--euca-access-key-id</span> <span class="pre">ID</span></tt></dt>
<dd>The access key identifier for Eucalyptus.</dd>
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">SECRET</span></tt>, <tt class="docutils literal"><span class="pre">--euca-secret-access-key</span> <span class="pre">SECRET</span></tt></dt>
<dd>The secret access key for Eucalyptus.</dd>
<dt><tt class="docutils literal"><span class="pre">--euca-api-endpoint</span> <span class="pre">ENDPOINT</span></tt></dt>
<dd>The Eucalyptus API endpoint.</dd>
<dt><tt class="docutils literal"><span class="pre">--region</span> <span class="pre">REGION</span></tt></dt>
<dd>The name of the region from which instances of hosted applications are launched.</dd>
</dl>
</div>
</div>
<div class="section" id="exec">
<h2>exec<a class="headerlink" href="#exec" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">exec</span></tt> sub-command uses the Knife configuration file to execute Ruby scripts in the context of a fully configured chef-client. This sub-command is most often used to run scripts that will only access Chef server one time (or otherwise very infrequently). Use this command any time that an operation does not warrant full usage of the Knife sub-command library.</p>
<p>For Ruby scripts that will be run using the <tt class="docutils literal"><span class="pre">exec</span></tt> sub-command, note the following:</p>
<blockquote>
<div><ul class="simple">
<li>The Ruby script must be located on the system from which Knife is run (and not be located on any of the systems that Knife will be managing).</li>
<li>Shell commands will be run from a management workstation. For example, something like <tt class="docutils literal"><span class="pre">%x[ls</span> <span class="pre">-lash</span> <span class="pre">/opt/only-on-a-node]</span></tt> would give you the directory listing for the &#8220;opt/only-on-a-node&#8221; directory or a &#8220;No such file or directory&#8221; error if the file does not already exist locally.</li>
<li>When the Shef DSL is available, the chef-client DSL will not be (unless the management workstation is also a chef-client). Without the chef-client DSL, a bash block cannot be used to run bash commands.</li>
</ul>
</div></blockquote>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife exec SCRIPT (options)</pre>
</div>
<p>This sub-command has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-E</span> <span class="pre">CODE</span></tt>, <tt class="docutils literal"><span class="pre">--exec</span> <span class="pre">CODE</span></tt></dt>
<dd>A string of code that will be executed.</dd>
<dt><tt class="docutils literal"><span class="pre">-p</span> <span class="pre">PATH:PATH</span></tt>, <tt class="docutils literal"><span class="pre">--script-path</span> <span class="pre">PATH:PATH</span></tt></dt>
<dd>A colon-separated path at which Ruby scripts are located.</dd>
</dl>
<p>There are three ways to use <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">exec</span></tt> to run Ruby script files. For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife <span class="nb">exec</span> /path/to/script_file
</pre></div>
</div>
<p>Or:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife <span class="nb">exec</span> -E <span class="s1">&#39;RUBY CODE&#39;</span>
</pre></div>
</div>
<p>Or:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife <span class="nb">exec</span>
RUBY CODE
^D
</pre></div>
</div>
<p>For example, to list all of the available search indexes, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife <span class="nb">exec</span> -E <span class="s1">&#39;puts api.get(&quot;search&quot;).keys&#39;</span>
</pre></div>
</div>
<p>Or to show the available free memory for all nodes, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife <span class="nb">exec</span> -E <span class="s1">&#39;nodes.all {|n| puts &quot;#{n.name} has #{n.memory.total} free memory&quot;}&#39;</span>
</pre></div>
</div>
<p>Or to check the status of Knife using a Ruby script named &#8220;status.rb&#8221; (which looks like):</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="nb">printf</span> <span class="s2">&quot;%-5s %-12s %-8s %s</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;Check In&quot;</span><span class="p">,</span> <span class="s2">&quot;Name&quot;</span><span class="p">,</span> <span class="s2">&quot;Ruby&quot;</span><span class="p">,</span> <span class="s2">&quot;Recipes&quot;</span>
<span class="n">nodes</span><span class="o">.</span><span class="n">all</span> <span class="k">do</span> <span class="o">|</span><span class="n">n</span><span class="o">|</span>
   <span class="n">checkin</span> <span class="o">=</span> <span class="no">Time</span><span class="o">.</span><span class="n">at</span><span class="p">(</span><span class="n">n</span><span class="o">[</span><span class="s1">&#39;ohai_time&#39;</span><span class="o">]</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%F %R&quot;</span><span class="p">)</span>
   <span class="n">rubyver</span> <span class="o">=</span> <span class="n">n</span><span class="o">[</span><span class="s1">&#39;languages&#39;</span><span class="o">][</span><span class="s1">&#39;ruby&#39;</span><span class="o">][</span><span class="s1">&#39;version&#39;</span><span class="o">]</span>
   <span class="n">recipes</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">run_list</span><span class="o">.</span><span class="n">expand</span><span class="o">.</span><span class="n">recipes</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="p">)</span>
   <span class="nb">printf</span> <span class="s2">&quot;%-20s %-12s %-8s %s</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">checkin</span><span class="p">,</span> <span class="n">n</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">rubyver</span><span class="p">,</span> <span class="n">recipes</span>
<span class="k">end</span>
</pre></div>
</div>
<p>and is located in a directory named &#8220;scripts&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife <span class="nb">exec </span>scripts/status.rb
</pre></div>
</div>
<p>To query a node for multiple attributes using a Ruby script named search_attributes.rb (which looks like):</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="sx">% cat </span><span class="n">scripts</span><span class="o">/</span><span class="n">search_attributes</span><span class="o">.</span><span class="n">rb</span>
<span class="n">query</span> <span class="o">=</span> <span class="no">ARGV</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
<span class="n">attributes</span> <span class="o">=</span> <span class="no">ARGV</span><span class="o">[</span><span class="mi">3</span><span class="o">].</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
<span class="nb">puts</span> <span class="s2">&quot;Your query: </span><span class="si">#{</span><span class="n">query</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">puts</span> <span class="s2">&quot;Your attributes: </span><span class="si">#{</span><span class="n">attributes</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">search</span><span class="p">(</span><span class="ss">:node</span><span class="p">,</span> <span class="n">query</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">n</span><span class="o">|</span>
   <span class="n">results</span><span class="o">[</span><span class="n">n</span><span class="o">.</span><span class="n">name</span><span class="o">]</span> <span class="o">=</span> <span class="p">{}</span>
   <span class="n">attributes</span><span class="o">.</span><span class="n">each</span> <span class="p">{</span><span class="o">|</span><span class="n">a</span><span class="o">|</span> <span class="n">results</span><span class="o">[</span><span class="n">n</span><span class="o">.</span><span class="n">name</span><span class="o">][</span><span class="n">a</span><span class="o">]</span> <span class="o">=</span> <span class="n">n</span><span class="o">[</span><span class="n">a</span><span class="o">]</span><span class="p">}</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">results</span>
<span class="nb">exit</span> <span class="mi">0</span>
</pre></div>
</div>
<p>enter:</p>
<div class="highlight-bash"><div class="highlight"><pre>% knife <span class="nb">exec </span>scripts/search_attributes.rb <span class="s2">&quot;hostname:test_system&quot;</span> ipaddress,fqdn
</pre></div>
</div>
<p>to return something like:</p>
<div class="highlight-bash"><div class="highlight"><pre>Your query: hostname:test_system
Your attributes: ipaddress fqdn
<span class="o">{</span><span class="s2">&quot;test_system.example.com&quot;</span><span class="o">=</span>&gt;<span class="o">{</span><span class="s2">&quot;ipaddress&quot;</span><span class="o">=</span>&gt;<span class="s2">&quot;10.1.1.200&quot;</span>, <span class="s2">&quot;fqdn&quot;</span><span class="o">=</span>&gt;<span class="s2">&quot;test_system.example.com&quot;</span><span class="o">}}</span>
</pre></div>
</div>
</div>
<div class="section" id="google-plug-in">
<h2>google (plug-in)<a class="headerlink" href="#google-plug-in" title="Permalink to this headline">¶</a></h2>
<p>Google Compute Engine is a cloud hosting platform that offers scalable and flexible virtual machine computing. The <tt class="docutils literal"><span class="pre">google</span></tt> sub-command is used to manage API-driven cloud servers that are hosted by Google Compute Engine.</p>
<p>This plugin is available on github: <a class="reference external" href="https://github.com/opscode/knife-google">https://github.com/opscode/knife-google</a>.</p>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife google [ARGUMENT] (options)</pre>
</div>
<div class="section" id="id30">
<h3>server create<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">create</span></tt> argument is used to create a new Google Compute Engine cloud instance. This will provision a new image in Google Compute Engine, perform a Chef bootstrap (using the SSH protocol), and then install Chef on the target system so that it can be run as a chef-client and communicate with a Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife google server create SERVER_NAME [RUN_LIST] (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-d</span> <span class="pre">DISTRO</span></tt>, <tt class="docutils literal"><span class="pre">--distro</span> <span class="pre">DISTRO</span></tt></dt>
<dd>Indicates that a bootstrap operation will use a template file. If this option is used the name of the template file (<tt class="docutils literal"><span class="pre">--template-file</span></tt>) must also be provided. The following distributions are supported: <tt class="docutils literal"><span class="pre">chef-full</span></tt> (the default bootstrap), <tt class="docutils literal"><span class="pre">centos5-gems</span></tt>, <tt class="docutils literal"><span class="pre">fedora13-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-apt</span></tt>, and <tt class="docutils literal"><span class="pre">ubuntu12.04-gems</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">-e</span> <span class="pre">IP_ADDRESS</span></tt>, <tt class="docutils literal"><span class="pre">--external-ip-address</span> <span class="pre">IP_ADDRESS</span></tt></dt>
<dd>A static IP address that is provided by Google Compute Engine.</dd>
<dt><tt class="docutils literal"><span class="pre">--template-file</span> <span class="pre">TEMPLATE</span></tt></dt>
<dd>The path to the template file that will be used during a bootstrap operation.</dd>
<dt><tt class="docutils literal"><span class="pre">-f</span> <span class="pre">FLAVOR</span></tt>, <tt class="docutils literal"><span class="pre">--flavor</span> <span class="pre">FLAVOR</span></tt></dt>
<dd>The name of the flavor that identifies the hardware configuration of the server, including disk space, memory capacity, and CPU priority.</dd>
<dt><tt class="docutils literal"><span class="pre">-i</span> <span class="pre">PRIVATE_KEY_FILE</span></tt>, <tt class="docutils literal"><span class="pre">--private-key-file</span> <span class="pre">PRIVATE_KEY_FILE</span></tt></dt>
<dd>The file in which the SSH private key used for authentication is located.</dd>
<dt><tt class="docutils literal"><span class="pre">-I</span> <span class="pre">IMAGE</span></tt>, <tt class="docutils literal"><span class="pre">--google-image</span> <span class="pre">IMAGE</span></tt></dt>
<dd>The name of the virtual application template or image that will be used to create the virtual machine. Default: <tt class="docutils literal"><span class="pre">gcompute8-standard</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">-k</span> <span class="pre">PUBLIC_KEY_FILE</span></tt>, <tt class="docutils literal"><span class="pre">--public-key-file</span> <span class="pre">PUBLIC_KEY_FILE</span></tt>]</dt>
<dd>The file in which the SSH public key used for authentication is located.</dd>
<dt><tt class="docutils literal"><span class="pre">-n</span> <span class="pre">NETWORK_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--network</span> <span class="pre">NETWORK_NAME</span></tt></dt>
<dd>The name of the network in which the virtual machine will be created.</dd>
<dt><tt class="docutils literal"><span class="pre">-N</span> <span class="pre">NODE_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--node-name</span> <span class="pre">NODE_NAME</span></tt></dt>
<dd>The name of the node on the Chef server.</dd>
<dt><tt class="docutils literal"><span class="pre">-s</span> <span class="pre">SERVER_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--server-name</span> <span class="pre">SERVER_NAME</span></tt></dt>
<dd>The name of the server.</dd>
<dt><tt class="docutils literal"><span class="pre">-p</span> <span class="pre">PROJECT</span></tt>, <tt class="docutils literal"><span class="pre">--project_id</span> <span class="pre">PROJECT</span></tt></dt>
<dd>The identifier for the Google Compute Engine project.</dd>
<dt><tt class="docutils literal"><span class="pre">-P</span> <span class="pre">IP_ADDRESS</span></tt>, <tt class="docutils literal"><span class="pre">--internal-ip-address</span> <span class="pre">IP_ADDRESS</span></tt></dt>
<dd>A static IP address that is provided by Google Compute Engine.</dd>
<dt><tt class="docutils literal"><span class="pre">-r</span> <span class="pre">RUN_LIST</span></tt>, <tt class="docutils literal"><span class="pre">--run-list</span> <span class="pre">RUN_LIST</span></tt></dt>
<dd>A comma-separated list of roles and/or recipes to be applied.</dd>
<dt><tt class="docutils literal"><span class="pre">-x</span> <span class="pre">USER_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-user</span> <span class="pre">USER_NAME</span></tt></dt>
<dd>The SSH user name.</dd>
<dt><tt class="docutils literal"><span class="pre">-Z</span> <span class="pre">ZONE</span></tt>, <tt class="docutils literal"><span class="pre">--availability-zone</span> <span class="pre">ZONE</span></tt></dt>
<dd>The name of the Google Compute Engine availability zone. Each availability zone is unique within a region. Default: <tt class="docutils literal"><span class="pre">us-east-a</span></tt>.</dd>
</dl>
<p>For example, to create an instance, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>xxxxx
</pre></div>
</div>
</div>
<div class="section" id="id31">
<h3>server delete<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">delete</span></tt> argument is used to delete one or more instances that are running in the Google Compute Engine cloud. To find a specific cloud instance, use the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">google</span> <span class="pre">server</span> <span class="pre">list</span></tt> argument. Use the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">node</span> <span class="pre">delete</span></tt> and <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">client</span> <span class="pre">delete</span></tt> sub-commands to delete associated node and client objects (if required).</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife google server delete SERVER_NAME (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-p</span> <span class="pre">PROJECT_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--project-id</span> <span class="pre">PROJECT_NAME</span></tt></dt>
<dd>The identifier for the Google Compute Engine project.</dd>
</dl>
<p>For example, to delete a server named &#8220;devops01&#8221; from a project named &#8220;engineering&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife google server delete devops1 engineering
</pre></div>
</div>
</div>
<div class="section" id="id32">
<h3>server list<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">list</span></tt> argument is used to find instances that are associated with a Google Compute Engine account. The results may show instances that are not currently managed by the Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife google server list (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-p</span> <span class="pre">PROJECT_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--project-id</span> <span class="pre">PROJECT_NAME</span></tt></dt>
<dd>The identifier for the Google Compute Engine project.</dd>
</dl>
<p>For example, to view a list of instances associated with a project named &#8220;dev-01&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife google server list -p dev-01
</pre></div>
</div>
</div>
</div>
<div class="section" id="hp-plug-in">
<h2>hp (plug-in)<a class="headerlink" href="#hp-plug-in" title="Permalink to this headline">¶</a></h2>
<p>HP Cloud Compute is a cloud hosting platform that provides computing, storage, identity, and other services across private, managed, and public clouds. The <tt class="docutils literal"><span class="pre">hp</span></tt> sub-command is used to manage API-driven cloud servers that are hosted by HP Cloud Compute.</p>
<p>This plugin is available on github: <a class="reference external" href="https://github.com/mattray/knife-hp">https://github.com/mattray/knife-hp</a>.</p>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife hp [ARGUMENT] (options)</pre>
</div>
<div class="section" id="id33">
<h3>flavor list<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">flavor</span> <span class="pre">list</span></tt> argument is used to get a list of servers from the HP Cloud Compute environment, listed by ID, name, cores, RAM, and disk size.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife hp flavor list</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">ID</span></tt>, <tt class="docutils literal"><span class="pre">--hp-account</span> <span class="pre">ID</span></tt></dt>
<dd>The access key identifier for the HP Cloud Compute account.</dd>
<dt><tt class="docutils literal"><span class="pre">--hp-auth</span> <span class="pre">URI</span></tt></dt>
<dd>The URI used during authentication to the HP Cloud Compute account.</dd>
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">SECRET</span></tt>, <tt class="docutils literal"><span class="pre">--hp-secret</span> <span class="pre">SECRET</span></tt></dt>
<dd>The secret key for the HP Cloud Compute account.</dd>
<dt><tt class="docutils literal"><span class="pre">-T</span> <span class="pre">ID</span></tt>, <tt class="docutils literal"><span class="pre">--hp-tenant</span> <span class="pre">ID</span></tt></dt>
<dd>The tenant identifier that represents a collection of service subscriptions and/or resources in the HP Cloud Compute account.</dd>
<dt><tt class="docutils literal"><span class="pre">-Z</span> <span class="pre">ZONE</span></tt>, <tt class="docutils literal"><span class="pre">--hp-zone</span> <span class="pre">ZONE</span></tt></dt>
<dd>The name of the HP Cloud Compute availability zone.</dd>
</dl>
<p>For example, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife hp flavor list
</pre></div>
</div>
<p>to return:</p>
<div class="highlight-bash"><div class="highlight"><pre>ID        Name              Cores     RAM          Disk
100       standard.xsmall   1         1024 MB      30 GB
101       standard.small    2         2048 MB      60 GB
102       standard.medium   2         4096 MB      120 GB
103       standard.large    4         8192 MB      240 GB
104       standard.xlarge   4         16384 MB     480 GB
105       standard.2xlarge  8         32768 MB     960 GB
</pre></div>
</div>
</div>
<div class="section" id="id34">
<h3>image list<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">image</span> <span class="pre">list</span></tt> argument is used to list of images from the HP Cloud Compute environment, listed by ID and name.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife hp image list</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">ID</span></tt>, <tt class="docutils literal"><span class="pre">--hp-account</span> <span class="pre">ID</span></tt></dt>
<dd>The access key identifier for the HP Cloud Compute account.</dd>
<dt><tt class="docutils literal"><span class="pre">--hp-auth</span> <span class="pre">URI</span></tt></dt>
<dd>The URI used during authentication to the HP Cloud Compute account.</dd>
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">SECRET</span></tt>, <tt class="docutils literal"><span class="pre">--hp-secret</span> <span class="pre">SECRET</span></tt></dt>
<dd>The secret key for the HP Cloud Compute account.</dd>
<dt><tt class="docutils literal"><span class="pre">-T</span> <span class="pre">ID</span></tt>, <tt class="docutils literal"><span class="pre">--hp-tenant</span> <span class="pre">ID</span></tt></dt>
<dd>The tenant identifier that represents a collection of service subscriptions and/or resources in the HP Cloud Compute account.</dd>
<dt><tt class="docutils literal"><span class="pre">-Z</span> <span class="pre">ZONE</span></tt>, <tt class="docutils literal"><span class="pre">--hp-zone</span> <span class="pre">ZONE</span></tt></dt>
<dd>The name of the HP Cloud Compute availability zone.</dd>
</dl>
<p>For example, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife hp flavor list
</pre></div>
</div>
<p>to return:</p>
<div class="highlight-bash"><div class="highlight"><pre>ID                Name
1234              CentOS 5.6 Server 64-bit
1358              CentOS 6.2 Server 64-bit
1361              Debian Squeeze 6.0.3 Server 64-bit
1236              Ubuntu Lucid 10.04 LTS Server 64-bit
1238              Ubuntu Maverick 10.10 Server 64-bit
1240              Ubuntu Natty 11.04 Server 64-bit
1242              Ubuntu Oneiric 11.10 Server 64-bit
</pre></div>
</div>
</div>
<div class="section" id="id35">
<h3>server create<a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">create</span></tt> argument is used to create a new HP Cloud Compute cloud instance. This will provision a new image in HP Cloud Compute, perform a Chef bootstrap (using the SSH protocol), and then install Chef on the target system so that it can be run as a chef-client and communicate with a Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife hp server create (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">ID</span></tt>, <tt class="docutils literal"><span class="pre">--hp-account</span> <span class="pre">ID</span></tt></dt>
<dd>The access key identifier for the HP Cloud Compute account.</dd>
<dt><tt class="docutils literal"><span class="pre">--bootstrap-proxy</span> <span class="pre">PROXY_URL</span></tt></dt>
<dd>The proxy server for the node that is the target of a bootstrap operation.</dd>
<dt><tt class="docutils literal"><span class="pre">--bootstrap-version</span> <span class="pre">VERSION</span></tt></dt>
<dd>The version of Chef to install.</dd>
<dt><tt class="docutils literal"><span class="pre">-d</span> <span class="pre">DISTRO</span></tt>, <tt class="docutils literal"><span class="pre">--distro</span> <span class="pre">DISTRO</span></tt></dt>
<dd>Indicates that a bootstrap operation will use a template file. If this option is used the name of the template file (<tt class="docutils literal"><span class="pre">--template-file</span></tt>) must also be provided. The following distributions are supported: <tt class="docutils literal"><span class="pre">chef-full</span></tt> (the default bootstrap), <tt class="docutils literal"><span class="pre">centos5-gems</span></tt>, <tt class="docutils literal"><span class="pre">fedora13-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-apt</span></tt>, and <tt class="docutils literal"><span class="pre">ubuntu12.04-gems</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">-f</span> <span class="pre">FLAVOR_ID</span></tt>, <tt class="docutils literal"><span class="pre">--flavor</span> <span class="pre">FLAVOR_ID</span></tt></dt>
<dd>The name of the flavor that identifies the hardware configuration of the server, including disk space, memory capacity, and CPU priority.</dd>
<dt><tt class="docutils literal"><span class="pre">-G</span> <span class="pre">X,Y,Z</span></tt>, <tt class="docutils literal"><span class="pre">--groups</span> <span class="pre">X,Y,Z</span></tt></dt>
<dd>A comma-separated list of security groups.</dd>
<dt><tt class="docutils literal"><span class="pre">--hp-auth</span> <span class="pre">URI</span></tt></dt>
<dd>The URI used during authentication to the HP Cloud Compute account.</dd>
<dt><tt class="docutils literal"><span class="pre">-i</span> <span class="pre">IDENTITY_FILE</span></tt>, <tt class="docutils literal"><span class="pre">--identity-file</span> <span class="pre">IDENTITY_FILE</span></tt></dt>
<dd>The SSH identity file used for authentication. Key-based authentication is recommended.</dd>
<dt><tt class="docutils literal"><span class="pre">-I</span> <span class="pre">IMAGE_ID</span></tt>, <tt class="docutils literal"><span class="pre">--image</span> <span class="pre">IMAGE_ID</span></tt></dt>
<dd>The name of the image that identifies the operating system (and version) that will be used to create the virtual machine.</dd>
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">SECRET</span></tt>, <tt class="docutils literal"><span class="pre">--hp-secret</span> <span class="pre">SECRET</span></tt></dt>
<dd>The secret key for the HP Cloud Compute account.</dd>
<dt><tt class="docutils literal"><span class="pre">-N</span> <span class="pre">NODE_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--node-name</span> <span class="pre">NODE_NAME</span></tt></dt>
<dd>The name of the node on the Chef server.</dd>
<dt><tt class="docutils literal"><span class="pre">--[no-]host-key-verify</span></tt></dt>
<dd>Use <tt class="docutils literal"><span class="pre">--no-host-key-verify</span></tt> to disable host key verification. Host key verification is enabled by default.</dd>
<dt><tt class="docutils literal"><span class="pre">-P</span> <span class="pre">PASSWORD</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-password</span> <span class="pre">PASSWORD</span></tt></dt>
<dd>The SSH password. This can be used to pass the password directly on the command line. If this option is not specified (and a password is required) Knife will prompt for the password.</dd>
<dt><tt class="docutils literal"><span class="pre">--prerelease</span></tt></dt>
<dd>Indicates that pre-release Chef gems should be installed.</dd>
<dt><tt class="docutils literal"><span class="pre">-r</span> <span class="pre">RUN_LIST</span></tt>, <tt class="docutils literal"><span class="pre">--run-list</span> <span class="pre">RUN_LIST</span></tt></dt>
<dd>A comma-separated list of roles and/or recipes to be applied.</dd>
<dt><tt class="docutils literal"><span class="pre">-S</span> <span class="pre">KEY</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-key</span> <span class="pre">KEY</span></tt></dt>
<dd>The SSH key for the HP Cloud Compute environment.</dd>
<dt><tt class="docutils literal"><span class="pre">-T</span> <span class="pre">ID</span></tt>, <tt class="docutils literal"><span class="pre">--hp-tenant</span> <span class="pre">ID</span></tt></dt>
<dd>The tenant identifier that represents a collection of service subscriptions and/or resources in the HP Cloud Compute account.</dd>
<dt><tt class="docutils literal"><span class="pre">--template-file</span> <span class="pre">TEMPLATE</span></tt></dt>
<dd>The path to the template file that will be used during a bootstrap operation.</dd>
<dt><tt class="docutils literal"><span class="pre">-x</span> <span class="pre">USER_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-user</span> <span class="pre">USER_NAME</span></tt></dt>
<dd>The SSH user name.</dd>
<dt><tt class="docutils literal"><span class="pre">-Z</span> <span class="pre">ZONE</span></tt>, <tt class="docutils literal"><span class="pre">--hp-zone</span> <span class="pre">ZONE</span></tt></dt>
<dd>The name of the HP Cloud Compute availability zone.</dd>
</dl>
<p>For example, to provision a server and then perform a bootstrap operation (using SSH), enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife hp server create -f 101 -I 1236 -S hptesting -x ubuntu -i ~/.ssh/hptesting.pem -d omnibus -r <span class="s1">&#39;role[base]&#39;</span> 2
</pre></div>
</div>
<p>to return something like:</p>
<div class="highlight-bash"><div class="highlight"><pre>Instance ID: 65646
Instance Name: hp15-185-114-127
Flavor: 101
Image: 1236
SSH Key Pair: hptesting

Waiting <span class="k">for </span>server............................................
Public IP Address: 15.185.114.127
Private IP Address: 10.4.21.238

Waiting <span class="k">for </span>sshd..done
Bootstrapping Chef on 15.185.114.127
15.185.114.127 --2012-03-09 18:18:17--  http://opscode.com/chef/install.sh
............

............
15.185.114.127 <span class="o">[</span>Fri, 09 Mar 2012 18:19:20 +0000<span class="o">]</span> INFO: Chef Run <span class="nb">complete </span>in 25.468149268 seconds
15.185.114.127 <span class="o">[</span>Fri, 09 Mar 2012 18:19:20 +0000<span class="o">]</span> INFO: Running report handlers
15.185.114.127 <span class="o">[</span>Fri, 09 Mar 2012 18:19:20 +0000<span class="o">]</span> INFO: Report handlers <span class="nb">complete</span>

Instance ID: 65646
Instance Name: hp15-185-114-127
Flavor: 101
Image: 1236
SSH Key Pair: hptesting
Public IP Address: 15.185.114.127
Private IP Address: 10.4.21.238
Environment: _default
Run List: role<span class="o">[</span>base<span class="o">]</span>
</pre></div>
</div>
</div>
<div class="section" id="id36">
<h3>server delete<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">delete</span></tt> argument is used to delete one or more instances that are running in the HP Cloud Compute cloud. To find a specific cloud instance, use the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">hp</span> <span class="pre">server</span> <span class="pre">list</span></tt> argument. Use the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">node</span> <span class="pre">delete</span></tt> and <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">client</span> <span class="pre">delete</span></tt> sub-commands to delete associated node and client objects (if required).</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife hp server delete [SERVER_NAME...]</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">ID</span></tt>, <tt class="docutils literal"><span class="pre">--hp-account</span> <span class="pre">ID</span></tt></dt>
<dd>The access key identifier for the HP Cloud Compute account.</dd>
<dt><tt class="docutils literal"><span class="pre">--hp-auth</span> <span class="pre">URI</span></tt></dt>
<dd>The URI used during authentication to the HP Cloud Compute account.</dd>
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">SECRET</span></tt>, <tt class="docutils literal"><span class="pre">--hp-secret</span> <span class="pre">SECRET</span></tt></dt>
<dd>The secret key for the HP Cloud Compute account.</dd>
<dt><tt class="docutils literal"><span class="pre">-N</span> <span class="pre">NODE_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--node-name</span> <span class="pre">NODE_NAME</span></tt></dt>
<dd>The name of the node on the Chef server. This option only has meaning when used with the <tt class="docutils literal"><span class="pre">--purge</span></tt> option.</dd>
<dt><tt class="docutils literal"><span class="pre">-p</span></tt>, <tt class="docutils literal"><span class="pre">--purge</span></tt></dt>
<dd>Indicates that all corresponding nodes on the Chef server will be destroyed, in addition to the HP Cloud Compute node itself. This option (by itself) assumes that the node and client have the same name as the server. If they do not, use the <tt class="docutils literal"><span class="pre">--node-name</span></tt> option to specify the correct name for the node.</dd>
<dt><tt class="docutils literal"><span class="pre">-T</span> <span class="pre">ID</span></tt>, <tt class="docutils literal"><span class="pre">--hp-tenant</span> <span class="pre">ID</span></tt></dt>
<dd>The tenant identifier that represents a collection of service subscriptions and/or resources in the HP Cloud Compute account.</dd>
<dt><tt class="docutils literal"><span class="pre">-Z</span> <span class="pre">ZONE</span></tt>, <tt class="docutils literal"><span class="pre">--hp-zone</span> <span class="pre">ZONE</span></tt></dt>
<dd>The name of the HP Cloud Compute availability zone.</dd>
</dl>
<p>For example, to delete an instance named &#8220;65646&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife hp server delete 65646
</pre></div>
</div>
<p>to return:</p>
<div class="highlight-bash"><div class="highlight"><pre>Instance ID: 65646
Instance Name: hp15-185-114-127
Flavor: 101
Image: 1236
Public IP Address: 15.185.114.127
Private IP Address: 10.4.21.238

WARNING: Deleted server 65646
</pre></div>
</div>
</div>
<div class="section" id="id37">
<h3>server list<a class="headerlink" href="#id37" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">list</span></tt> argument is used to find instances that are associated with an HP Cloud Compute account. The results may show instances that are not currently managed by the Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife hp server list</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">ID</span></tt>, <tt class="docutils literal"><span class="pre">--hp-account</span> <span class="pre">ID</span></tt></dt>
<dd>The access key identifier for the HP Cloud Compute account.</dd>
<dt><tt class="docutils literal"><span class="pre">--hp-auth</span> <span class="pre">URI</span></tt></dt>
<dd>The URI used during authentication to the HP Cloud Compute account.</dd>
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">SECRET</span></tt>, <tt class="docutils literal"><span class="pre">--hp-secret</span> <span class="pre">SECRET</span></tt></dt>
<dd>The secret key for the HP Cloud Compute account.</dd>
<dt><tt class="docutils literal"><span class="pre">-T</span> <span class="pre">ID</span></tt>, <tt class="docutils literal"><span class="pre">--hp-tenant</span> <span class="pre">ID</span></tt></dt>
<dd>The tenant identifier that represents a collection of service subscriptions and/or resources in the HP Cloud Compute account.</dd>
<dt><tt class="docutils literal"><span class="pre">-Z</span> <span class="pre">ZONE</span></tt>, <tt class="docutils literal"><span class="pre">--hp-zone</span> <span class="pre">ZONE</span></tt></dt>
<dd>The name of the HP Cloud Compute availability zone.</dd>
</dl>
</div>
</div>
<div class="section" id="index-rebuild">
<h2>index rebuild<a class="headerlink" href="#index-rebuild" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">index</span> <span class="pre">rebuild</span></tt> sub-command is used to rebuild the search indexes for Open Source Chef Server. This operation is destructive and may take some time.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This sub-command ONLY works when run against the Open Source Chef Server and will not run against any other flavor of Chef, including Hosted Chef and Private Chef.</p>
</div>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife index rebuild</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-y</span></tt>, <tt class="docutils literal"><span class="pre">--yes</span></tt></dt>
<dd>Indicates that &#8220;yes&#8221; will be the response to all confirmation prompts (and that Knife will not ask a user for confirmation).</dd>
</dl>
</div>
<div class="section" id="linode-plug-in">
<h2>linode (plug-in)<a class="headerlink" href="#linode-plug-in" title="Permalink to this headline">¶</a></h2>
<p>Linode is a cloud hosting platform that provides virtual private server hosting from the kernal and root access on up. The <tt class="docutils literal"><span class="pre">linode</span></tt> sub-command is used to manage API-driven cloud servers that are hosted by Linode.</p>
<p>This plugin is available on github: <a class="reference external" href="https://github.com/opscode/knife-linode">https://github.com/opscode/knife-linode</a>.</p>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife linode [ARGUMENT] (options)</pre>
</div>
<div class="section" id="datacenter-list">
<h3>datacenter list<a class="headerlink" href="#datacenter-list" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">datacenter</span> <span class="pre">list</span></tt> argument is used to view a list of available data centers, listed by data center ID and location.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife linode datacenter list</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">KEY</span></tt>, <tt class="docutils literal"><span class="pre">--linode-api-key</span> <span class="pre">KEY</span></tt></dt>
<dd>The Linode API key.</dd>
</dl>
</div>
<div class="section" id="id38">
<h3>flavor list<a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">flavor</span> <span class="pre">list</span></tt> argument is used to get a list of servers from the Linode environment, listed by ID, name, RAM, disk, and Price.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife linode flavor list</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">KEY</span></tt>, <tt class="docutils literal"><span class="pre">--linode-api-key</span> <span class="pre">KEY</span></tt></dt>
<dd>The Linode API key.</dd>
</dl>
</div>
<div class="section" id="id39">
<h3>image list<a class="headerlink" href="#id39" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">image</span> <span class="pre">list</span></tt> argument is used to list of images from the Linode environment, listed by ID, name, bits, and image size.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife linode image list</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">KEY</span></tt>, <tt class="docutils literal"><span class="pre">--linode-api-key</span> <span class="pre">KEY</span></tt></dt>
<dd>The Linode API key.</dd>
</dl>
</div>
<div class="section" id="kernel-list">
<h3>kernel list<a class="headerlink" href="#kernel-list" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">kernel</span> <span class="pre">list</span></tt> argument is used to view a list of available kernels, listed by ID and name.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife linode kernel list</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">KEY</span></tt>, <tt class="docutils literal"><span class="pre">--linode-api-key</span> <span class="pre">KEY</span></tt></dt>
<dd>The Linode API key.</dd>
</dl>
</div>
<div class="section" id="id40">
<h3>server create<a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">create</span></tt> argument is used to create a new Linode cloud instance. This will provision a new image in Linode, perform a Chef bootstrap (using the SSH protocol), and then install Chef on the target system so that it can be run as a chef-client and communicate with a Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife linode server create (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">KEY</span></tt>, <tt class="docutils literal"><span class="pre">--linode-api-key</span> <span class="pre">KEY</span></tt></dt>
<dd>The Linode API key.</dd>
<dt><tt class="docutils literal"><span class="pre">--bootstrap-version</span> <span class="pre">VERSION</span></tt></dt>
<dd>The version of Chef to install.</dd>
<dt><tt class="docutils literal"><span class="pre">-D</span> <span class="pre">DATACENTER</span></tt>, <tt class="docutils literal"><span class="pre">--linode-datacenter</span> <span class="pre">DATACENTER</span></tt></dt>
<dd>The datacenter for the Linode server.</dd>
<dt><tt class="docutils literal"><span class="pre">-d</span> <span class="pre">DISTRO</span></tt>, <tt class="docutils literal"><span class="pre">--distro</span> <span class="pre">DISTRO</span></tt></dt>
<dd>Indicates that a bootstrap operation will use a template file. If this option is used the name of the template file (<tt class="docutils literal"><span class="pre">--template-file</span></tt>) must also be provided. The following distributions are supported: <tt class="docutils literal"><span class="pre">chef-full</span></tt> (the default bootstrap), <tt class="docutils literal"><span class="pre">centos5-gems</span></tt>, <tt class="docutils literal"><span class="pre">fedora13-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-apt</span></tt>, and <tt class="docutils literal"><span class="pre">ubuntu12.04-gems</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">-f</span> <span class="pre">FLAVOR</span></tt>, <tt class="docutils literal"><span class="pre">--linode-flavor</span> <span class="pre">FLAVOR</span></tt></dt>
<dd>The flavor of the Linode server.</dd>
<dt><tt class="docutils literal"><span class="pre">-i</span> <span class="pre">IDENTITY_FILE</span></tt>, <tt class="docutils literal"><span class="pre">--identity-file</span> <span class="pre">IDENTITY_FILE</span></tt></dt>
<dd>The SSH identity file used for authentication. Key-based authentication is recommended.</dd>
<dt><tt class="docutils literal"><span class="pre">-I</span> <span class="pre">IMAGE</span></tt>, <tt class="docutils literal"><span class="pre">--linode-image</span> <span class="pre">IMAGE</span></tt></dt>
<dd>The image for the Linode server.</dd>
<dt><tt class="docutils literal"><span class="pre">-k</span> <span class="pre">KERNEL</span></tt>, <tt class="docutils literal"><span class="pre">--linode-kernel</span> <span class="pre">KERNEL</span></tt></dt>
<dd>The kernel for the Linode server.</dd>
<dt><tt class="docutils literal"><span class="pre">-L</span> <span class="pre">NAME</span></tt>, <tt class="docutils literal"><span class="pre">--linode-node-name</span> <span class="pre">NAME</span></tt></dt>
<dd>The name of the node in the Linode environment.</dd>
<dt><tt class="docutils literal"><span class="pre">-N</span> <span class="pre">NAME</span></tt>, <tt class="docutils literal"><span class="pre">--node-name</span> <span class="pre">NAME</span></tt></dt>
<dd>The name of the node on the Chef server.</dd>
<dt><tt class="docutils literal"><span class="pre">--[no-]host-key-verify</span></tt></dt>
<dd>Use <tt class="docutils literal"><span class="pre">--no-host-key-verify</span></tt> to disable host key verification. Host key verification is enabled by default.</dd>
<dt><tt class="docutils literal"><span class="pre">-P</span> <span class="pre">PASSWORD</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-password</span> <span class="pre">PASSWORD</span></tt></dt>
<dd>The SSH password. This can be used to pass the password directly on the command line. If this option is not specified (and a password is required) Knife will prompt for the password.</dd>
<dt><tt class="docutils literal"><span class="pre">--prerelease</span></tt></dt>
<dd>Indicates that pre-release Chef gems should be installed.</dd>
<dt><tt class="docutils literal"><span class="pre">-r</span> <span class="pre">RUN_LIST</span></tt>, <tt class="docutils literal"><span class="pre">--run-list</span> <span class="pre">RUN_LIST</span></tt></dt>
<dd>A comma-separated list of roles and/or recipes to be applied.</dd>
<dt><tt class="docutils literal"><span class="pre">--template-file</span> <span class="pre">TEMPLATE</span></tt></dt>
<dd>The path to the template file that will be used during a bootstrap operation.</dd>
<dt><tt class="docutils literal"><span class="pre">-x</span> <span class="pre">USER_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-user</span> <span class="pre">USER_NAME</span></tt></dt>
<dd>The SSH user name.</dd>
</dl>
<p>For example, to create a new instance, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>xxxxx
</pre></div>
</div>
</div>
<div class="section" id="id41">
<h3>server delete<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">delete</span></tt> argument is used to delete one or more instances that are running in the Linode cloud. To find a specific cloud instance, use the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">linode</span> <span class="pre">server</span> <span class="pre">list</span></tt> argument. Use the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">node</span> <span class="pre">delete</span></tt> and <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">client</span> <span class="pre">delete</span></tt> sub-commands to delete associated node and client objects (if required).</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife linode server delete LINODE_ID</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">KEY</span></tt>, <tt class="docutils literal"><span class="pre">--linode-api-key</span> <span class="pre">KEY</span></tt></dt>
<dd>The Linode API key.</dd>
</dl>
</div>
<div class="section" id="id42">
<h3>server list<a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">list</span></tt> argument is used to find instances that are associated with a Linode account. The results may show instances that are not currently managed by the Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife linode server list</pre>
</div>
<p>This argument does not have any options.</p>
</div>
<div class="section" id="server-reboot">
<h3>server reboot<a class="headerlink" href="#server-reboot" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">reboot</span></tt> argument is used to reboot all of the servers in a Linode environment.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife linode server reboot LINODE_ID</pre>
</div>
<p>This argument does not have any options.</p>
</div>
<div class="section" id="stackscript-list">
<h3>stackscript list<a class="headerlink" href="#stackscript-list" title="Permalink to this headline">¶</a></h3>
<p>Linode StackScripts are customized distribution templates. This argument is used to view a list of Linode StackScripts that are currently being used.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife linode stackscript list</pre>
</div>
<p>This argument does not have any options.</p>
</div>
</div>
<div class="section" id="node">
<h2>node<a class="headerlink" href="#node" title="Permalink to this headline">¶</a></h2>
<p>A node is a server or virtual server that is configured to be maintained by a chef-client. A node can be physical or cloud-based. A Chef organization can be comprised of any combination of physical and cloud-based nodes. The chef-client runs on each node and Ohai is used to collect data about the system so that Chef can use it. Each node keeps a cache that contains the most recent node object and all of the cookbooks that are used during configuration of the node.</p>
<p>The <tt class="docutils literal"><span class="pre">node</span></tt> sub-command is used to manage the nodes that exist on a Chef server.</p>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife node [ARGUMENT] (options)</pre>
</div>
<div class="section" id="id43">
<h3>bulk delete<a class="headerlink" href="#id43" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">bulk</span> <span class="pre">delete</span></tt> argument is used to delete one or more nodes that match a pattern defined by a regular expression. The regular expression must be within quotes and not be surrounded by forward slashes (/).</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife node bulk delete REGEX</pre>
</div>
<p>This argument does not have any options.</p>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife node bulk delete <span class="s2">&quot;^[0-9]{3}$&quot;</span>
</pre></div>
</div>
<p>Type <tt class="docutils literal"><span class="pre">Y</span></tt> to confirm a deletion.</p>
</div>
<div class="section" id="id44">
<h3>create<a class="headerlink" href="#id44" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">create</span></tt> argument is used to add a node to the Chef server. Node data is stored as JSON on the Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife node create NODE_NAME</pre>
</div>
<p>This argument does not have any options.</p>
<p>For example, to add a node, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife node create node1
</pre></div>
</div>
<p>In the $EDITOR enter the node data in JSON:</p>
<div class="highlight-javascript"><pre>## sample:
{
   "normal": {
   },
   "name": "foobar",
   "override": {
   },
   "default": {
   },
   "json_class": "Chef::Node",
   "automatic": {
   },
   "run_list": [
      "recipe[zsh]",
      "role[webserver]"
   ],
   "chef_type": "node"
}</pre>
</div>
<p>When finished, save it.</p>
</div>
<div class="section" id="id45">
<h3>delete<a class="headerlink" href="#id45" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">delete</span></tt> argument is used to delete a node from the Chef server.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Deleting a node will not delete any corresponding API clients.</p>
</div>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife node delete NODE_NAME</pre>
</div>
<p>This argument does not have any options.</p>
<p>For example, to delete a node called &#8220;dev&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife node delete dev
</pre></div>
</div>
</div>
<div class="section" id="id46">
<h3>edit<a class="headerlink" href="#id46" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">edit</span></tt> argument is used to edit the details of a node on a Chef server. Node data is stored as JSON on the Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife node edit NODE_NAME (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-a</span></tt>, <tt class="docutils literal"><span class="pre">--all</span></tt></dt>
<dd>Displays a node in the $EDITOR. By default, attributes that are default, override, or automatic are not shown.</dd>
</dl>
<p>For example, to edit the data for a node named &#8220;node1&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife node edit node1 -a
</pre></div>
</div>
<p>Update the role data in JSON:</p>
<div class="highlight-javascript"><pre>## sample:
{
   "normal": {
   },
   "name": "node1",
   "override": {
   },
   "default": {
   },
   "json_class": "Chef::Node",
   "automatic": {
   },
   "run_list": [
      "recipe[devops]",
      "role[webserver]"
   ],
   "chef_type": "node"
}</pre>
</div>
<p>When finished, save it.</p>
</div>
<div class="section" id="id47">
<h3>from file<a class="headerlink" href="#id47" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">from</span> <span class="pre">file</span></tt> argument is used to create a node using existing node data as a template.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife node from file FILE</pre>
</div>
<p>This argument does not have any options.</p>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife node from file <span class="s1">&#39;path to JSON file&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id48">
<h3>list<a class="headerlink" href="#id48" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">list</span></tt> argument is used to view all of the nodes that exist on a Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife node list (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-w</span></tt>, <tt class="docutils literal"><span class="pre">--with-uri</span></tt></dt>
<dd>Indicates that the corresponding URIs will be shown.</dd>
</dl>
<p>For example, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife node list
</pre></div>
</div>
<p>to return:</p>
<div class="highlight-bash"><div class="highlight"><pre>i-12345678
rs-123456
</pre></div>
</div>
</div>
<div class="section" id="run-list-add">
<h3>run_list add<a class="headerlink" href="#run-list-add" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">run_list</span> <span class="pre">add</span></tt> argument is used to add run list items (roles or recipes) to a node. A recipe must be in one of the following formats: fully qualified, cookbook, or default. Both roles and recipes must be in quotes, for example: <tt class="docutils literal"><span class="pre">'role[ROLE_NAME]'</span></tt> or <tt class="docutils literal"><span class="pre">'recipe[COOKBOOK::RECIPE_NAME]'</span></tt>. Use a comma to separate roles and recipes when adding more than one, like this: <tt class="docutils literal"><span class="pre">'recipe[COOKBOOK::RECIPE_NAME],COOKBOOK::RECIPE_NAME,role[ROLE_NAME]'</span></tt>.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife node run_list add NODE_NAME RUN_LIST_ITEM (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-a</span> <span class="pre">ITEM</span></tt>, <tt class="docutils literal"><span class="pre">--after</span> <span class="pre">ITEM</span></tt></dt>
<dd>Use this to add the run list item after the specified run list item.</dd>
</dl>
<p>For example, to add a role to a run list, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife node run_list add node <span class="s1">&#39;role[ROLE_NAME]&#39;</span>
</pre></div>
</div>
<p>To add a recipe to a run list using the fully qualified format, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife node run_list add node <span class="s1">&#39;recipe[COOKBOOK::RECIPE_NAME]&#39;</span>
</pre></div>
</div>
<p>To add a recipe to a run list using the cookbook format, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife node run_list add node <span class="s1">&#39;COOKBOOK::RECIPE_NAME&#39;</span>
</pre></div>
</div>
<p>To add the default recipe of a cookbook to a run list, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife node run_list add node <span class="s1">&#39;COOKBOOK&#39;</span>
</pre></div>
</div>
<p>To add roles and recipes to a run list, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife node run_list add node <span class="s1">&#39;recipe[COOKBOOK::RECIPE_NAME],COOKBOOK::RECIPE_NAME,role[ROLE_NAME]&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="run-list-remove">
<h3>run_list remove<a class="headerlink" href="#run-list-remove" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">run_list</span> <span class="pre">remove</span></tt> argument is used to remove run list items (roles or recipes) from a node. A recipe must be in one of the following formats: fully qualified, cookbook, or default. Both roles and recipes must be in quotes, for example: <tt class="docutils literal"><span class="pre">'role[ROLE_NAME]'</span></tt> or <tt class="docutils literal"><span class="pre">'recipe[COOKBOOK::RECIPE_NAME]'</span></tt>. Use a comma to separate roles and recipes when removing more than one, like this: <tt class="docutils literal"><span class="pre">'recipe[COOKBOOK::RECIPE_NAME],COOKBOOK::RECIPE_NAME,role[ROLE_NAME]'</span></tt>.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife node run_list remove NODE_NAME RUN_LIST_ITEM</pre>
</div>
<p>This argument does not have any options.</p>
<p>For example, to remove a role from a run list, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife node run_list remove node <span class="s1">&#39;role[ROLE_NAME]&#39;</span>
</pre></div>
</div>
<p>To remove a recipe from a run list using the fully qualified format, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife node run_list remove node <span class="s1">&#39;recipe[COOKBOOK::RECIPE_NAME]&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id49">
<h3>show<a class="headerlink" href="#id49" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">show</span></tt> argument is used to display information about a node.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife node show NODE_NAME (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-a</span> <span class="pre">ATTR</span></tt>, <tt class="docutils literal"><span class="pre">--attribute</span> <span class="pre">ATTR</span></tt></dt>
<dd>Indicates that only a single attribute is shown, as defined by the <tt class="docutils literal"><span class="pre">ATTR</span></tt> value.</dd>
<dt><tt class="docutils literal"><span class="pre">-E</span> <span class="pre">ENVIRONMENT</span></tt>, <tt class="docutils literal"><span class="pre">--environment</span> <span class="pre">ENVIRONMENT</span></tt></dt>
<dd>The name of the Chef server environment.</dd>
<dt><tt class="docutils literal"><span class="pre">-l</span></tt>, <tt class="docutils literal"><span class="pre">--long</span></tt></dt>
<dd>Display long output when searching nodes while using the default summary format.</dd>
<dt><tt class="docutils literal"><span class="pre">-m</span></tt>, <tt class="docutils literal"><span class="pre">--medium</span></tt></dt>
<dd>Display more, but not all, of a node&#8217;s data when searching using the default summary format.</dd>
<dt><tt class="docutils literal"><span class="pre">-r</span></tt>, <tt class="docutils literal"><span class="pre">--run-list</span></tt></dt>
<dd>Indicates that only the run-list will be shown.</dd>
</dl>
<p>For example, to view all data for a node named &#8220;build&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife node show build
</pre></div>
</div>
<p>to return:</p>
<div class="highlight-bash"><div class="highlight"><pre>Node Name:   build
Environment: _default
FQDN:
IP:
Run List:
Roles:
Recipes:
Platform:
</pre></div>
</div>
<p>To view the FQDN for a node named &#8220;i-12345678&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife node show i-12345678 -a fqdn
</pre></div>
</div>
<p>to return:</p>
<div class="highlight-bash"><div class="highlight"><pre>fqdn: ip-10-251-75-20.ec2.internal
</pre></div>
</div>
<p>To view the run list for a node named &#8220;dev&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife node show dev -r
</pre></div>
</div>
</div>
</div>
<div class="section" id="openstack-plug-in">
<h2>openstack (plug-in)<a class="headerlink" href="#openstack-plug-in" title="Permalink to this headline">¶</a></h2>
<p>OpenStack is a cloud operating system that provides support for provisioning large networks of virtual machines, pluggable and scalable network and IP management, and object and block storage. The <tt class="docutils literal"><span class="pre">openstack</span></tt> sub-command is used to manage API-driven cloud servers that are hosted by OpenStack.</p>
<p>This plugin is available on github: <a class="reference external" href="https://github.com/opscode/knife-openstack">https://github.com/opscode/knife-openstack</a>.</p>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife openstack [ARGUMENT] (options)</pre>
</div>
<div class="section" id="id50">
<h3>flavor list<a class="headerlink" href="#id50" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">flavor</span> <span class="pre">list</span></tt> argument is used to show a list of flavors in an OpenStack environment, including details such as ID, name, architecture, RAM, disk, and cores.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife openstack flavor list</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">ID</span></tt>, <tt class="docutils literal"><span class="pre">--openstack-access-key-id</span> <span class="pre">ID</span></tt></dt>
<dd>The access key identifier used with the OpenStack environment.</dd>
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">SECRET</span></tt>, <tt class="docutils literal"><span class="pre">--openstack-secret-access-key</span> <span class="pre">SECRET</span></tt></dt>
<dd>The secret access key for the API endpoint used with the OpenStack environment.</dd>
<dt><tt class="docutils literal"><span class="pre">--openstack-api-endpoint</span> <span class="pre">ENDPOINT</span></tt></dt>
<dd>The API endpoint used with the OpenStack environment.</dd>
<dt><tt class="docutils literal"><span class="pre">--region</span> <span class="pre">REGION</span></tt></dt>
<dd>The name of the region from which instances of hosted applications are launched.</dd>
</dl>
<p>For example, to xxxxx, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife openstack flavor list
</pre></div>
</div>
</div>
<div class="section" id="id51">
<h3>image list<a class="headerlink" href="#id51" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">image</span> <span class="pre">list</span></tt> argument is used to show a list of images in an OpenStack environment, including details such as ID, kernel ID, architecture, root store, name, and location.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife openstack image list</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">ID</span></tt>, <tt class="docutils literal"><span class="pre">--openstack-access-key-id</span> <span class="pre">ID</span></tt></dt>
<dd>The access key identifier used with the OpenStack environment.</dd>
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">SECRET</span></tt>, <tt class="docutils literal"><span class="pre">--openstack-secret-access-key</span> <span class="pre">SECRET</span></tt></dt>
<dd>The secret access key for the API endpoint used with the OpenStack environment.</dd>
<dt><tt class="docutils literal"><span class="pre">--openstack-api-endpoint</span> <span class="pre">ENDPOINT</span></tt></dt>
<dd>The API endpoint used with the OpenStack environment.</dd>
<dt><tt class="docutils literal"><span class="pre">--region</span> <span class="pre">REGION</span></tt></dt>
<dd>The name of the region from which instances of hosted applications are launched.</dd>
</dl>
<p>For example, to view a list of images, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife openstack image list
</pre></div>
</div>
</div>
<div class="section" id="id52">
<h3>server create<a class="headerlink" href="#id52" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">create</span></tt> argument is used to create a new OpenStack cloud instance.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife openstack server create (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">ID</span></tt>, <tt class="docutils literal"><span class="pre">--openstack-access-key-id</span> <span class="pre">ID</span></tt></dt>
<dd>The access key identifier used with the OpenStack environment.</dd>
<dt><tt class="docutils literal"><span class="pre">--bootstrap-version</span> <span class="pre">VERSION</span></tt></dt>
<dd>The version of Chef to install.</dd>
<dt><tt class="docutils literal"><span class="pre">-d</span> <span class="pre">DISTRO</span></tt>, <tt class="docutils literal"><span class="pre">--distro</span> <span class="pre">DISTRO</span></tt></dt>
<dd>Indicates that a bootstrap operation will use a template file. If this option is used the name of the template file (<tt class="docutils literal"><span class="pre">--template-file</span></tt>) must also be provided. The following distributions are supported: <tt class="docutils literal"><span class="pre">chef-full</span></tt> (the default bootstrap), <tt class="docutils literal"><span class="pre">centos5-gems</span></tt>, <tt class="docutils literal"><span class="pre">fedora13-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-apt</span></tt>, and <tt class="docutils literal"><span class="pre">ubuntu12.04-gems</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">-f</span> <span class="pre">FLAVOR</span></tt>, <tt class="docutils literal"><span class="pre">--flavor</span> <span class="pre">FLAVOR</span></tt></dt>
<dd>The name of the flavor that identifies the hardware configuration of the server, including disk space, memory capacity, and CPU priority.</dd>
<dt><tt class="docutils literal"><span class="pre">-G</span> <span class="pre">X,Y,Z</span></tt>, <tt class="docutils literal"><span class="pre">--groups</span> <span class="pre">X,Y,Z</span></tt></dt>
<dd>A comma-separated list of security groups.</dd>
<dt><tt class="docutils literal"><span class="pre">-i</span> <span class="pre">IDENTITY_FILE</span></tt>, <tt class="docutils literal"><span class="pre">--identity-file</span> <span class="pre">IDENTITY_FILE</span></tt></dt>
<dd>The SSH identity file used for authentication. Key-based authentication is recommended.</dd>
<dt><tt class="docutils literal"><span class="pre">-I</span> <span class="pre">IMAGE</span></tt>, <tt class="docutils literal"><span class="pre">--image</span> <span class="pre">IMAGE</span></tt></dt>
<dd>The name of the image that identifies the operating system (and version) that will be used to create the virtual machine.</dd>
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">SECRET</span></tt>, <tt class="docutils literal"><span class="pre">--openstack-secret-access-key</span> <span class="pre">SECRET</span></tt></dt>
<dd>The secret access key for the API endpoint used with the OpenStack environment.</dd>
<dt><tt class="docutils literal"><span class="pre">-N</span> <span class="pre">NAME</span></tt>, <tt class="docutils literal"><span class="pre">--node-name</span> <span class="pre">NAME</span></tt></dt>
<dd>The name of the node on the Chef server.</dd>
<dt><tt class="docutils literal"><span class="pre">--[no-]host-key-verify</span></tt></dt>
<dd>Use <tt class="docutils literal"><span class="pre">--no-host-key-verify</span></tt> to disable host key verification. Host key verification is enabled by default.</dd>
<dt><tt class="docutils literal"><span class="pre">--openstack-api-endpoint</span> <span class="pre">ENDPOINT</span></tt></dt>
<dd>The API endpoint used with the OpenStack environment.</dd>
<dt><tt class="docutils literal"><span class="pre">-P</span> <span class="pre">PASSWORD</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-password</span> <span class="pre">PASSWORD</span></tt></dt>
<dd>The SSH password. This can be used to pass the password directly on the command line. If this option is not specified (and a password is required) Knife will prompt for the password.</dd>
<dt><tt class="docutils literal"><span class="pre">--prerelease</span></tt></dt>
<dd>Indicates that pre-release Chef gems should be installed.</dd>
<dt><tt class="docutils literal"><span class="pre">-r</span> <span class="pre">RUN_LIST</span></tt>, <tt class="docutils literal"><span class="pre">--run-list</span> <span class="pre">RUN_LIST</span></tt></dt>
<dd>A comma-separated list of roles and/or recipes to be applied.</dd>
<dt><tt class="docutils literal"><span class="pre">--region</span> <span class="pre">REGION</span></tt></dt>
<dd>The name of the region from which instances of hosted applications are launched.</dd>
<dt><tt class="docutils literal"><span class="pre">-S</span> <span class="pre">KEY</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-key</span> <span class="pre">KEY</span></tt></dt>
<dd>The SSH key for the OpenStack environment.</dd>
<dt><tt class="docutils literal"><span class="pre">--template-file</span> <span class="pre">TEMPLATE</span></tt></dt>
<dd>The path to the template file that will be used during a bootstrap operation.</dd>
<dt><tt class="docutils literal"><span class="pre">-x</span> <span class="pre">USERNAME</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-user</span> <span class="pre">USERNAME</span></tt></dt>
<dd>The SSH user name.</dd>
<dt><tt class="docutils literal"><span class="pre">-Z</span> <span class="pre">ZONE&quot;</span></tt>, <tt class="docutils literal"><span class="pre">--availability-zone</span> <span class="pre">ZONE</span></tt></dt>
<dd>The name of the OpenStack availability zone. Each availability zone is unique within a region. Default: <tt class="docutils literal"><span class="pre">us-east-1b</span></tt>.</dd>
</dl>
<p>For example, to create a new instance, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>xxxxx
</pre></div>
</div>
</div>
<div class="section" id="id53">
<h3>server delete<a class="headerlink" href="#id53" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">delete</span></tt> argument is used to delete one or more instances that are running in the OpenStack cloud. To find a specific cloud instance, use the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">openstack</span> <span class="pre">server</span> <span class="pre">list</span></tt> argument. Use the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">node</span> <span class="pre">delete</span></tt> and <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">client</span> <span class="pre">delete</span></tt> sub-commands to delete associated node and client objects (if required).</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife openstack server delete [SERVER...]</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">ID</span></tt>, <tt class="docutils literal"><span class="pre">--openstack-access-key-id</span> <span class="pre">ID</span></tt></dt>
<dd>The access key identifier used with the OpenStack environment.</dd>
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">SECRET</span></tt>, <tt class="docutils literal"><span class="pre">--openstack-secret-access-key</span> <span class="pre">SECRET</span></tt></dt>
<dd>The secret access key for the API endpoint used with the OpenStack environment.</dd>
<dt><tt class="docutils literal"><span class="pre">--openstack-api-endpoint</span> <span class="pre">ENDPOINT</span></tt></dt>
<dd>The API endpoint used with the OpenStack environment.</dd>
<dt><tt class="docutils literal"><span class="pre">--region</span> <span class="pre">REGION</span></tt></dt>
<dd>The name of the region from which instances of hosted applications are launched.</dd>
</dl>
<p>For example, to delete a server named &#8220;qa-test-01&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife openstack server delete qa-test-01
</pre></div>
</div>
</div>
<div class="section" id="id54">
<h3>server list<a class="headerlink" href="#id54" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">list</span></tt> argument is used to find instances that are associated with an OpenStack account. The results may show instances that are not currently managed by the Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife openstack server list</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">ID</span></tt>, <tt class="docutils literal"><span class="pre">--openstack-access-key-id</span> <span class="pre">ID</span></tt></dt>
<dd>The access key identifier used with the OpenStack environment.</dd>
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">SECRET</span></tt>, <tt class="docutils literal"><span class="pre">--openstack-secret-access-key</span> <span class="pre">SECRET</span></tt></dt>
<dd>The secret access key for the API endpoint used with the OpenStack environment.</dd>
<dt><tt class="docutils literal"><span class="pre">--openstack-api-endpoint</span> <span class="pre">ENDPOINT</span></tt></dt>
<dd>The API endpoint used with the OpenStack environment.</dd>
<dt><tt class="docutils literal"><span class="pre">--region</span> <span class="pre">REGION</span></tt></dt>
<dd>The name of the region from which instances of hosted applications are launched.</dd>
</dl>
</div>
</div>
<div class="section" id="rackspace-plug-in">
<h2>rackspace (plug-in)<a class="headerlink" href="#rackspace-plug-in" title="Permalink to this headline">¶</a></h2>
<p>Rackspace is a cloud-driven platform of virtualized servers that provide services for storage and data, platform and networking, and cloud computing. The <tt class="docutils literal"><span class="pre">rackspace</span></tt> sub-command is used to manage API-driven cloud servers that are hosted by Rackspace cloud services.</p>
<p>This plugin is available on github: <a class="reference external" href="https://github.com/opscode/knife-rackspace">https://github.com/opscode/knife-rackspace</a>.</p>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife rackspace [ARGUMENT] (options)</pre>
</div>
<div class="section" id="id55">
<h3>flavor list<a class="headerlink" href="#id55" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">flavor</span> <span class="pre">list</span></tt> argument is used to view a list of flavors that are running on servers that are associated with a Rackspace account, including the server ID, server name, architecture, RAM, and disk. The results may show flavor that are not currently managed by the Chef Server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife rackspace flavor list</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">API_KEY</span></tt>, <tt class="docutils literal"><span class="pre">--rackspace-api-key</span> <span class="pre">API_KEY</span></tt></dt>
<dd>The unique alphanumeric identifier that is associated with a Rackspace account.</dd>
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">USER_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--rackspace-username</span> <span class="pre">USER_NAME</span></tt></dt>
<dd>The user name for the Rackspace account.</dd>
<dt><tt class="docutils literal"><span class="pre">--rackspace-api-auth-url</span></tt></dt>
<dd>The URL used to authenticate the Rackspace API key. Default: <tt class="docutils literal"><span class="pre">auth.api.rackspacecloud.com</span></tt>.</dd>
</dl>
</div>
<div class="section" id="id56">
<h3>image list<a class="headerlink" href="#id56" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">image</span> <span class="pre">list</span></tt> argument is used to view a list of images that are running on servers that are hosted at a Rackspace cloud services, including returning a list of each server (and server ID).</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife rackspace image list</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">API_KEY</span></tt>, <tt class="docutils literal"><span class="pre">--rackspace-api-key</span> <span class="pre">API_KEY</span></tt></dt>
<dd>The unique alphanumeric identifier that is associated with a Rackspace account.</dd>
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">USER_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--rackspace-username</span> <span class="pre">USER_NAME</span></tt></dt>
<dd>The user name for the Rackspace account.</dd>
<dt><tt class="docutils literal"><span class="pre">--rackspace-api-auth-url</span></tt></dt>
<dd>The URL used to authenticate the Rackspace API key. Default: <tt class="docutils literal"><span class="pre">auth.api.rackspacecloud.com</span></tt>.</dd>
</dl>
</div>
<div class="section" id="id57">
<h3>server create<a class="headerlink" href="#id57" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">create</span></tt> argument is used to create a new Rackspace cloud instance. This will provision a new image in Rackspace, perform a Chef bootstrap (using the SSH protocol), and then install Chef on the target system so that it can be run as a chef-client and communicate with a Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife rackspace server create (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">USER_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--rackspace-username</span> <span class="pre">USER_NAME</span></tt></dt>
<dd>The user name for the Rackspace account.</dd>
<dt><tt class="docutils literal"><span class="pre">--bootstrap-version</span> <span class="pre">VERSION&quot;</span></tt></dt>
<dd>The version of Chef to install.</dd>
<dt><tt class="docutils literal"><span class="pre">-d</span> <span class="pre">DISTRO</span></tt>, <tt class="docutils literal"><span class="pre">--distro</span> <span class="pre">DISTRO</span></tt></dt>
<dd>Indicates that a bootstrap operation will use a template file. If this option is used the name of the template file (<tt class="docutils literal"><span class="pre">--template-file</span></tt>) must also be provided. The following distributions are supported: <tt class="docutils literal"><span class="pre">chef-full</span></tt> (the default bootstrap), <tt class="docutils literal"><span class="pre">centos5-gems</span></tt>, <tt class="docutils literal"><span class="pre">fedora13-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-apt</span></tt>, and <tt class="docutils literal"><span class="pre">ubuntu12.04-gems</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">-f</span> <span class="pre">FLAVOR</span></tt>, <tt class="docutils literal"><span class="pre">--flavor</span> <span class="pre">FLAVOR</span></tt></dt>
<dd>The name of the flavor that identifies the hardware configuration of the server, including disk space, memory capacity, and CPU priority.</dd>
<dt><tt class="docutils literal"><span class="pre">-i</span> <span class="pre">IDENTITY_FILE</span></tt>, <tt class="docutils literal"><span class="pre">--identity-file</span> <span class="pre">IDENTITY_FILE</span></tt></dt>
<dd>The SSH identity file used for authentication. Key-based authentication is recommended.</dd>
<dt><tt class="docutils literal"><span class="pre">-I</span> <span class="pre">IMAGE</span></tt>, <tt class="docutils literal"><span class="pre">--image</span> <span class="pre">IMAGE</span></tt></dt>
<dd>The name of the image that identifies the operating system (and version) that will be used to create the virtual machine.</dd>
<dt><tt class="docutils literal"><span class="pre">-j</span> <span class="pre">JSON_ATTRIBS</span></tt>, <tt class="docutils literal"><span class="pre">--json-attributes</span></tt></dt>
<dd>A JSON string that is added to the first run of a chef-client.</dd>
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">API_KEY</span></tt>, <tt class="docutils literal"><span class="pre">--rackspace-api-key</span> <span class="pre">API_KEY</span></tt></dt>
<dd>The unique alphanumeric identifier that is associated with a Rackspace account.</dd>
<dt><tt class="docutils literal"><span class="pre">-M</span> <span class="pre">JSON</span></tt>, <tt class="docutils literal"><span class="pre">--rackspace-metadata</span> <span class="pre">JSON</span></tt></dt>
<dd>A JSON string that contains a metadata hash.</dd>
<dt><tt class="docutils literal"><span class="pre">-N</span> <span class="pre">NAME</span></tt>, <tt class="docutils literal"><span class="pre">--node-name</span> <span class="pre">NAME</span></tt></dt>
<dd>The name of the node on the Chef server.</dd>
<dt><tt class="docutils literal"><span class="pre">-P</span> <span class="pre">PASSWORD</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-password</span> <span class="pre">PASSWORD</span></tt></dt>
<dd>The SSH password. This can be used to pass the password directly on the command line. If this option is not specified (and a password is required) Knife will prompt for the password.</dd>
<dt><tt class="docutils literal"><span class="pre">--prerelease</span></tt></dt>
<dd>Indicates that pre-release Chef gems should be installed.</dd>
<dt><tt class="docutils literal"><span class="pre">-r</span> <span class="pre">RUN_LIST</span></tt>, <tt class="docutils literal"><span class="pre">--run-list</span> <span class="pre">RUN_LIST</span></tt></dt>
<dd>A comma-separated list of roles and/or recipes to be applied.</dd>
<dt><tt class="docutils literal"><span class="pre">--rackspace-api-auth-url</span></tt></dt>
<dd>The URL used to authenticate the Rackspace API key. Default: <tt class="docutils literal"><span class="pre">auth.api.rackspacecloud.com</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">-S</span> <span class="pre">NAME</span></tt>, <tt class="docutils literal"><span class="pre">--server-name</span> <span class="pre">NAME</span></tt></dt>
<dd>The name of the server.</dd>
<dt><tt class="docutils literal"><span class="pre">--template-file</span> <span class="pre">TEMPLATE</span></tt></dt>
<dd>The path to the template file that will be used during a bootstrap operation.</dd>
<dt><tt class="docutils literal"><span class="pre">-x</span> <span class="pre">USERNAME</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-user</span> <span class="pre">USERNAME</span></tt></dt>
<dd>The SSH user name.</dd>
</dl>
<p>To launch a new Rackspace instance with the &#8220;webserver&#8221; role, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife rackspace server create -r <span class="s1">&#39;role[webserver]&#39;</span> --server-name server01 --node-name server01 --image 49 --flavor 2
</pre></div>
</div>
<p>To launch a new Rackspace instance with multiple roles, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife rackspace server create -r <span class="s1">&#39;role[base],role[webserver]&#39;</span> --server-name server01 -N server01 --image 49 --flavor 2
</pre></div>
</div>
</div>
<div class="section" id="id58">
<h3>server delete<a class="headerlink" href="#id58" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">delete</span></tt> argument is used to delete one or more instances that are running in the Rackspace cloud. The corresponding node on the Chef server can also be deleted with the same action. To find a specific cloud instance, use the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">rackspace</span> <span class="pre">server</span> <span class="pre">list</span></tt> argument. Use the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">node</span> <span class="pre">delete</span></tt> and <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">client</span> <span class="pre">delete</span></tt> sub-commands to delete associated node and client objects (if required).</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife rackspace server delete [SERVER_ID...]</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">API_KEY</span></tt>, <tt class="docutils literal"><span class="pre">--rackspace-api-key</span> <span class="pre">API_KEY</span></tt></dt>
<dd>The unique alphanumeric identifier that is associated with a Rackspace account.</dd>
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">USER_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--rackspace-username</span> <span class="pre">USER_NAME</span></tt></dt>
<dd>The user name for the Rackspace account.</dd>
<dt><tt class="docutils literal"><span class="pre">-N</span> <span class="pre">NODE_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--node-name</span> <span class="pre">NODE_NAME</span></tt></dt>
<dd>The name of the node on the Chef server. This option only has meaning when used with the <tt class="docutils literal"><span class="pre">--purge</span></tt> option.</dd>
<dt><tt class="docutils literal"><span class="pre">-p</span></tt>, <tt class="docutils literal"><span class="pre">--purge</span></tt></dt>
<dd>Indicates that all corresponding nodes on the Chef server will be destroyed, in addition to the Rackspace node itself. This option (by itself) assumes that the node and client have the same name as the server. If they do not, use the <tt class="docutils literal"><span class="pre">--node-name</span></tt> option to specify the correct name for the node.</dd>
<dt><tt class="docutils literal"><span class="pre">--rackspace-api-auth-url</span></tt></dt>
<dd>The URL used to authenticate the Rackspace API key. Default: <tt class="docutils literal"><span class="pre">auth.api.rackspacecloud.com</span></tt>.</dd>
</dl>
<p>For example, to delete a Rackspace instance with an Instance ID of &#8220;12345678&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife rackspace server delete 12345678
</pre></div>
</div>
<p>to return:</p>
<div class="highlight-bash"><div class="highlight"><pre>Instance ID: 12345678
Host ID: testexample
Name: slice12345678
Flavor: 1GB server
Image: Ubuntu 10.04 LTS <span class="o">(</span>lucid<span class="o">)</span>
Public DNS Name: 1-1-1-1.static.cloud-ips.com
Public IP Address: 1.1.1.1
Private IP Address: 192.168.1.1
</pre></div>
</div>
<p>Confirm the deletion:</p>
<div class="highlight-bash"><div class="highlight"><pre>Do you really want to delete this server? <span class="o">(</span>Y/N<span class="o">)</span> Y
WARNING: Deleted server 12345678 named slice12345678
</pre></div>
</div>
</div>
<div class="section" id="id59">
<h3>server list<a class="headerlink" href="#id59" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">list</span></tt> argument is used to find instances that are associated with a Rackspace account. The results may show instances that are not currently managed by the Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife rackspace server list</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">API_KEY</span></tt>, <tt class="docutils literal"><span class="pre">--rackspace-api-key</span> <span class="pre">API_KEY</span></tt></dt>
<dd>The unique alphanumeric identifier that is associated with a Rackspace account.</dd>
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">USER_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--rackspace-username</span> <span class="pre">USER_NAME</span></tt></dt>
<dd>The user name for the Rackspace account.</dd>
<dt><tt class="docutils literal"><span class="pre">--rackspace-api-auth-url</span></tt></dt>
<dd>The URL used to authenticate the Rackspace API key. Default: <tt class="docutils literal"><span class="pre">auth.api.rackspacecloud.com</span></tt>.</dd>
</dl>
<p>For example, to find all Rackspace instances, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cloud rackspace list
</pre></div>
</div>
<p>to return:</p>
<div class="highlight-bash"><div class="highlight"><pre>Instance ID    Public IP    Private IP    Flavor    Image     State     Name
12345678       1.1.1.1      192.168.1.1   3         49        active    slice12345678
</pre></div>
</div>
</div>
</div>
<div class="section" id="recipe-list">
<h2>recipe list<a class="headerlink" href="#recipe-list" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">recipe</span> <span class="pre">list</span></tt> sub-command is used to view all of the recipes that are on a Chef server. A regular expression can be used to limit the results to recipes that match a specific pattern. The regular expression must be within quotes and not be surrounded by forward slashes (/).</p>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife recipe list REGEX</pre>
</div>
<p>For example, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife role list <span class="s1">&#39;couchdb::*&#39;</span>
</pre></div>
</div>
<p>to return:</p>
<div class="highlight-bash"><div class="highlight"><pre>couchdb::main_monitors
couchdb::master
couchdb::default
couchdb::org_cleanu
</pre></div>
</div>
</div>
<div class="section" id="role">
<h2>role<a class="headerlink" href="#role" title="Permalink to this headline">¶</a></h2>
<p>A role is a way to define certain patterns and processes that exist across nodes in a Chef organization as belonging to a single job function. Each role consists of one (or more) attributes and a run list. Each node can have one (or more) roles assigned to it. When a role is run against a node the configuration details of that node are compared against the attributes of the role, and then the contents of that role&#8217;s run list are applied to the node&#8217;s configuration details. When a chef-client runs, it merges its own attributes and run lists with those contained within each assigned role.</p>
<p>The <tt class="docutils literal"><span class="pre">role</span></tt> sub-command is used to manage the roles that are associated with one or more nodes on a Chef server.</p>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife role [ARGUMENT] (options)</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Use the <tt class="docutils literal"><span class="pre">node</span></tt> sub-command (and the <tt class="docutils literal"><span class="pre">run_list</span> <span class="pre">add</span> <span class="pre">node</span></tt> argument) to add a role to a node on the Chef server.</p>
</div>
<div class="section" id="id60">
<h3>bulk delete<a class="headerlink" href="#id60" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">bulk</span> <span class="pre">delete</span></tt> argument is used to delete one or more roles that match a pattern defined by a regular expression. The regular expression must be within quotes and not be surrounded by forward slashes (/).</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife role bulk delete REGEX</pre>
</div>
<p>This argument does not have any options.</p>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife role bulk delete <span class="s2">&quot;^[0-9]{3}$&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="id61">
<h3>create<a class="headerlink" href="#id61" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">create</span></tt> argument is used to add a role to the Chef server. To add a role to a node, you must use the <tt class="docutils literal"><span class="pre">node</span></tt> sub-command and the <tt class="docutils literal"><span class="pre">run-list</span> <span class="pre">add</span></tt> argument. Role data is saved as JSON on the Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife role create ROLE_NAME (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-d</span> <span class="pre">DESCRIPTION</span></tt>, <tt class="docutils literal"><span class="pre">--description</span> <span class="pre">DESCRIPTION</span></tt></dt>
<dd>The description of the role. This value will populate the description field for the role on the Chef server.</dd>
</dl>
<p>For example, to add a role named &#8220;role1&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife role create role1
</pre></div>
</div>
<p>In the $EDITOR enter the role data in JSON:</p>
<div class="highlight-javascript"><pre>## sample:
{
   "name": "role1",
   "default_attributes": {
   },
   "json_class": "Chef::Role",
   "run_list": [

   ],
   "description": "",
   "chef_type": "role",
   "override_attributes": {
   }
}</pre>
</div>
<p>When finished, save it.</p>
</div>
<div class="section" id="id62">
<h3>delete<a class="headerlink" href="#id62" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">delete</span></tt> argument is used to delete a role from the Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife role delete ROLE_NAME</pre>
</div>
<p>This argument does not have any options.</p>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife role delete devops
</pre></div>
</div>
<p>Type <tt class="docutils literal"><span class="pre">Y</span></tt> to confirm a deletion.</p>
</div>
<div class="section" id="id63">
<h3>edit<a class="headerlink" href="#id63" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">edit</span></tt> argument is used to edit role details on the Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife role edit ROLE_NAME</pre>
</div>
<p>This argument does not have any options.</p>
<p>For example, to edit the data for a role named &#8220;role1&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife role edit role1
</pre></div>
</div>
<p>Update the role data in JSON:</p>
<div class="highlight-javascript"><pre>## sample:
{
   "name": "role1",
   "default_attributes": {
   },
   "json_class": "Chef::Role",
   "run_list": [

   ],
   "description": "This is the description for the role1 role.",
   "chef_type": "role",
   "override_attributes": {
   }
}</pre>
</div>
<p>When finished, save it.</p>
</div>
<div class="section" id="id64">
<h3>from file<a class="headerlink" href="#id64" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">from</span> <span class="pre">file</span></tt> argument is used to create a role using existing JSON data as a template.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife role from file FILE</pre>
</div>
<p>This argument does not have any options.</p>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife role from file <span class="s2">&quot;path to JSON file&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="id65">
<h3>list<a class="headerlink" href="#id65" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">list</span></tt> argument is used to view a list of roles that are currently available on the Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife role list</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-w</span></tt>, <tt class="docutils literal"><span class="pre">--with-uri</span></tt></dt>
<dd>Indicates that the corresponding URIs will be shown.</dd>
</dl>
<p>For example, to view a list of roles on the Chef server and display the URI for each role returned, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife role list -w
</pre></div>
</div>
</div>
<div class="section" id="id66">
<h3>show<a class="headerlink" href="#id66" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">show</span></tt> argument is used to view the details of a role.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife role show ROLE_NAME</pre>
</div>
<p>This sub-command has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-a</span> <span class="pre">ATTR</span></tt>, <tt class="docutils literal"><span class="pre">--attribute</span> <span class="pre">ATTR</span></tt></dt>
<dd>Indicates that only a single attribute is shown, as defined by the <tt class="docutils literal"><span class="pre">ATTR</span></tt> value.</dd>
</dl>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife role show devops
</pre></div>
</div>
</div>
</div>
<div class="section" id="id67">
<h2>search<a class="headerlink" href="#id67" title="Permalink to this headline">¶</a></h2>
<p>Search indexes allow queries to be made for any type of data that is indexed by a Chef server, including data for a chef-client, data bags (and data bag items), environments, nodes, and roles. Chef has a defined query syntax that includes search patterns like exact, wildcard, range, and fuzzy. The search engine is based on Apache Solr and is run from a Chef server. A search is a full-text query that can be done from within a recipe or by using the <tt class="docutils literal"><span class="pre">search</span></tt> sub-command in Knife.</p>
<p>The <tt class="docutils literal"><span class="pre">search</span></tt> sub-command is used run a search query for information that is indexed on a Chef server.</p>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife search INDEX SEARCH_QUERY (options)</pre>
</div>
<p>This sub-command has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-a</span> <span class="pre">ATTR</span></tt>, <tt class="docutils literal"><span class="pre">--attribute</span> <span class="pre">ATTR</span></tt></dt>
<dd>Indicates that only a single attribute is shown, as defined by the <tt class="docutils literal"><span class="pre">ATTR</span></tt> value.</dd>
<dt><tt class="docutils literal"><span class="pre">-b</span> <span class="pre">ROW</span></tt>, <tt class="docutils literal"><span class="pre">-start</span> <span class="pre">ROW</span></tt></dt>
<dd>The row at which return results will begin.</dd>
<dt><tt class="docutils literal"><span class="pre">-i</span></tt>, <tt class="docutils literal"><span class="pre">--id-only</span></tt></dt>
<dd>Indicates that only matching object IDs will be shown.</dd>
<dt><tt class="docutils literal"><span class="pre">INDEX</span></tt></dt>
<dd>The name of the index to be queried: <tt class="docutils literal"><span class="pre">client</span></tt>, <tt class="docutils literal"><span class="pre">environment</span></tt>, <tt class="docutils literal"><span class="pre">node</span></tt>, <tt class="docutils literal"><span class="pre">role</span></tt>, or <tt class="docutils literal"><span class="pre">DATA_BAG_NAME</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">-l</span></tt>, <tt class="docutils literal"><span class="pre">--long</span></tt></dt>
<dd>Display long output when searching nodes while using the default summary format.</dd>
<dt><tt class="docutils literal"><span class="pre">-m</span></tt>, <tt class="docutils literal"><span class="pre">--medium</span></tt></dt>
<dd>Display more, but not all, of a node&#8217;s data when searching using the default summary format.</dd>
<dt><tt class="docutils literal"><span class="pre">-o</span> <span class="pre">SORT</span></tt>, <tt class="docutils literal"><span class="pre">--sort</span> <span class="pre">SORT</span></tt></dt>
<dd>The order in which search results will be sorted.</dd>
<dt><tt class="docutils literal"><span class="pre">-q</span> <span class="pre">SEARCH_QUERY</span></tt>, <tt class="docutils literal"><span class="pre">--query</span> <span class="pre">SEARCH_QUERY</span></tt></dt>
<dd>Use to protect search queries that start with a hyphen (-). A <tt class="docutils literal"><span class="pre">-q</span></tt> query may be specified as an argument or an option, but not both.</dd>
<dt><tt class="docutils literal"><span class="pre">-r</span></tt>, <tt class="docutils literal"><span class="pre">--run-list</span></tt></dt>
<dd>Indicates that only the run-list will be shown.</dd>
<dt><tt class="docutils literal"><span class="pre">-R</span> <span class="pre">INT</span></tt>, <tt class="docutils literal"><span class="pre">--rows</span> <span class="pre">INT</span></tt></dt>
<dd>The number of rows to be returned.</dd>
<dt><tt class="docutils literal"><span class="pre">SEARCH_QUERY</span></tt></dt>
<dd>The search query used to identify a a list of items on a Chef server. This option uses the same syntax as the <tt class="docutils literal"><span class="pre">search</span></tt> sub-command.</dd>
</dl>
<p>For example, to search for the IDs of all nodes running on the Amazon EC2 platform, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife search node <span class="s1">&#39;ec2:*&#39;</span> -i
</pre></div>
</div>
<p>to return something like:</p>
<div class="highlight-bash"><div class="highlight"><pre>4 items found

ip-0A7CA19F.ec2.internal

ip-0A58CF8E.ec2.internal

ip-0A58E134.ec2.internal

ip-0A7CFFD5.ec2.internal
</pre></div>
</div>
<p>To search for the instance type (flavor) of all nodes running on the Amazon EC2 platform, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife search node <span class="s1">&#39;ec2:*&#39;</span> -a ec2.instance_type
</pre></div>
</div>
<p>to return something like:</p>
<div class="highlight-bash"><div class="highlight"><pre>4 items found

ec2.instance_type:  m1.large
id:                 ip-0A7CA19F.ec2.internal

ec2.instance_type:  m1.large
id:                 ip-0A58CF8E.ec2.internal

ec2.instance_type:  m1.large
id:                 ip-0A58E134.ec2.internal

ec2.instance_type:  m1.large
id:                 ip-0A7CFFD5.ec2.internal
</pre></div>
</div>
<p>To search for all nodes running Ubuntu, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife search node <span class="s1">&#39;platform:ubuntu&#39;</span>
</pre></div>
</div>
<p>To search for all nodes running CentOS in the production environment, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife search node <span class="s1">&#39;chef_environment:production AND platform:centos&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="ssh">
<h2>ssh<a class="headerlink" href="#ssh" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">ssh</span></tt> sub-command is used to invoke SSH commands (in parallel) on a subset of nodes within an organization, based on the results of a search query.</p>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife ssh SEARCH_QUERY SSH_COMMAND (options)</pre>
</div>
<p>This sub-command has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-a</span> <span class="pre">SSH_ATTR</span></tt>, <tt class="docutils literal"><span class="pre">--attribute</span> <span class="pre">SSH_ATTR</span></tt></dt>
<dd>The attribute that is used when opening the SSH connection. The default attribute is the fully-qualified domain name of the host. Other possible values include a public IP address, a private IP address, or a hostname.</dd>
<dt><tt class="docutils literal"><span class="pre">-C</span> <span class="pre">NUM</span></tt>, <tt class="docutils literal"><span class="pre">--concurrency</span> <span class="pre">NUM</span></tt></dt>
<dd>The number of allowed concurrent connections.</dd>
<dt><tt class="docutils literal"><span class="pre">-G</span> <span class="pre">GATEWAY</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-gateway</span> <span class="pre">GATEWAY</span></tt></dt>
<dd>The SSH tunnel or gateway that is used to run a bootstrap action on a machine that is not accessible from the workstation.</dd>
<dt><tt class="docutils literal"><span class="pre">-i</span> <span class="pre">IDENTITY_FILE</span></tt>, <tt class="docutils literal"><span class="pre">--identity-file</span> <span class="pre">IDENTIFY_FILE</span></tt></dt>
<dd>The SSH identity file used for authentication. Key-based authentication is recommended.</dd>
<dt><tt class="docutils literal"><span class="pre">-m</span></tt>, <tt class="docutils literal"><span class="pre">--manual-list</span></tt></dt>
<dd>Indicates that a search query is a space-separated list of servers.</dd>
<dt><tt class="docutils literal"><span class="pre">--[no-]host-key-verify</span></tt></dt>
<dd>Use <tt class="docutils literal"><span class="pre">--no-host-key-verify</span></tt> to disable host key verification. Host key verification is enabled by default.</dd>
<dt><tt class="docutils literal"><span class="pre">-p</span> <span class="pre">PORT</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-port</span> <span class="pre">PORT</span></tt></dt>
<dd>The SSH port.</dd>
<dt><tt class="docutils literal"><span class="pre">-P</span> <span class="pre">PASSWORD</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-password</span> <span class="pre">PASSWORD</span></tt></dt>
<dd>The SSH password. This can be used to pass the password directly on the command line. If this option is not specified (and a password is required) Knife will prompt for the password.</dd>
<dt><tt class="docutils literal"><span class="pre">SEARCH_QUERY</span></tt></dt>
<dd>The search query used to return a list of servers to be accessed using SSH and the specified <tt class="docutils literal"><span class="pre">SSH_COMMAND</span></tt>. This option uses the same syntax as the search sub-command.</dd>
<dt><tt class="docutils literal"><span class="pre">SSH_COMMAND</span></tt></dt>
<dd>The command that will be run against the results of a search query.</dd>
<dt><tt class="docutils literal"><span class="pre">-x</span> <span class="pre">USER_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-user</span> <span class="pre">USER_NAME</span></tt></dt>
<dd>The SSH user name.</dd>
</dl>
<p>For example, to query for all nodes that have the &#8220;webserver&#8221; role and then use SSH to run the command &#8220;sudo chef-client&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife ssh <span class="s2">&quot;role:webserver&quot;</span> <span class="s2">&quot;sudo chef-client&quot;</span>
</pre></div>
</div>
<p>To upgrade all nodes, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife ssh name:* <span class="s2">&quot;sudo aptitude upgrade -y&quot;</span>
</pre></div>
</div>
<p>To find the uptime of all of your Web servers running Ubuntu on the Amazon EC2 platform, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife ssh <span class="s2">&quot;role:web&quot;</span> <span class="s2">&quot;uptime&quot;</span> -x ubuntu -a ec2.public_hostname
</pre></div>
</div>
<p>to return:</p>
<div class="highlight-bash"><div class="highlight"><pre>ec2-174-129-127-206.compute-1.amazonaws.com  13:50:47 up 1 day, 23:26,  1 user,  load average: 0.25, 0.18, 0.11
ec2-67-202-63-102.compute-1.amazonaws.com    13:50:47 up 1 day, 23:33,  1 user,  load average: 0.12, 0.13, 0.10
ec2-184-73-9-250.compute-1.amazonaws.com     13:50:48 up 16:45,  1 user,  load average: 0.30, 0.22, 0.13
ec2-75-101-240-230.compute-1.amazonaws.com   13:50:48 up 1 day, 22:59,  1 user,  load average: 0.24, 0.17, 0.11
ec2-184-73-60-141.compute-1.amazonaws.com    13:50:48 up 1 day, 23:30,  1 user,  load average: 0.32, 0.17, 0.15
</pre></div>
</div>
<p>To force a chef-client run on all of your Web servers running Ubuntu on the Amazon EC2 platform, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife ssh <span class="s2">&quot;role:web&quot;</span> <span class="s2">&quot;sudo chef-client&quot;</span> -x ubuntu -a ec2.public_hostname
</pre></div>
</div>
<p>to return:</p>
<div class="highlight-bash"><div class="highlight"><pre>ec2-67-202-63-102.compute-1.amazonaws.com   <span class="o">[</span>Fri, 22 Oct 2010 14:18:37 +0000<span class="o">]</span> INFO: Starting Chef Run <span class="o">(</span>Version 0.9.10<span class="o">)</span>
ec2-174-129-127-206.compute-1.amazonaws.com <span class="o">[</span>Fri, 22 Oct 2010 14:18:37 +0000<span class="o">]</span> INFO: Starting Chef Run <span class="o">(</span>Version 0.9.10<span class="o">)</span>
ec2-184-73-9-250.compute-1.amazonaws.com    <span class="o">[</span>Fri, 22 Oct 2010 14:18:38 +0000<span class="o">]</span> INFO: Starting Chef Run <span class="o">(</span>Version 0.9.10<span class="o">)</span>
ec2-75-101-240-230.compute-1.amazonaws.com  <span class="o">[</span>Fri, 22 Oct 2010 14:18:38 +0000<span class="o">]</span> INFO: Starting Chef Run <span class="o">(</span>Version 0.9.10<span class="o">)</span>
ec2-184-73-60-141.compute-1.amazonaws.com   <span class="o">[</span>Fri, 22 Oct 2010 14:18:38 +0000<span class="o">]</span> INFO: Starting Chef Run <span class="o">(</span>Version 0.9.10<span class="o">)</span>
ec2-174-129-127-206.compute-1.amazonaws.com <span class="o">[</span>Fri, 22 Oct 2010 14:18:39 +0000<span class="o">]</span> INFO: Chef Run <span class="nb">complete </span>in 1.419243 seconds
ec2-174-129-127-206.compute-1.amazonaws.com <span class="o">[</span>Fri, 22 Oct 2010 14:18:39 +0000<span class="o">]</span> INFO: cleaning the checksum cache
ec2-174-129-127-206.compute-1.amazonaws.com <span class="o">[</span>Fri, 22 Oct 2010 14:18:39 +0000<span class="o">]</span> INFO: Running report handlers
ec2-174-129-127-206.compute-1.amazonaws.com <span class="o">[</span>Fri, 22 Oct 2010 14:18:39 +0000<span class="o">]</span> INFO: Report handlers <span class="nb">complete</span>
ec2-67-202-63-102.compute-1.amazonaws.com   <span class="o">[</span>Fri, 22 Oct 2010 14:18:39 +0000<span class="o">]</span> INFO: Chef Run <span class="nb">complete </span>in 1.578265 seconds
ec2-67-202-63-102.compute-1.amazonaws.com   <span class="o">[</span>Fri, 22 Oct 2010 14:18:39 +0000<span class="o">]</span> INFO: cleaning the checksum cache
ec2-67-202-63-102.compute-1.amazonaws.com   <span class="o">[</span>Fri, 22 Oct 2010 14:18:39 +0000<span class="o">]</span> INFO: Running report handlers
ec2-67-202-63-102.compute-1.amazonaws.com   <span class="o">[</span>Fri, 22 Oct 2010 14:18:39 +0000<span class="o">]</span> INFO: Report handlers <span class="nb">complete</span>
ec2-184-73-9-250.compute-1.amazonaws.com    <span class="o">[</span>Fri, 22 Oct 2010 14:18:40 +0000<span class="o">]</span> INFO: Chef Run <span class="nb">complete </span>in 1.638884 seconds
ec2-184-73-9-250.compute-1.amazonaws.com    <span class="o">[</span>Fri, 22 Oct 2010 14:18:40 +0000<span class="o">]</span> INFO: cleaning the checksum cache
ec2-184-73-9-250.compute-1.amazonaws.com    <span class="o">[</span>Fri, 22 Oct 2010 14:18:40 +0000<span class="o">]</span> INFO: Running report handlers
ec2-184-73-9-250.compute-1.amazonaws.com    <span class="o">[</span>Fri, 22 Oct 2010 14:18:40 +0000<span class="o">]</span> INFO: Report handlers <span class="nb">complete</span>
ec2-75-101-240-230.compute-1.amazonaws.com  <span class="o">[</span>Fri, 22 Oct 2010 14:18:40 +0000<span class="o">]</span> INFO: Chef Run <span class="nb">complete </span>in 1.540257 seconds
ec2-75-101-240-230.compute-1.amazonaws.com  <span class="o">[</span>Fri, 22 Oct 2010 14:18:40 +0000<span class="o">]</span> INFO: cleaning the checksum cache
ec2-75-101-240-230.compute-1.amazonaws.com  <span class="o">[</span>Fri, 22 Oct 2010 14:18:40 +0000<span class="o">]</span> INFO: Running report handlers
ec2-75-101-240-230.compute-1.amazonaws.com  <span class="o">[</span>Fri, 22 Oct 2010 14:18:40 +0000<span class="o">]</span> INFO: Report handlers <span class="nb">complete</span>
ec2-184-73-60-141.compute-1.amazonaws.com   <span class="o">[</span>Fri, 22 Oct 2010 14:18:40 +0000<span class="o">]</span> INFO: Chef Run <span class="nb">complete </span>in 1.502489 seconds
ec2-184-73-60-141.compute-1.amazonaws.com   <span class="o">[</span>Fri, 22 Oct 2010 14:18:40 +0000<span class="o">]</span> INFO: cleaning the checksum cache
ec2-184-73-60-141.compute-1.amazonaws.com   <span class="o">[</span>Fri, 22 Oct 2010 14:18:40 +0000<span class="o">]</span> INFO: Running report handlers
ec2-184-73-60-141.compute-1.amazonaws.com   <span class="o">[</span>Fri, 22 Oct 2010 14:18:40 +0000<span class="o">]</span> INFO: Report handlers <span class="nb">complete</span>
</pre></div>
</div>
</div>
<div class="section" id="status">
<h2>status<a class="headerlink" href="#status" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">status</span></tt> sub-command is used to display a brief summary of the nodes on a Chef server, including the time of the most recent successful chef-client run.</p>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife status (options)</pre>
</div>
<p>This sub-command has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">QUERY</span></tt></dt>
<dd>The search query used to identify a a list of items on a Chef server. This option uses the same syntax as the <tt class="docutils literal"><span class="pre">search</span></tt> sub-command.</dd>
<dt><tt class="docutils literal"><span class="pre">-r</span> <span class="pre">RUN_LIST</span></tt>, <tt class="docutils literal"><span class="pre">--run-list</span> <span class="pre">RUN_LIST</span></tt></dt>
<dd>A comma-separated list of roles and/or recipes to be applied.</dd>
</dl>
<p>For example, to view the status of all nodes in the organization, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife status
</pre></div>
</div>
<p>to return something like:</p>
<div class="highlight-bash"><div class="highlight"><pre>20 hours ago, dev-vm.chisamore.com, ubuntu 10.04, dev-vm.chisamore.com, 10.66.44.126
3 hours ago, i-225f954f, ubuntu 10.04, ec2-67-202-63-102.compute-1.amazonaws.com, 67.202.63.102
3 hours ago, i-a45298c9, ubuntu 10.04, ec2-174-129-127-206.compute-1.amazonaws.com, 174.129.127.206
3 hours ago, i-5272a43f, ubuntu 10.04, ec2-184-73-9-250.compute-1.amazonaws.com, 184.73.9.250
3 hours ago, i-226ca64f, ubuntu 10.04, ec2-75-101-240-230.compute-1.amazonaws.com, 75.101.240.230
3 hours ago, i-f65c969b, ubuntu 10.04, ec2-184-73-60-141.compute-1.amazonaws.com, 184.73.60.141
</pre></div>
</div>
<p>To include run lists in the status, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife status --run-list
</pre></div>
</div>
<p>to return something like:</p>
<div class="highlight-bash"><div class="highlight"><pre>20 hours ago, dev-vm.chisamore.com, ubuntu 10.04, dev-vm.chisamore.com, 10.66.44.126, role<span class="o">[</span>lb<span class="o">]</span>.
3 hours ago, i-225f954f, ubuntu 10.04, ec2-67-202-63-102.compute-1.amazonaws.com, 67.202.63.102, role<span class="o">[</span>web<span class="o">]</span>.
3 hours ago, i-a45298c9, ubuntu 10.04, ec2-174-129-127-206.compute-1.amazonaws.com, 174.129.127.206, role<span class="o">[</span>web<span class="o">]</span>.
3 hours ago, i-5272a43f, ubuntu 10.04, ec2-184-73-9-250.compute-1.amazonaws.com, 184.73.9.250, role<span class="o">[</span>web<span class="o">]</span>.
3 hours ago, i-226ca64f, ubuntu 10.04, ec2-75-101-240-230.compute-1.amazonaws.com, 75.101.240.230, role<span class="o">[</span>web<span class="o">]</span>.
3 hours ago, i-f65c969b, ubuntu 10.04, ec2-184-73-60-141.compute-1.amazonaws.com, 184.73.60.141, role<span class="o">[</span>web<span class="o">]</span>.
</pre></div>
</div>
<p>To show the status of a subset of nodes that are returned by a specific query, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife status <span class="s2">&quot;role:web&quot;</span> --run-list
</pre></div>
</div>
<p>to return something like:</p>
<div class="highlight-bash"><div class="highlight"><pre>3 hours ago, i-225f954f, ubuntu 10.04, ec2-67-202-63-102.compute-1.amazonaws.com, 67.202.63.102, role<span class="o">[</span>web<span class="o">]</span>.
3 hours ago, i-a45298c9, ubuntu 10.04, ec2-174-129-127-206.compute-1.amazonaws.com, 174.129.127.206, role<span class="o">[</span>web<span class="o">]</span>.
3 hours ago, i-5272a43f, ubuntu 10.04, ec2-184-73-9-250.compute-1.amazonaws.com, 184.73.9.250, role<span class="o">[</span>web<span class="o">]</span>.
3 hours ago, i-226ca64f, ubuntu 10.04, ec2-75-101-240-230.compute-1.amazonaws.com, 75.101.240.230, role<span class="o">[</span>web<span class="o">]</span>.
3 hours ago, i-f65c969b, ubuntu 10.04, ec2-184-73-60-141.compute-1.amazonaws.com, 184.73.60.141, role<span class="o">[</span>web<span class="o">]</span>.
</pre></div>
</div>
</div>
<div class="section" id="tag">
<h2>tag<a class="headerlink" href="#tag" title="Permalink to this headline">¶</a></h2>
<p>A tag is a custom description that is applied to a node. A tag, once applied, can be helpful when managing nodes using Knife or when building recipes by providing alternate methods of grouping similar types of information.</p>
<p>The <tt class="docutils literal"><span class="pre">tag</span></tt> sub-command is used to apply tags to nodes on a Chef server.</p>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife tag [ARGUMENT]</pre>
</div>
<div class="section" id="id68">
<h3>create<a class="headerlink" href="#id68" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">create</span></tt> argument is used to add one or more tags to a node.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife tag create NODE_NAME [TAG...]</pre>
</div>
<p>This argument does not have any options.</p>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife tag create node tag1 tag2 tag3
</pre></div>
</div>
</div>
<div class="section" id="id69">
<h3>delete<a class="headerlink" href="#id69" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">delete</span></tt> argument is used to delete one or more tags from a node.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife tag delete NODE_NAME [TAG...]</pre>
</div>
<p>This argument does not have any options.</p>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife tag delete node tag1 tag2 tag3
</pre></div>
</div>
<p>Type <tt class="docutils literal"><span class="pre">Y</span></tt> to confirm a deletion.</p>
</div>
<div class="section" id="id70">
<h3>list<a class="headerlink" href="#id70" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">list</span></tt> argument is used to list all of the tags that have been applied to one or more nodes.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife tag list [NODE_NAME...]</pre>
</div>
<p>This argument does not have any options.</p>
<p>For example, to view the tags for a single node, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife tag list node
</pre></div>
</div>
<p>To view tags for more than one node, just specify the additional nodes:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife tag list node1 node2 node3
</pre></div>
</div>
</div>
</div>
<div class="section" id="terremark-plug-in">
<h2>terremark (plug-in)<a class="headerlink" href="#terremark-plug-in" title="Permalink to this headline">¶</a></h2>
<p>Terremark is a cloud hosting platform that provides cloud, IT infrastructure, and managed hosting services. The <tt class="docutils literal"><span class="pre">terremark</span></tt> sub-command is used to manage API-driven cloud servers that are hosted by Terremark.</p>
<p>This plugin is available on github: <a class="reference external" href="https://github.com/opscode/knife-terremark">https://github.com/opscode/knife-terremark</a>.</p>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife terremark [ARGUMENT] (options)</pre>
</div>
<div class="section" id="id71">
<h3>server create<a class="headerlink" href="#id71" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">create</span></tt> argument is used to create a new Terremark instance.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife terremark server create SERVER_NAME [RUN_LIST] (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">USER_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--terremark-username</span> <span class="pre">USER_NAME</span></tt></dt>
<dd>A user name with permission to access a Terremark service.</dd>
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">PASSWORD</span></tt>, <tt class="docutils literal"><span class="pre">--terremark-password</span> <span class="pre">PASSWORD</span></tt></dt>
<dd>The password for the Terremark service.</dd>
<dt><tt class="docutils literal"><span class="pre">-S</span> <span class="pre">SERVICE</span></tt>, <tt class="docutils literal"><span class="pre">--terremark-service</span> <span class="pre">SERVICE</span></tt></dt>
<dd>The name of the Terremark service.</dd>
</dl>
<p>For example, to create a new instance, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife terremark server list server_name -A useraccount -K password -S service_name
</pre></div>
</div>
<p>To provision a new dual-core 1.0 GB Ubuntu 10.04 web server with three attached disks with sizes of &#8220;25G&#8221;, &#8220;50G&#8221;, and &#8220;50G&#8221;, enter something like:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife terremark server create --vcpus 2 -m 1024 -I 40 -A <span class="s1">&#39;username&#39;</span> -K <span class="s2">&quot;password&quot;</span>
  -r <span class="s1">&#39;role[webserver]&#39;</span> -i ~/.ssh/ssh-identity-file.pem -N web-server-nginx --tcp 80,8080
  --udp 5050 --disks 25,50,50
</pre></div>
</div>
</div>
<div class="section" id="id72">
<h3>server delete<a class="headerlink" href="#id72" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">delete</span></tt> argument is used to delete one or more instances that are running in the Terremark cloud. To find a specific cloud instance, use the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">terremark</span> <span class="pre">server</span> <span class="pre">list</span></tt> argument. Use the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">node</span> <span class="pre">delete</span></tt> and <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">client</span> <span class="pre">delete</span></tt> sub-commands to delete associated node and client objects (if required).</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife terremark server delete SERVER_ID</pre>
</div>
<p>This argument does not have any options.</p>
<p>For example, to delete an instance with an identifier of &#8220;abcdefg&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife terremark server delete abcdefg
</pre></div>
</div>
</div>
<div class="section" id="id73">
<h3>server list<a class="headerlink" href="#id73" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">list</span></tt> argument is used to find instances that are associated with a Terremark account. The results may show instances that are not currently managed by the Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife terremark server list (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">USER_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--terremark-username</span> <span class="pre">USER_NAME</span></tt></dt>
<dd>A user name with permission to access a Terremark service.</dd>
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">PASSWORD</span></tt>, <tt class="docutils literal"><span class="pre">--terremark-password</span> <span class="pre">PASSWORD</span></tt></dt>
<dd>The password for the Terremark service.</dd>
<dt><tt class="docutils literal"><span class="pre">-S</span> <span class="pre">SERVICE_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--terremark-service</span> <span class="pre">SERVICE_NAME</span></tt></dt>
<dd>The name of the Terremark service.</dd>
</dl>
<p>For example, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife terremark server list -A useraccount -K password -S service_name
</pre></div>
</div>
<p>to return something like:</p>
<div class="highlight-bash"><div class="highlight"><pre>xxxxx
</pre></div>
</div>
</div>
</div>
<div class="section" id="windows-plug-in">
<h2>windows (plug-in)<a class="headerlink" href="#windows-plug-in" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">windows</span></tt> sub-command is used to configure and interact with nodes that exist on server and/or desktop machines that are running Microsoft Windows. Nodes are configured using Windows Remote Management, which allows native objects&#8212;batch scripts, Windows PowerShell scripts, or scripting library variables&#8212;to be called by external applications.</p>
<p>This plugin is available on github: <a class="reference external" href="https://github.com/opscode/knife-windows">https://github.com/opscode/knife-windows</a>.</p>
<p>This sub-command has the following syntax when connecting to one (or more) machines that run Microsoft Windows:</p>
<div class="highlight-python"><pre>knife winrm [ARGUMENT] (options)</pre>
</div>
<p>And the following syntax when performing a bootstrap:</p>
<div class="highlight-python"><pre>knife bootstrap windows [ARGUMENT] (options)</pre>
</div>
<div class="section" id="bootstrap-windows-ssh">
<h3>bootstrap windows ssh<a class="headerlink" href="#bootstrap-windows-ssh" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">bootstrap</span> <span class="pre">windows</span> <span class="pre">ssh</span></tt> argument is used to bootstrap Chef installations in a Microsoft Windows environment, using a command shell that is native to Microsoft Windows.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife bootstrap windows ssh (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">--bootstrap-proxy</span> <span class="pre">PROXY_URL</span></tt></dt>
<dd>The proxy server for the node that is the target of a bootstrap operation.</dd>
<dt><tt class="docutils literal"><span class="pre">--bootstrap-version</span> <span class="pre">VERSION</span></tt></dt>
<dd>The version of Chef to install.</dd>
<dt><tt class="docutils literal"><span class="pre">-d</span> <span class="pre">DISTRO</span></tt>, <tt class="docutils literal"><span class="pre">--distro</span> <span class="pre">DISTRO</span></tt></dt>
<dd>Indicates that a bootstrap operation will use a template file. If this option is used the name of the template file (<tt class="docutils literal"><span class="pre">--template-file</span></tt>) must also be provided. The following distributions are supported: <tt class="docutils literal"><span class="pre">chef-full</span></tt> (the default bootstrap), <tt class="docutils literal"><span class="pre">centos5-gems</span></tt>, <tt class="docutils literal"><span class="pre">fedora13-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-apt</span></tt>, and <tt class="docutils literal"><span class="pre">ubuntu12.04-gems</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">-i</span> <span class="pre">IDENTITY_FILE</span></tt>, <tt class="docutils literal"><span class="pre">--identity-file</span> <span class="pre">IDENTITY_FILE</span></tt></dt>
<dd>The SSH identity file used for authentication. Key-based authentication is recommended.</dd>
<dt><tt class="docutils literal"><span class="pre">--N</span> <span class="pre">NAME</span></tt>, <tt class="docutils literal"><span class="pre">--node-name</span> <span class="pre">NAME</span></tt></dt>
<dd>The name of the node on the Chef server.</dd>
<dt><tt class="docutils literal"><span class="pre">-p</span> <span class="pre">PORT</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-port</span> <span class="pre">PORT</span></tt></dt>
<dd>The SSH port.</dd>
<dt><tt class="docutils literal"><span class="pre">--[no-]host-key-verify</span></tt></dt>
<dd>Use <tt class="docutils literal"><span class="pre">--no-host-key-verify</span></tt> to disable host key verification. Host key verification is enabled by default.</dd>
<dt><tt class="docutils literal"><span class="pre">-P</span> <span class="pre">PASSWORD</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-password</span> <span class="pre">PASSWORD</span></tt></dt>
<dd>The SSH password. This can be used to pass the password directly on the command line. If this option is not specified (and a password is required) Knife will prompt for the password.</dd>
<dt><tt class="docutils literal"><span class="pre">--prerelease</span></tt></dt>
<dd>Indicates that pre-release Chef gems should be installed.</dd>
<dt><tt class="docutils literal"><span class="pre">-r</span> <span class="pre">RUN_LIST</span></tt>, <tt class="docutils literal"><span class="pre">--run-list</span> <span class="pre">RUN_LIST</span></tt></dt>
<dd>A comma-separated list of roles and/or recipes to be applied.</dd>
<dt><tt class="docutils literal"><span class="pre">-s</span> <span class="pre">SECRET</span></tt>, <tt class="docutils literal"><span class="pre">--secret</span> <span class="pre">SECRET</span></tt></dt>
<dd>The encryption key that is used for values contained within a data bag.</dd>
<dt><tt class="docutils literal"><span class="pre">--secret-file</span> <span class="pre">FILE</span></tt></dt>
<dd>The path to the file that contains the encryption key.</dd>
<dt><tt class="docutils literal"><span class="pre">--template-file</span> <span class="pre">TEMPLATE</span></tt></dt>
<dd>The path to the template file that will be used during a bootstrap operation.</dd>
<dt><tt class="docutils literal"><span class="pre">-x</span> <span class="pre">USER_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-user</span> <span class="pre">USER_NAME</span></tt></dt>
<dd>The SSH user name.</dd>
</dl>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife bootstrap windows ssh ec2-50-xx-xx-124.compute-1.amazonaws.com -r <span class="s1">&#39;role[webserver],role[production]&#39;</span> -x Administrator -i ~/.ssh/id_rsa
</pre></div>
</div>
</div>
<div class="section" id="bootstrap-windows-winrm">
<h3>bootstrap windows winrm<a class="headerlink" href="#bootstrap-windows-winrm" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">bootstrap</span> <span class="pre">windows</span> <span class="pre">winrm</span></tt> argument is used to bootstrap Chef installations in a Microsoft Windows environment, using Windows Remote Management and the WS-Management protocol for communication. This argument requires the fully-qualified domain name of the host machine to be specified.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife bootstrap windows winrm FQDN</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">--bootstrap-proxy</span> <span class="pre">PROXY_URL</span></tt></dt>
<dd>The proxy server for the node that is the target of a bootstrap operation.</dd>
<dt><tt class="docutils literal"><span class="pre">--bootstrap-version</span> <span class="pre">VERSION</span></tt></dt>
<dd>The version of Chef to install.</dd>
<dt><tt class="docutils literal"><span class="pre">-d</span> <span class="pre">DISTRO</span></tt>, <tt class="docutils literal"><span class="pre">--distro</span> <span class="pre">DISTRO</span></tt></dt>
<dd>Indicates that a bootstrap operation will use a template file. If this option is used the name of the template file (<tt class="docutils literal"><span class="pre">--template-file</span></tt>) must also be provided. The following distributions are supported: <tt class="docutils literal"><span class="pre">chef-full</span></tt> (the default bootstrap), <tt class="docutils literal"><span class="pre">centos5-gems</span></tt>, <tt class="docutils literal"><span class="pre">fedora13-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-apt</span></tt>, and <tt class="docutils literal"><span class="pre">ubuntu12.04-gems</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">--N</span> <span class="pre">NAME</span></tt>, <tt class="docutils literal"><span class="pre">--node-name</span> <span class="pre">NAME</span></tt></dt>
<dd>The name of the node on the Chef server.</dd>
<dt><tt class="docutils literal"><span class="pre">--prerelease</span></tt></dt>
<dd>Indicates that pre-release Chef gems should be installed.</dd>
<dt><tt class="docutils literal"><span class="pre">-r</span> <span class="pre">RUN_LIST</span></tt>, <tt class="docutils literal"><span class="pre">--run-list</span> <span class="pre">RUN_LIST</span></tt></dt>
<dd>A comma-separated list of roles and/or recipes to be applied.</dd>
<dt><tt class="docutils literal"><span class="pre">-s</span> <span class="pre">SECRET</span></tt>, <tt class="docutils literal"><span class="pre">--secret</span> <span class="pre">SECRET</span></tt></dt>
<dd>The encryption key that is used for values contained within a data bag.</dd>
<dt><tt class="docutils literal"><span class="pre">--secret-file</span> <span class="pre">FILE</span></tt></dt>
<dd>The path to the file that contains the encryption key.</dd>
<dt><tt class="docutils literal"><span class="pre">--template-file</span> <span class="pre">TEMPLATE</span></tt></dt>
<dd>The path to the template file that will be used during a bootstrap operation.</dd>
</dl>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife bootstrap windows winrm ec2-50-xx-xx-124.compute-1.amazonaws.com -r <span class="s1">&#39;role[webserver],role[production]&#39;</span> -x Administrator -P <span class="s1">&#39;super_secret_password&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="winrm">
<h3>winrm<a class="headerlink" href="#winrm" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">winrm</span></tt> argument is used to create a connection to one or more remote machines. As each connection is created, a password must be provided. This argument uses the same syntax as the <tt class="docutils literal"><span class="pre">search</span></tt> sub-command.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife winrm SEARCH_QUERY SSH_COMMAND (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-a</span> <span class="pre">ATTR</span></tt>, <tt class="docutils literal"><span class="pre">--attribute</span> <span class="pre">ATTR</span></tt></dt>
<dd>The attribute that is used when opening the SSH connection. The default attribute is the fully-qualified domain name of the host. Other possible values include a public IP address, a private IP address, or a hostname.</dd>
<dt><tt class="docutils literal"><span class="pre">-f</span> <span class="pre">CA_TRUST_FILE</span></tt>, <tt class="docutils literal"><span class="pre">--ca-trust-file</span> <span class="pre">CA_TRUST_FILE</span></tt></dt>
<dd>The certificate authority (CA) trust file used for SSL transport.</dd>
<dt><tt class="docutils literal"><span class="pre">-i</span> <span class="pre">IDENTITY_FILE</span></tt>, <tt class="docutils literal"><span class="pre">--identity-file</span> <span class="pre">IDENTITY_FILE</span></tt></dt>
<dd>The SSH identity file used for authentication. Key-based authentication is recommended.</dd>
<dt><tt class="docutils literal"><span class="pre">-i</span> <span class="pre">KEYTAB_FILE</span></tt>, <tt class="docutils literal"><span class="pre">--keytab-file</span> <span class="pre">KEYTAB_FILE</span></tt></dt>
<dd>The keytab file that contains the encryption key required by Kerberos-based authentication.</dd>
<dt><tt class="docutils literal"><span class="pre">-m</span></tt>, <tt class="docutils literal"><span class="pre">--manual-list</span></tt></dt>
<dd>Indicates that a search query is a space-separated list of servers.</dd>
<dt><tt class="docutils literal"><span class="pre">-p</span> <span class="pre">PORT</span></tt>, <tt class="docutils literal"><span class="pre">--winrm-port</span> <span class="pre">PORT</span></tt></dt>
<dd>The Windows Remote Management port. Default: <tt class="docutils literal"><span class="pre">5985</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">-P</span> <span class="pre">PASSWORD</span></tt>, <tt class="docutils literal"><span class="pre">--winrm-password</span> <span class="pre">PASSWORD</span></tt></dt>
<dd>The Windows Remote Management password.</dd>
<dt><tt class="docutils literal"><span class="pre">-R</span> <span class="pre">KERBEROS_REALM</span></tt>, <tt class="docutils literal"><span class="pre">--kerberos-realm</span> <span class="pre">KERBEROS_REALM</span></tt></dt>
<dd>The administrative domain to which a user belongs.</dd>
<dt><tt class="docutils literal"><span class="pre">--returns</span> <span class="pre">CODES</span></tt></dt>
<dd>A comma-delimited list of return codes, which indicate the success or failure for the command that was run remotely.</dd>
<dt><tt class="docutils literal"><span class="pre">-S</span> <span class="pre">KERBEROS_SERVICE</span></tt>, <tt class="docutils literal"><span class="pre">--kerberos-service</span> <span class="pre">KERBEROS_SERVICE</span></tt></dt>
<dd>The service principal used during Kerberos-based authentication.</dd>
<dt><tt class="docutils literal"><span class="pre">SEARCH_QUERY</span></tt></dt>
<dd>The search query used to return a list of servers to be accessed using SSH and the specified <tt class="docutils literal"><span class="pre">SSH_COMMAND</span></tt>. This option uses the same syntax as the search sub-command.</dd>
<dt><tt class="docutils literal"><span class="pre">SSH_COMMAND</span></tt></dt>
<dd>The command that will be run against the results of a search query.</dd>
<dt><tt class="docutils literal"><span class="pre">-t</span> <span class="pre">TRANSPORT</span></tt>, <tt class="docutils literal"><span class="pre">--winrm-transport</span> <span class="pre">TRANSPORT</span></tt></dt>
<dd>The Windows Remote Management transport type: <tt class="docutils literal"><span class="pre">ssl</span></tt> or <tt class="docutils literal"><span class="pre">plaintext</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">-x</span> <span class="pre">USERNAME</span></tt>, <tt class="docutils literal"><span class="pre">--winrm-user</span> <span class="pre">USERNAME</span></tt></dt>
<dd>The Windows Remote Management user name.</dd>
</dl>
<p>For example, to find the uptime of all web servers, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife winrm <span class="s2">&quot;role:web&quot;</span> <span class="s2">&quot;net stats srv&quot;</span> -x Administrator -P password
</pre></div>
</div>
<p>Or, to force a Chef run:</p>
<div class="highlight-bash"><div class="highlight"><pre>knife winrm <span class="s1">&#39;ec2-50-xx-xx-124.amazonaws.com&#39;</span> <span class="s1">&#39;chef-client -c c:/chef/client.rb&#39;</span> -m -x admin -P <span class="s1">&#39;password&#39;</span>
ec2-50-xx-xx-124.amazonaws.com <span class="o">[</span>date<span class="o">]</span> INFO: Starting Chef Run <span class="o">(</span>Version 0.9.12<span class="o">)</span>
ec2-50-xx-xx-124.amazonaws.com <span class="o">[</span>date<span class="o">]</span> WARN: Node ip-0A502FFB has an empty run list.
ec2-50-xx-xx-124.amazonaws.com <span class="o">[</span>date<span class="o">]</span> INFO: Chef Run <span class="nb">complete </span>in 4.383966 seconds
ec2-50-xx-xx-124.amazonaws.com <span class="o">[</span>date<span class="o">]</span> INFO: cleaning the checksum cache
ec2-50-xx-xx-124.amazonaws.com <span class="o">[</span>date<span class="o">]</span> INFO: Running report handlers
ec2-50-xx-xx-124.amazonaws.com <span class="o">[</span>date<span class="o">]</span> INFO: Report handlers <span class="nb">complete</span>
</pre></div>
</div>
<p>Where in the examples above, <tt class="docutils literal"><span class="pre">[date]</span></tt> represents the date and time the long entry was created. For example: <tt class="docutils literal"><span class="pre">[Fri,</span> <span class="pre">04</span> <span class="pre">Mar</span> <span class="pre">2011</span> <span class="pre">22:00:53</span> <span class="pre">+0000]</span></tt>.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="#">Opscode: Knife Command Line Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Opscode, Inc.
    </div>
  </body>
</html>