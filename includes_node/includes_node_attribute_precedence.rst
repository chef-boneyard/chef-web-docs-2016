.. The contents of this file are included in multiple topics.
.. This file should not be changed in a way that hinders its ability to appear in multiple documentation sets.

During a |chef| run, saved attributes are retrieved from the |chef server| and are merged with the attributes on the local system. The attribute type and the source of the attribute determines which attribute values have priority over others. In general, use the default attributes as much as possible (or even all the time). The merge order for attribute precedence will do most of the work, yet leaving many levels of precedence available for the situations where they are truly necessary.

Attribute values are applied in the following order (from low to high priority):

#. Default attributes applied in an attributes file
#. Default attributes applied on a node directly in a recipe
#. Default attributes applied in an environment
#. Default attributes applied in a role
#. Forced default attributes applied in an attributes file
#. Forced default attributes applied on a node directly in a recipe
#. Normal attributes applied in an attributes file
#. Normal attributes applied on a node directly in a recipe
#. Override attributes applied in an attributes file
#. Override attributes applied on a node directly in a recipe
#. Override attributes applied in a role
#. Override attributes applied in an environment
#. Forced override attributes applied in an attribute file
#. Forced override attributes applied on a node directly in a recipe
#. Automatic attributes, re-generated by |ohai| during each |chef| run

In other words: an automatic attribute takes precedence over a forced override attribute, a forced override attribute takes precedence over an override attribute, an override attribute takes precedence over a normal attribute and so on.

.. note:: The precedence order for role and environment attributes for ``override`` attributes is reversed from ``default`` attributes. This allows ``override`` attributes to be applied for environments after they have been applied for roles. This allows a role, such as a database server or a web server, to exist in multiple environments, rather than requiring a set of roles for each environment.

Another way to view attribute precedence is with the following table:

.. image:: ../../images/includes_node_attribute_precedence.png


