

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>cookbook site &mdash; Opscode: Knife Reference</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.0.1-1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Opscode: Knife Reference" href="index.html" />
    <link rel="next" title="cookbook" href="man_knife_cookbook.html" />
    <link rel="prev" title="configure" href="man_knife_configure.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="man_knife_cookbook.html" title="cookbook"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="man_knife_configure.html" title="configure"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Opscode: Knife Reference</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/opscode_html_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">cookbook site</a><ul>
<li><a class="reference internal" href="#download">download</a></li>
<li><a class="reference internal" href="#install">install</a></li>
<li><a class="reference internal" href="#list">list</a></li>
<li><a class="reference internal" href="#search">search</a></li>
<li><a class="reference internal" href="#share">share</a></li>
<li><a class="reference internal" href="#show">show</a></li>
<li><a class="reference internal" href="#unshare">unshare</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="man_knife_configure.html"
                        title="previous chapter">configure</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="man_knife_cookbook.html"
                        title="next chapter">cookbook</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/man_knife_cookbook_site.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="cookbook-site">
<h1>cookbook site<a class="headerlink" href="#cookbook-site" title="Permalink to this headline">¶</a></h1>
<p>The Cookbooks Site API is used to provide access to the cookbooks community hosted at cookbooks.opscode.com. All of the cookbooks in the community are accessible through a REST API located at cookbooks.opscode.com/api/v1/ by using any of the supported endpoints. In most cases, using Knife and the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">cookbook</span> <span class="pre">site</span></tt> sub-command (and any of its arguments) is the recommended method of interacting with these cookbooks, but in some cases, using the REST API directly may make sense.</p>
<p>The <tt class="docutils literal"><span class="pre">cookbook</span> <span class="pre">site</span></tt> sub-command is used to interact with cookbooks that are located at cookbooks.opscode.com. A user account is required for any community actions that write data to this site. The following arguments do not require a user account: <tt class="docutils literal"><span class="pre">download</span></tt>, <tt class="docutils literal"><span class="pre">search</span></tt>, <tt class="docutils literal"><span class="pre">install</span></tt>, and <tt class="docutils literal"><span class="pre">list</span></tt>.</p>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook site [ARGUMENT] (options)</pre>
</div>
<div class="section" id="download">
<h2>download<a class="headerlink" href="#download" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">download</span></tt> argument is used to download a cookbook from the community website. A cookbook will be downloaded as a tar.gz archive and placed in the current working directory. If a cookbook (or cookbook version) has been deprecated and the <tt class="docutils literal"><span class="pre">--force</span></tt> option is not used, Knife will alert the user that the cookbook is deprecated and then will provide the name of the most recent non-deprecated version of that cookbook.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook site download COOKBOOK_NAME [COOKBOOK_VERSION] (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-f</span> <span class="pre">FILE</span></tt>, <tt class="docutils literal"><span class="pre">--file</span> <span class="pre">FILE</span></tt></dt>
<dd>The name of the cookbook file to be downloaded.</dd>
<dt><tt class="docutils literal"><span class="pre">--force</span></tt></dt>
<dd>Indicates that the download of a deprecated cookbook will be forced.</dd>
<dt><tt class="docutils literal"><span class="pre">COOKBOOK_VERSION</span></tt></dt>
<dd>The version of a cookbook to be downloaded. If a cookbook has only one version, this option does not need to be specified. If a cookbook has more than one version and this option is not specified, Knife will prompt for a version.</dd>
</dl>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook site download getting-started
</pre></div>
</div>
<p>to return something like:</p>
<div class="highlight-bash"><div class="highlight"><pre>Downloading getting-started from the cookbooks site at version 0.3.0 to
  /Users/sdanna/opscodesupport/getting-started-0.3.0.tar.gz
Cookbook saved: /Users/sdanna/opscodesupport/getting-started-0.3.0.tar.gz
</pre></div>
</div>
</div>
<div class="section" id="install">
<h2>install<a class="headerlink" href="#install" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">install</span></tt> argument is used to install a cookbook that has been downloaded from the community site to a local repository . This action uses the git version control system in conjunction with the cookbooks.opscode.com site to install community-contributed cookbooks to the local repository. Using this argument does the following:</p>
<blockquote>
<div><ol class="arabic simple">
<li>A new &#8220;pristine copy&#8221; branch is created in git for tracking the upstream.</li>
<li>All existing cookbooks are removed from the branch.</li>
<li>The cookbook is downloaded from cookbooks.opscode.com in the tar.gz format.</li>
<li>The downloaded cookbook is untarred and its contents are committed to git.</li>
<li>The &#8220;pristine copy&#8221; branch is merged into the master branch.</li>
</ol>
</div></blockquote>
<p>This process allows the upstream cookbook in the master branch to be modified while letting git maintain changes as a separate patch. When an updated upstream version becomes available, those changes can be merged while maintaining any local modifications.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook site install COOKBOOK_NAME [COOKBOOK_VERSION] (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-b</span></tt>, <tt class="docutils literal"><span class="pre">--use-current-branch</span></tt></dt>
<dd>Indicates that the current branch will be used.</dd>
<dt><tt class="docutils literal"><span class="pre">-B</span> <span class="pre">BRANCH</span></tt>, <tt class="docutils literal"><span class="pre">--branch</span> <span class="pre">BRANCH</span></tt></dt>
<dd>The name of the default branch. This will default to the master branch.</dd>
<dt><tt class="docutils literal"><span class="pre">-D</span></tt>, <tt class="docutils literal"><span class="pre">--skip-dependencies</span></tt></dt>
<dd>Indicates that all cookbooks to which the installed cookbook has a dependency will not be installed.</dd>
<dt><tt class="docutils literal"><span class="pre">-o</span> <span class="pre">PATH:PATH</span></tt>, <tt class="docutils literal"><span class="pre">--cookbook-path</span> <span class="pre">PATH:PATH</span></tt></dt>
<dd>A colon-separated path at which cookbooks are located.</dd>
<dt><tt class="docutils literal"><span class="pre">COOKBOOK_VERSION</span></tt></dt>
<dd>The version of the cookbook to be installed. If a version is not specified, the most recent version of the cookbook will be installed.</dd>
</dl>
<p>For example, to install the cookbook &#8220;getting-started&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook site install getting-started
</pre></div>
</div>
<p>to return something like:</p>
<div class="highlight-bash"><div class="highlight"><pre>Installing getting-started to /Users/sdanna/opscodesupport/.chef/../cookbooks
Checking out the master branch.
Creating pristine copy branch chef-vendor-getting-started
Downloading getting-started from the cookbooks site at version 0.3.0 to
  /Users/sdanna/opscodesupport/.chef/../cookbooks/getting-started.tar.gz
Cookbook saved: /Users/sdanna/opscodesupport/.chef/../cookbooks/getting-started.tar.gz
Removing pre-existing version.
Uncompressing getting-started version /Users/sdanna/opscodesupport/.chef/../cookbooks.
removing downloaded tarball
1 files updated, committing changes
Creating tag cookbook-site-imported-getting-started-0.3.0
Checking out the master branch.
Updating 4d44b5b..b4c32f2
Fast-forward
 cookbooks/getting-started/README.rdoc              |    4 +++
 cookbooks/getting-started/attributes/default.rb    |    1 +
 cookbooks/getting-started/metadata.json            |   29 ++++++++++++++++++++
 cookbooks/getting-started/metadata.rb              |    6 ++++
 cookbooks/getting-started/recipes/default.rb       |   23 +++++++++++++++
 .../templates/default/chef-getting-started.txt.erb |    5 +++
 6 files changed, 68 insertions<span class="o">(</span>+<span class="o">)</span>, 0 deletions<span class="o">(</span>-<span class="o">)</span>
 create mode 100644 cookbooks/getting-started/README.rdoc
 create mode 100644 cookbooks/getting-started/attributes/default.rb
 create mode 100644 cookbooks/getting-started/metadata.json
 create mode 100644 cookbooks/getting-started/metadata.rb
 create mode 100644 cookbooks/getting-started/recipes/default.rb
 create mode 100644 cookbooks/getting-started/templates/default/chef-getting-started.txt.erb
Cookbook getting-started version 0.3.0 successfully installed
</pre></div>
</div>
</div>
<div class="section" id="list">
<h2>list<a class="headerlink" href="#list" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">list</span></tt> argument is used to view a list of cookbooks that are currently available at cookbooks.opscode.com.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook site list</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-w</span></tt>, <tt class="docutils literal"><span class="pre">--with-uri</span></tt></dt>
<dd>Indicates that the corresponding URIs will be shown.</dd>
</dl>
<p>For example, to view a list of cookbooks at cookbooks.opscode.com server, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook site list
</pre></div>
</div>
<p>to return:</p>
<div class="highlight-python"><pre>1password             homesick              rabbitmq
7-zip                 hostname              rabbitmq-management
AmazonEC2Tag          hosts                 rabbitmq_chef
R                     hosts-awareness       rackspaceknife
accounts              htop                  radiant
ack-grep              hudson                rails
activemq              icinga                rails_enterprise
ad                    id3lib                redis-package
ad-likewise           iftop                 redis2
ant                   iis                   redmine
[...truncated...]</pre>
</div>
</div>
<div class="section" id="search">
<h2>search<a class="headerlink" href="#search" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">search</span></tt> argument is used to search for a cookbook at cookbooks.opscode.com. A search query is used to return a list of cookbooks at cookbooks.opscode.com and uses the same syntax as the <tt class="docutils literal"><span class="pre">search</span></tt> sub-command.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook site search SEARCH_QUERY (options)</pre>
</div>
<p>This argument does not have any options.</p>
<p>For example, to search for all of the cookbooks that can be used with Apache, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook site search apache*
</pre></div>
</div>
<p>to return something like:</p>
<div class="highlight-bash"><div class="highlight"><pre>apache2:
  cookbook:              http://cookbooks.opscode.com/api/v1/cookbooks/apache2
  cookbook_description:  Installs and configures apache2 using Debian symlinks with helper definitions
  cookbook_maintainer:   opscode
  cookbook_name:         apache2
instiki:
  cookbook:              http://cookbooks.opscode.com/api/v1/cookbooks/instiki
  cookbook_description:  Installs instiki, a Ruby on Rails wiki server under passenger+Apache2.
  cookbook_maintainer:   jtimberman
  cookbook_name:         instiki
kickstart:
  cookbook:              http://cookbooks.opscode.com/api/v1/cookbooks/kickstart
  cookbook_description:  Creates apache2 vhost and serves a kickstart file.
  cookbook_maintainer:   opscode
  cookbook_name:         kickstart
<span class="o">[</span>...truncated...<span class="o">]</span>
</pre></div>
</div>
</div>
<div class="section" id="share">
<h2>share<a class="headerlink" href="#share" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">share</span></tt> argument is used to add a cookbook to cookbooks.opscode.com. This action will require a user account and a certificate for community.opscode.com. By default, Knife will use the user name and API key that is identified in the configuration file used during the upload; otherwise these values must be specified on the command line or in an alternate configuration file. If a cookbook already exists on cookbooks.opscode.com, then only an owner or maintainer of that cookbook can make updates.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook site share COOKBOOK_NAME CATEGORY (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">CATEGORY</span></tt></dt>
<dd>The cookbook category: <tt class="docutils literal"><span class="pre">Databases</span></tt>, <tt class="docutils literal"><span class="pre">Web</span> <span class="pre">Servers</span></tt>, <tt class="docutils literal"><span class="pre">Process</span> <span class="pre">Management</span></tt>, <tt class="docutils literal"><span class="pre">Monitoring</span> <span class="pre">and</span> <span class="pre">Trending</span></tt>, <tt class="docutils literal"><span class="pre">Programming</span> <span class="pre">Languages</span></tt>, <tt class="docutils literal"><span class="pre">Package</span> <span class="pre">Management</span></tt>, <tt class="docutils literal"><span class="pre">Applications</span></tt>, <tt class="docutils literal"><span class="pre">Networking</span></tt>, <tt class="docutils literal"><span class="pre">Operations</span> <span class="pre">Systems</span> <span class="pre">and</span> <span class="pre">Virtualization</span></tt>, <tt class="docutils literal"><span class="pre">Utilities</span></tt>, or <tt class="docutils literal"><span class="pre">Other</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">-o</span> <span class="pre">PATH:PATH</span></tt>, <tt class="docutils literal"><span class="pre">--cookbook-path</span> <span class="pre">PATH:PATH</span></tt></dt>
<dd>A colon-separated path at which cookbooks are located.</dd>
</dl>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook site share <span class="s2">&quot;apache2&quot;</span> <span class="s2">&quot;Web Servers&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="show">
<h2>show<a class="headerlink" href="#show" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">show</span></tt> argument is used to view information about a cookbook on cookbooks.opscode.com.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook site show COOKBOOK_NAME [COOKBOOK_VERSION]</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">COOKBOOK_VERSION</span></tt></dt>
<dd>The version of a cookbook to be shown. If a cookbook has only one version, this option does not need to be specified. If a cookbook has more than one version and this option is not specified, a list of cookbook versions will be returned.</dd>
</dl>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook site show haproxy
</pre></div>
</div>
<p>to return something like:</p>
<div class="highlight-bash"><div class="highlight"><pre>average_rating:
category:        Networking
created_at:      2009-10-25T23:51:07Z
description:     Installs and configures haproxy
external_url:
latest_version:  http://cookbooks.opscode.com/api/v1/cookbooks/haproxy/versions/1_0_3
maintainer:      opscode
name:            haproxy
updated_at:      2011-06-30T21:53:25Z
versions:
   http://cookbooks.opscode.com/api/v1/cookbooks/haproxy/versions/1_0_3
   http://cookbooks.opscode.com/api/v1/cookbooks/haproxy/versions/1_0_2
   http://cookbooks.opscode.com/api/v1/cookbooks/haproxy/versions/1_0_1
   http://cookbooks.opscode.com/api/v1/cookbooks/haproxy/versions/1_0_0
   http://cookbooks.opscode.com/api/v1/cookbooks/haproxy/versions/0_8_1
   http://cookbooks.opscode.com/api/v1/cookbooks/haproxy/versions/0_8_0
   http://cookbooks.opscode.com/api/v1/cookbooks/haproxy/versions/0_7_0
</pre></div>
</div>
</div>
<div class="section" id="unshare">
<h2>unshare<a class="headerlink" href="#unshare" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">unshare</span></tt> argument is used to stop the sharing of a cookbook at cookbooks.opscode.com. Only the maintainer of a cookbook may perform this action.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife cookbook site unshare COOKBOOK_NAME</pre>
</div>
<p>This argument does not have any options.</p>
<p>For example, to unshare a cookbook named &#8220;getting-started&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cookbook site unshare getting-started
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="man_knife_cookbook.html" title="cookbook"
             >next</a></li>
        <li class="right" >
          <a href="man_knife_configure.html" title="configure"
             >previous</a> |</li>
        <li><a href="index.html">Opscode: Knife Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Opscode, Inc.
    </div>
  </body>
</html>