

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>rackspace (plug-in) &mdash; Opscode: Knife Reference</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.0.1-1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Opscode: Knife Reference" href="index.html" />
    <link rel="next" title="recipe list" href="man_knife_recipe_list.html" />
    <link rel="prev" title="openstack (plug-in)" href="man_knife_openstack.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="man_knife_recipe_list.html" title="recipe list"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="man_knife_openstack.html" title="openstack (plug-in)"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Opscode: Knife Reference</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/opscode_html_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">rackspace (plug-in)</a><ul>
<li><a class="reference internal" href="#flavor-list">flavor list</a></li>
<li><a class="reference internal" href="#image-list">image list</a></li>
<li><a class="reference internal" href="#server-create">server create</a></li>
<li><a class="reference internal" href="#server-delete">server delete</a></li>
<li><a class="reference internal" href="#server-list">server list</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="man_knife_openstack.html"
                        title="previous chapter">openstack (plug-in)</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="man_knife_recipe_list.html"
                        title="next chapter">recipe list</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/man_knife_rackspace.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="rackspace-plug-in">
<h1>rackspace (plug-in)<a class="headerlink" href="#rackspace-plug-in" title="Permalink to this headline">¶</a></h1>
<p>Rackspace is a cloud-driven platform of virtualized servers that provide services for storage and data, platform and networking, and cloud computing. The <tt class="docutils literal"><span class="pre">rackspace</span></tt> sub-command is used to manage API-driven cloud servers that are hosted by Rackspace cloud services.</p>
<p>This plugin is available on github: <a class="reference external" href="https://github.com/opscode/knife-rackspace">https://github.com/opscode/knife-rackspace</a>.</p>
<p>This sub-command has the following syntax:</p>
<div class="highlight-python"><pre>knife rackspace [ARGUMENT] (options)</pre>
</div>
<div class="section" id="flavor-list">
<h2>flavor list<a class="headerlink" href="#flavor-list" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">flavor</span> <span class="pre">list</span></tt> argument is used to view a list of flavors that are running on servers that are associated with a Rackspace account, including the server ID, server name, architecture, RAM, and disk. The results may show flavor that are not currently managed by the Chef Server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife rackspace flavor list</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">API_KEY</span></tt>, <tt class="docutils literal"><span class="pre">--rackspace-api-key</span> <span class="pre">API_KEY</span></tt></dt>
<dd>The unique alphanumeric identifier that is associated with a Rackspace account.</dd>
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">USER_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--rackspace-username</span> <span class="pre">USER_NAME</span></tt></dt>
<dd>The user name for the Rackspace account.</dd>
<dt><tt class="docutils literal"><span class="pre">--rackspace-api-auth-url</span></tt></dt>
<dd>The URL used to authenticate the Rackspace API key. Default: <tt class="docutils literal"><span class="pre">auth.api.rackspacecloud.com</span></tt>.</dd>
</dl>
</div>
<div class="section" id="image-list">
<h2>image list<a class="headerlink" href="#image-list" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">image</span> <span class="pre">list</span></tt> argument is used to view a list of images that are running on servers that are hosted at a Rackspace cloud services, including returning a list of each server (and server ID).</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife rackspace image list</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">API_KEY</span></tt>, <tt class="docutils literal"><span class="pre">--rackspace-api-key</span> <span class="pre">API_KEY</span></tt></dt>
<dd>The unique alphanumeric identifier that is associated with a Rackspace account.</dd>
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">USER_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--rackspace-username</span> <span class="pre">USER_NAME</span></tt></dt>
<dd>The user name for the Rackspace account.</dd>
<dt><tt class="docutils literal"><span class="pre">--rackspace-api-auth-url</span></tt></dt>
<dd>The URL used to authenticate the Rackspace API key. Default: <tt class="docutils literal"><span class="pre">auth.api.rackspacecloud.com</span></tt>.</dd>
</dl>
</div>
<div class="section" id="server-create">
<h2>server create<a class="headerlink" href="#server-create" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">create</span></tt> argument is used to create a new Rackspace cloud instance. This will provision a new image in Rackspace, perform a Chef bootstrap (using the SSH protocol), and then install Chef on the target system so that it can be run as a chef-client and communicate with a Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife rackspace server create (options)</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">USER_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--rackspace-username</span> <span class="pre">USER_NAME</span></tt></dt>
<dd>The user name for the Rackspace account.</dd>
<dt><tt class="docutils literal"><span class="pre">--bootstrap-version</span> <span class="pre">VERSION&quot;</span></tt></dt>
<dd>The version of Chef to install.</dd>
<dt><tt class="docutils literal"><span class="pre">-d</span> <span class="pre">DISTRO</span></tt>, <tt class="docutils literal"><span class="pre">--distro</span> <span class="pre">DISTRO</span></tt></dt>
<dd>Indicates that a bootstrap operation will use a template file. If this option is used the name of the template file (<tt class="docutils literal"><span class="pre">--template-file</span></tt>) must also be provided. The following distributions are supported: <tt class="docutils literal"><span class="pre">chef-full</span></tt> (the default bootstrap), <tt class="docutils literal"><span class="pre">centos5-gems</span></tt>, <tt class="docutils literal"><span class="pre">fedora13-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-gems</span></tt>, <tt class="docutils literal"><span class="pre">ubuntu10.04-apt</span></tt>, and <tt class="docutils literal"><span class="pre">ubuntu12.04-gems</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">-f</span> <span class="pre">FLAVOR</span></tt>, <tt class="docutils literal"><span class="pre">--flavor</span> <span class="pre">FLAVOR</span></tt></dt>
<dd>The name of the flavor that identifies the hardware configuration of the server, including disk space, memory capacity, and CPU priority.</dd>
<dt><tt class="docutils literal"><span class="pre">-i</span> <span class="pre">IDENTITY_FILE</span></tt>, <tt class="docutils literal"><span class="pre">--identity-file</span> <span class="pre">IDENTITY_FILE</span></tt></dt>
<dd>The SSH identity file used for authentication. Key-based authentication is recommended.</dd>
<dt><tt class="docutils literal"><span class="pre">-I</span> <span class="pre">IMAGE</span></tt>, <tt class="docutils literal"><span class="pre">--image</span> <span class="pre">IMAGE</span></tt></dt>
<dd>The name of the image that identifies the operating system (and version) that will be used to create the virtual machine.</dd>
<dt><tt class="docutils literal"><span class="pre">-j</span> <span class="pre">JSON_ATTRIBS</span></tt>, <tt class="docutils literal"><span class="pre">--json-attributes</span></tt></dt>
<dd>A JSON string that is added to the first run of a chef-client.</dd>
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">API_KEY</span></tt>, <tt class="docutils literal"><span class="pre">--rackspace-api-key</span> <span class="pre">API_KEY</span></tt></dt>
<dd>The unique alphanumeric identifier that is associated with a Rackspace account.</dd>
<dt><tt class="docutils literal"><span class="pre">-M</span> <span class="pre">JSON</span></tt>, <tt class="docutils literal"><span class="pre">--rackspace-metadata</span> <span class="pre">JSON</span></tt></dt>
<dd>A JSON string that contains a metadata hash.</dd>
<dt><tt class="docutils literal"><span class="pre">-N</span> <span class="pre">NAME</span></tt>, <tt class="docutils literal"><span class="pre">--node-name</span> <span class="pre">NAME</span></tt></dt>
<dd>The name of the node on the Chef server.</dd>
<dt><tt class="docutils literal"><span class="pre">-P</span> <span class="pre">PASSWORD</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-password</span> <span class="pre">PASSWORD</span></tt></dt>
<dd>The SSH password. This can be used to pass the password directly on the command line. If this option is not specified (and a password is required) Knife will prompt for the password.</dd>
<dt><tt class="docutils literal"><span class="pre">--prerelease</span></tt></dt>
<dd>Indicates that pre-release Chef gems should be installed.</dd>
<dt><tt class="docutils literal"><span class="pre">-r</span> <span class="pre">RUN_LIST</span></tt>, <tt class="docutils literal"><span class="pre">--run-list</span> <span class="pre">RUN_LIST</span></tt></dt>
<dd>A comma-separated list of roles and/or recipes to be applied.</dd>
<dt><tt class="docutils literal"><span class="pre">--rackspace-api-auth-url</span></tt></dt>
<dd>The URL used to authenticate the Rackspace API key. Default: <tt class="docutils literal"><span class="pre">auth.api.rackspacecloud.com</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">-S</span> <span class="pre">NAME</span></tt>, <tt class="docutils literal"><span class="pre">--server-name</span> <span class="pre">NAME</span></tt></dt>
<dd>The name of the server.</dd>
<dt><tt class="docutils literal"><span class="pre">--template-file</span> <span class="pre">TEMPLATE</span></tt></dt>
<dd>The path to the template file that will be used during a bootstrap operation.</dd>
<dt><tt class="docutils literal"><span class="pre">-x</span> <span class="pre">USERNAME</span></tt>, <tt class="docutils literal"><span class="pre">--ssh-user</span> <span class="pre">USERNAME</span></tt></dt>
<dd>The SSH user name.</dd>
</dl>
<p>To launch a new Rackspace instance with the &#8220;webserver&#8221; role, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife rackspace server create -r <span class="s1">&#39;role[webserver]&#39;</span> --server-name server01 --node-name server01 --image 49 --flavor 2
</pre></div>
</div>
<p>To launch a new Rackspace instance with multiple roles, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife rackspace server create -r <span class="s1">&#39;role[base],role[webserver]&#39;</span> --server-name server01 -N server01 --image 49 --flavor 2
</pre></div>
</div>
</div>
<div class="section" id="server-delete">
<h2>server delete<a class="headerlink" href="#server-delete" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">delete</span></tt> argument is used to delete one or more instances that are running in the Rackspace cloud. The corresponding node on the Chef server can also be deleted with the same action. To find a specific cloud instance, use the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">rackspace</span> <span class="pre">server</span> <span class="pre">list</span></tt> argument. Use the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">node</span> <span class="pre">delete</span></tt> and <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">client</span> <span class="pre">delete</span></tt> sub-commands to delete associated node and client objects (if required).</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife rackspace server delete [SERVER_ID...]</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">API_KEY</span></tt>, <tt class="docutils literal"><span class="pre">--rackspace-api-key</span> <span class="pre">API_KEY</span></tt></dt>
<dd>The unique alphanumeric identifier that is associated with a Rackspace account.</dd>
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">USER_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--rackspace-username</span> <span class="pre">USER_NAME</span></tt></dt>
<dd>The user name for the Rackspace account.</dd>
<dt><tt class="docutils literal"><span class="pre">-N</span> <span class="pre">NODE_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--node-name</span> <span class="pre">NODE_NAME</span></tt></dt>
<dd>The name of the node on the Chef server. This option only has meaning when used with the <tt class="docutils literal"><span class="pre">--purge</span></tt> option.</dd>
<dt><tt class="docutils literal"><span class="pre">-p</span></tt>, <tt class="docutils literal"><span class="pre">--purge</span></tt></dt>
<dd>Indicates that all corresponding nodes on the Chef server will be destroyed, in addition to the Rackspace node itself. This option (by itself) assumes that the node and client have the same name as the server. If they do not, use the <tt class="docutils literal"><span class="pre">--node-name</span></tt> option to specify the correct name for the node.</dd>
<dt><tt class="docutils literal"><span class="pre">--rackspace-api-auth-url</span></tt></dt>
<dd>The URL used to authenticate the Rackspace API key. Default: <tt class="docutils literal"><span class="pre">auth.api.rackspacecloud.com</span></tt>.</dd>
</dl>
<p>For example, to delete a Rackspace instance with an Instance ID of &#8220;12345678&#8221;, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife rackspace server delete 12345678
</pre></div>
</div>
<p>to return:</p>
<div class="highlight-bash"><div class="highlight"><pre>Instance ID: 12345678
Host ID: testexample
Name: slice12345678
Flavor: 1GB server
Image: Ubuntu 10.04 LTS <span class="o">(</span>lucid<span class="o">)</span>
Public DNS Name: 1-1-1-1.static.cloud-ips.com
Public IP Address: 1.1.1.1
Private IP Address: 192.168.1.1
</pre></div>
</div>
<p>Confirm the deletion:</p>
<div class="highlight-bash"><div class="highlight"><pre>Do you really want to delete this server? <span class="o">(</span>Y/N<span class="o">)</span> Y
WARNING: Deleted server 12345678 named slice12345678
</pre></div>
</div>
</div>
<div class="section" id="server-list">
<h2>server list<a class="headerlink" href="#server-list" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">server</span> <span class="pre">list</span></tt> argument is used to find instances that are associated with a Rackspace account. The results may show instances that are not currently managed by the Chef server.</p>
<p>This argument has the following syntax:</p>
<div class="highlight-python"><pre>knife rackspace server list</pre>
</div>
<p>This argument has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-K</span> <span class="pre">API_KEY</span></tt>, <tt class="docutils literal"><span class="pre">--rackspace-api-key</span> <span class="pre">API_KEY</span></tt></dt>
<dd>The unique alphanumeric identifier that is associated with a Rackspace account.</dd>
<dt><tt class="docutils literal"><span class="pre">-A</span> <span class="pre">USER_NAME</span></tt>, <tt class="docutils literal"><span class="pre">--rackspace-username</span> <span class="pre">USER_NAME</span></tt></dt>
<dd>The user name for the Rackspace account.</dd>
<dt><tt class="docutils literal"><span class="pre">--rackspace-api-auth-url</span></tt></dt>
<dd>The URL used to authenticate the Rackspace API key. Default: <tt class="docutils literal"><span class="pre">auth.api.rackspacecloud.com</span></tt>.</dd>
</dl>
<p>For example, to find all Rackspace instances, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife cloud rackspace list
</pre></div>
</div>
<p>to return:</p>
<div class="highlight-bash"><div class="highlight"><pre>Instance ID    Public IP    Private IP    Flavor    Image     State     Name
12345678       1.1.1.1      192.168.1.1   3         49        active    slice12345678
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="man_knife_recipe_list.html" title="recipe list"
             >next</a></li>
        <li class="right" >
          <a href="man_knife_openstack.html" title="openstack (plug-in)"
             >previous</a> |</li>
        <li><a href="index.html">Opscode: Knife Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Opscode, Inc.
    </div>
  </body>
</html>